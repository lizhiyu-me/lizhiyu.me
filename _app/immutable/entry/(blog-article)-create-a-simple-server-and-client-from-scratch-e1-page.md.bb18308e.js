import{S as oa,i as ca,s as la,k as e,q as l,a as u,y as Vs,l as p,m as o,r as i,h as s,c as r,z as Xs,n as h,Q as Ys,b as c,G as a,A as na,g as sa,d as aa,B as ta,M as pa}from"../chunks/index.8378de51.js";import{C as ea}from"../chunks/CodeBlock.1724c7b0.js";function ia(J){let k,v=`<code class="language-ts"><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">"net"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> net<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">handlerData</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handlerData</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">send</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"Welcome, friend."</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">send</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> bufferData <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  socket<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bufferData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"server listening on 127.0.0.1:8080"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>`;return{c(){k=e("pre"),this.h()},l(m){k=p(m,"PRE",{class:!0});var _=o(k);_.forEach(s),this.h()},h(){h(k,"class","language-ts")},m(m,_){c(m,k,_),k.innerHTML=v},p:pa,d(m){m&&s(k)}}}function ua(J){let k,v=`<code class="language-ts"><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">"net"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">net</span><span class="token punctuation">.</span><span class="token function">Socket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

socket<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  host<span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>
  port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> onConnected<span class="token punctuation">)</span><span class="token punctuation">;</span>

socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">decode</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> bufferData <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token string-property property">"msg"</span><span class="token operator">:</span> data <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  socket<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bufferData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`;return{c(){k=e("pre"),this.h()},l(m){k=p(m,"PRE",{class:!0});var _=o(k);_.forEach(s),this.h()},h(){h(k,"class","language-ts")},m(m,_){c(m,k,_),k.innerHTML=v},p:pa,d(m){m&&s(k)}}}function ra(J){let k,v,m,_,xn,ln,P,Ln,un,j,Mn,rn,f,W,Tn,On,Q,zn,Sn,U,An,qn,Z,Gn,Rn,F,Nn,Bn,K,Hn,Jn,V,Wn,Qn,X,Un,Zn,Y,Fn,kn,I,y,Kn,nn,Vn,Xn,D,Yn,ns,fn,b,ss,C,vs,dn,x,as,mn,w,hn,L,ts,vn,E,_n,M,es,yn,T,sn,ps,wn,O,an,os,En,z,tn,cs,bn,S,en,ls,gn,A,is,$n,q,G,_s,Pn,g,us,$,rs,jn,R,ks,In,N,pn,fs,Dn,B,ds,Cn;return w=new ea({props:{$$slots:{default:[ia]},$$scope:{ctx:J}}}),E=new ea({props:{$$slots:{default:[ua]},$$scope:{ctx:J}}}),{c(){k=e("h2"),v=e("a"),m=e("span"),_=l("#"),xn=l("Make a multiplayer card game - Episode 1 | Create a simple server and client from scratch"),ln=u(),P=e("p"),Ln=l(`In the coming weeks, I’ll be updating a series of tutorials on making a
multiplayer online card games base on the rule of the most popular Chinese card
game “Doudizhu”, which means battle with landlord. I divide this series in many
small part to make it easy for most friends. If you know a little javascript,
all the better.`),un=u(),j=e("p"),Mn=l("Parts including:"),rn=u(),f=e("ul"),W=e("li"),Tn=l("create a simple server and client"),On=u(),Q=e("li"),zn=l("play cards in terminal with bots"),Sn=u(),U=e("li"),An=l("communicate with server by protobuf"),qn=u(),Z=e("li"),Gn=l("play cards in terminal with other players"),Rn=u(),F=e("li"),Nn=l("create 2D graphical interface with Cocos Creator"),Bn=u(),K=e("li"),Hn=l("create 2D graphical interface with React"),Jn=u(),V=e("li"),Wn=l("create 3D graphical interface with Three.js"),Qn=u(),X=e("li"),Un=l("add physical lib ammo.js to add a tiny game"),Zn=u(),Y=e("li"),Fn=l("connect to Web3 world"),kn=u(),I=e("p"),y=e("em"),Kn=l("open your terminal, input "),nn=e("code"),Vn=l("node -v"),Xn=l(`, if something go wrong, please install
node.js first `),D=e("a"),Yn=l("https://nodejs.org"),ns=l("."),fn=u(),b=e("p"),ss=l(`directory structure :
`),C=e("img"),dn=u(),x=e("p"),as=l("create a server, server/index.js:"),mn=u(),Vs(w.$$.fragment),hn=u(),L=e("p"),ts=l("create client, client/index.js:"),vn=u(),Vs(E.$$.fragment),_n=u(),M=e("p"),es=l("run :"),yn=u(),T=e("p"),sn=e("code"),ps=l("cd server"),wn=u(),O=e("p"),an=e("code"),os=l("node index.js"),En=u(),z=e("p"),tn=e("code"),cs=l("cd client"),bn=u(),S=e("p"),en=e("code"),ls=l("node index.js"),gn=u(),A=e("p"),is=l("result:"),$n=u(),q=e("p"),G=e("img"),Pn=u(),g=e("p"),us=l(`This episode is end here, the complete demo can be found on
`),$=e("a"),rs=l("https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode1"),jn=u(),R=e("p"),ks=l("Any problems, discussion is welcome."),In=u(),N=e("p"),pn=e("strong"),fs=l(`In the next section, we will add the logic of Doudizhu game, and you will have
completed a playable game in your terminal.`),Dn=u(),B=e("p"),ds=l("Thanks for your reading."),this.h()},l(n){k=p(n,"H2",{id:!0});var t=o(k);v=p(t,"A",{class:!0,title:!0,"aria-hidden":!0,href:!0});var on=o(v);m=p(on,"SPAN",{});var cn=o(m);_=i(cn,"#"),cn.forEach(s),on.forEach(s),xn=i(t,"Make a multiplayer card game - Episode 1 | Create a simple server and client from scratch"),t.forEach(s),ln=r(n),P=p(n,"P",{});var ys=o(P);Ln=i(ys,`In the coming weeks, I’ll be updating a series of tutorials on making a
multiplayer online card games base on the rule of the most popular Chinese card
game “Doudizhu”, which means battle with landlord. I divide this series in many
small part to make it easy for most friends. If you know a little javascript,
all the better.`),ys.forEach(s),un=r(n),j=p(n,"P",{});var ws=o(j);Mn=i(ws,"Parts including:"),ws.forEach(s),rn=r(n),f=p(n,"UL",{});var d=o(f);W=p(d,"LI",{});var Es=o(W);Tn=i(Es,"create a simple server and client"),Es.forEach(s),On=r(d),Q=p(d,"LI",{});var bs=o(Q);zn=i(bs,"play cards in terminal with bots"),bs.forEach(s),Sn=r(d),U=p(d,"LI",{});var gs=o(U);An=i(gs,"communicate with server by protobuf"),gs.forEach(s),qn=r(d),Z=p(d,"LI",{});var $s=o(Z);Gn=i($s,"play cards in terminal with other players"),$s.forEach(s),Rn=r(d),F=p(d,"LI",{});var Ps=o(F);Nn=i(Ps,"create 2D graphical interface with Cocos Creator"),Ps.forEach(s),Bn=r(d),K=p(d,"LI",{});var js=o(K);Hn=i(js,"create 2D graphical interface with React"),js.forEach(s),Jn=r(d),V=p(d,"LI",{});var Is=o(V);Wn=i(Is,"create 3D graphical interface with Three.js"),Is.forEach(s),Qn=r(d),X=p(d,"LI",{});var Ds=o(X);Un=i(Ds,"add physical lib ammo.js to add a tiny game"),Ds.forEach(s),Zn=r(d),Y=p(d,"LI",{});var Cs=o(Y);Fn=i(Cs,"connect to Web3 world"),Cs.forEach(s),d.forEach(s),kn=r(n),I=p(n,"P",{});var xs=o(I);y=p(xs,"EM",{});var H=o(y);Kn=i(H,"open your terminal, input "),nn=p(H,"CODE",{});var Ls=o(nn);Vn=i(Ls,"node -v"),Ls.forEach(s),Xn=i(H,`, if something go wrong, please install
node.js first `),D=p(H,"A",{href:!0});var Ms=o(D);Yn=i(Ms,"https://nodejs.org"),Ms.forEach(s),ns=i(H,"."),H.forEach(s),xs.forEach(s),fn=r(n),b=p(n,"P",{});var ms=o(b);ss=i(ms,`directory structure :
`),C=p(ms,"IMG",{src:!0,alt:!0}),ms.forEach(s),dn=r(n),x=p(n,"P",{});var Ts=o(x);as=i(Ts,"create a server, server/index.js:"),Ts.forEach(s),mn=r(n),Xs(w.$$.fragment,n),hn=r(n),L=p(n,"P",{});var Os=o(L);ts=i(Os,"create client, client/index.js:"),Os.forEach(s),vn=r(n),Xs(E.$$.fragment,n),_n=r(n),M=p(n,"P",{});var zs=o(M);es=i(zs,"run :"),zs.forEach(s),yn=r(n),T=p(n,"P",{});var Ss=o(T);sn=p(Ss,"CODE",{});var As=o(sn);ps=i(As,"cd server"),As.forEach(s),Ss.forEach(s),wn=r(n),O=p(n,"P",{});var qs=o(O);an=p(qs,"CODE",{});var Gs=o(an);os=i(Gs,"node index.js"),Gs.forEach(s),qs.forEach(s),En=r(n),z=p(n,"P",{});var Rs=o(z);tn=p(Rs,"CODE",{});var Ns=o(tn);cs=i(Ns,"cd client"),Ns.forEach(s),Rs.forEach(s),bn=r(n),S=p(n,"P",{});var Bs=o(S);en=p(Bs,"CODE",{});var Hs=o(en);ls=i(Hs,"node index.js"),Hs.forEach(s),Bs.forEach(s),gn=r(n),A=p(n,"P",{});var Js=o(A);is=i(Js,"result:"),Js.forEach(s),$n=r(n),q=p(n,"P",{});var Ws=o(q);G=p(Ws,"IMG",{src:!0,alt:!0}),Ws.forEach(s),Pn=r(n),g=p(n,"P",{});var hs=o(g);us=i(hs,`This episode is end here, the complete demo can be found on
`),$=p(hs,"A",{href:!0,rel:!0});var Qs=o($);rs=i(Qs,"https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode1"),Qs.forEach(s),hs.forEach(s),jn=r(n),R=p(n,"P",{});var Us=o(R);ks=i(Us,"Any problems, discussion is welcome."),Us.forEach(s),In=r(n),N=p(n,"P",{});var Zs=o(N);pn=p(Zs,"STRONG",{});var Fs=o(pn);fs=i(Fs,`In the next section, we will add the logic of Doudizhu game, and you will have
completed a playable game in your terminal.`),Fs.forEach(s),Zs.forEach(s),Dn=r(n),B=p(n,"P",{});var Ks=o(B);ds=i(Ks,"Thanks for your reading."),Ks.forEach(s),this.h()},h(){h(v,"class","heading-link"),h(v,"title","Permalink"),h(v,"aria-hidden","true"),h(v,"href","#make-a-multiplayer-card-game---episode-1--create-a-simple-server-and-client-from-scratch"),h(k,"id","make-a-multiplayer-card-game---episode-1--create-a-simple-server-and-client-from-scratch"),h(D,"href","Link"),Ys(C.src,vs="https://cdn.hashnode.com/res/hashnode/image/upload/v1644775769474/2OAtz4Ljw.jpeg")||h(C,"src",vs),h(C,"alt","demo0-document-tree.jpg"),Ys(G.src,_s="https://cdn.hashnode.com/res/hashnode/image/upload/v1644776034549/t-Jir1j9R.png")||h(G,"src",_s),h(G,"alt","demo0-cmd-result.png"),h($,"href","https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode1"),h($,"rel","nofollow")},m(n,t){c(n,k,t),a(k,v),a(v,m),a(m,_),a(k,xn),c(n,ln,t),c(n,P,t),a(P,Ln),c(n,un,t),c(n,j,t),a(j,Mn),c(n,rn,t),c(n,f,t),a(f,W),a(W,Tn),a(f,On),a(f,Q),a(Q,zn),a(f,Sn),a(f,U),a(U,An),a(f,qn),a(f,Z),a(Z,Gn),a(f,Rn),a(f,F),a(F,Nn),a(f,Bn),a(f,K),a(K,Hn),a(f,Jn),a(f,V),a(V,Wn),a(f,Qn),a(f,X),a(X,Un),a(f,Zn),a(f,Y),a(Y,Fn),c(n,kn,t),c(n,I,t),a(I,y),a(y,Kn),a(y,nn),a(nn,Vn),a(y,Xn),a(y,D),a(D,Yn),a(y,ns),c(n,fn,t),c(n,b,t),a(b,ss),a(b,C),c(n,dn,t),c(n,x,t),a(x,as),c(n,mn,t),na(w,n,t),c(n,hn,t),c(n,L,t),a(L,ts),c(n,vn,t),na(E,n,t),c(n,_n,t),c(n,M,t),a(M,es),c(n,yn,t),c(n,T,t),a(T,sn),a(sn,ps),c(n,wn,t),c(n,O,t),a(O,an),a(an,os),c(n,En,t),c(n,z,t),a(z,tn),a(tn,cs),c(n,bn,t),c(n,S,t),a(S,en),a(en,ls),c(n,gn,t),c(n,A,t),a(A,is),c(n,$n,t),c(n,q,t),a(q,G),c(n,Pn,t),c(n,g,t),a(g,us),a(g,$),a($,rs),c(n,jn,t),c(n,R,t),a(R,ks),c(n,In,t),c(n,N,t),a(N,pn),a(pn,fs),c(n,Dn,t),c(n,B,t),a(B,ds),Cn=!0},p(n,[t]){const on={};t&1&&(on.$$scope={dirty:t,ctx:n}),w.$set(on);const cn={};t&1&&(cn.$$scope={dirty:t,ctx:n}),E.$set(cn)},i(n){Cn||(sa(w.$$.fragment,n),sa(E.$$.fragment,n),Cn=!0)},o(n){aa(w.$$.fragment,n),aa(E.$$.fragment,n),Cn=!1},d(n){n&&s(k),n&&s(ln),n&&s(P),n&&s(un),n&&s(j),n&&s(rn),n&&s(f),n&&s(kn),n&&s(I),n&&s(fn),n&&s(b),n&&s(dn),n&&s(x),n&&s(mn),ta(w,n),n&&s(hn),n&&s(L),n&&s(vn),ta(E,n),n&&s(_n),n&&s(M),n&&s(yn),n&&s(T),n&&s(wn),n&&s(O),n&&s(En),n&&s(z),n&&s(bn),n&&s(S),n&&s(gn),n&&s(A),n&&s($n),n&&s(q),n&&s(Pn),n&&s(g),n&&s(jn),n&&s(R),n&&s(In),n&&s(N),n&&s(Dn),n&&s(B)}}}const da={title:"Make a multiplayer card game - Episode 1",slug:"create-a-simple-server-and-client-from-scratch-e1",coverImage:"/images/posts/blog-posts.jpg",date:"2021-02-01T21:55:15.361Z",excerpt:"Create a simple server and client from scratch",tags:["Tutorial:Make a multiplayer card game"]};class ma extends oa{constructor(k){super(),ca(this,k,null,ra,la,{})}}export{ma as default,da as metadata};
