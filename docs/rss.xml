
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
>
  <channel>
    <atom:link href="https://sveltekit-static-blog-template.vercel.app//rss.xml" rel="self" type="application/rss+xml" />
    <title>SvelteKit Static Blog Template</title>
    <link>https://sveltekit-static-blog-template.vercel.app/</link>
    <description>A light, neat, and easy-to-use SvelteKit template for your next website.</description>
    <image>
      <url>https://sveltekit-static-blog-template.vercel.app//favicons/favicon-32x32.png</url>
      <title>SvelteKit Static Blog Template</title>
      <link>https://sveltekit-static-blog-template.vercel.app/</link>
      <width>32</width>
      <height>32</height>
    </image>
    
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//babylon-trans-2</guid>
          <title>ç†Ÿæ‚‰ç†Ÿæ‚‰å®˜æ–¹æ–‡æ¡£ï¼Œé€æ­¥æ·±å…¥Babylon.js</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//babylon-trans-2</link>
          <pubDate>Thu, 09 Sep 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//babylon-trans-2">
                  read on the site!
                </a>
              </strong>
            </div>

            <h3 id="æ–‡æ¡£çš„ç»„ç»‡ç»“æ„"><a class="heading-link" title="Permalink" aria-hidden="true" href="#æ–‡æ¡£çš„ç»„ç»‡ç»“æ„"><span>#</span></a>æ–‡æ¡£çš„ç»„ç»‡ç»“æ„</h3>
<hr>
<p>é€šè¿‡å‰ä¸€ç¯‡æ–‡ç« çš„äº†è§£ï¼Œæˆ‘ä»¬ä¼šå¯¹Babylon.jsæœ‰äº†ä¸€ä¸ªå¤§è‡´çš„äº†è§£ï¼Œæ•´ä¸ªæ–‡æ¡£ä¸»è¦æ˜¯æƒ³å¸¦ä½ é€æ­¥æ·±å…¥æŒæ¡è¿™ä¸ªBabylon.jsæ‰€æä¾›çš„æ‰€æœ‰å†…å®¹ã€‚
å†…å®¹ä¸»è¦åˆ†ä¸ºä¸€ä¸ªæ¦‚è§ˆå’Œ9ä¸ªä¸»è¦éƒ¨åˆ†ï¼Œè¿™äº›éƒ¨åˆ†åŒ…å«ç« èŠ‚ï¼Œè¿˜æœ‰APIè¯¦è§£å’Œå¼ºå¤§çš„æ–‡æ¡£å’Œplaygroundæœç´¢åŠŸèƒ½ã€‚</p>
<p>- 1.Babylon.jsç‰¹æ€§ -
Babylon.jsæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„æ¸¸æˆå’Œæ¸²æŸ“å¼•æ“ï¼Œå…·æœ‰å¹¿æ³›çš„ç‰¹æ€§ã€‚è¿™ä¸ªéƒ¨åˆ†å°†å¸¦ä½ äº†è§£è¿™äº›ç‰¹æ€§ï¼Œå¹¶å¸®åŠ©ä½ ç¼–ç å’Œä½¿ç”¨å®ƒä»¬ã€‚\
- 2.å°†Babylon.jsæ·»åŠ åˆ°ä½ çš„Webé¡¹ç›®ä¸­ -
æœ‰å¤šç§æ–¹å¼å¯ä»¥åœ¨ä½ çš„webåº”ç”¨ä¸­ä½¿ç”¨Babylon.jså¹¶è®¾ç½®Babylon.jsé¡¹ç›®ã€‚é€šè¿‡è¿™ä¸ªéƒ¨åˆ†å†…å®¹ï¼Œä½ èƒ½äº†è§£åˆ°å¦‚ä½•è½»æ¾åœ°å°†Babylon.jsèå…¥è‡ªå·±çš„é¡¹ç›®ï¼Œå¹¶æ‰“é€ å‡ºåˆ«å…·ä¸€æ ¼çš„äº§å“ï¼Œå¹¶ä¸”è¿˜ä¸ºä½ æä¾›ä¸€äº›é¡¹ç›®æ¨¡æ¿å’Œæ”¯æŒã€‚\
- 3.Playground -
å¯¹Babylon.jsçš„æ ¸å¿ƒèµ„æºè¿›è¡Œè¯¦ç»†çš„æŸ¥çœ‹ï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨å®ƒä»¥åŠå®ƒæ‰€æä¾›çš„è®¸å¤šåŠŸèƒ½è®¾æ–½ï¼ŒåŒ…æ‹¬æœç´¢æ‰€æœ‰playgroundä»¥æŸ¥æ‰¾å…¶ä»–äººæ‰€åšçš„ç¤ºä¾‹ï¼ˆè¿™ä¸€ç‚¹çœŸå¿ƒè§‰å¾—å¾ˆæ£’ï¼‰ã€‚\
- 4.å·¥å…·å’Œèµ„æº -
Babylon.jsæœ‰è®¸å¤šä»¤äººéš¾ä»¥ç½®ä¿¡çš„å·¥å…·ï¼Œä½¿å¼€å‘è¿‡ç¨‹ç®€å•è€Œæ„‰å¿«ã€‚å®ƒè¿˜æœ‰å‡ ä¸ªå†…å®¹åº“ä¾›ä½ å®Œå…¨å…è´¹ä½¿ç”¨ã€‚è¿™ä¸ªéƒ¨åˆ†å°†å¸®åŠ©ä½ ç†è§£å¹¶åˆ©ç”¨ä»–ä»¬ã€‚\
- 5.ä¸ºBabylon.jså‡†å¤‡ç´ æ -
ä»æ¨¡å‹å’ŒåŠ¨ç”»ï¼Œåˆ°çº¹ç†ï¼ŒLUTSå’ŒHDRå›¾åƒï¼Œåœ¨è¿™ä¸ªéƒ¨åˆ†å­¦ä¹ å‡†å¤‡Babylon.jså†…å®¹çš„å·¥ä½œæµå’Œæ–¹æ³•ã€‚\
- 6.Babylon.jsè·¨å¹³å° -
åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•æ‰©å±•Babylon.jsï¼Œå¹¶ä½¿ç”¨å®ƒå¼€å‘å‡ ä¹ä»»ä½•ä½ èƒ½æƒ³è±¡çš„å¹³å°çš„åŸç”Ÿåº”ç”¨ã€‚\
- 7.è´¡çŒ® -
å¯¹äºé‚£äº›æƒ³è¦æ‰©å±•Babylon.jsè¾¹ç•Œçš„äººï¼Œè¿™ä¸ªéƒ¨åˆ†æè¿°äº†éœ€è¦ä»€ä¹ˆä»¥åŠå¦‚ä½•ä¸ºBabylon.jsçš„ä»£ç åº“å’Œæ–‡æ¡£åšå‡ºè´¡çŒ®ã€‚\
- 8.å¼•å¯¼å¼å­¦ä¹  -
æœ‰æ—¶å€™è¾¹åšè¾¹å­¦æ˜¯æœ€å¥½çš„ã€‚è¿™ä¸ªéƒ¨åˆ†å¸®åŠ©ä½ åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™äº›é€æ­¥çš„æ–‡ç« å’Œæ•™ç¨‹å°†å¸®åŠ©ä½ ä»ç¤¾åŒºçš„ä¸€äº›æœ€å¥½å’Œæœ€èªæ˜çš„è€å¸ˆé‚£é‡Œå­¦ä¹ ï¼ˆbabylon.js
ç¤¾åŒºçš„ç»´æŠ¤è€…ä¼¼ä¹æ˜¯çœŸçš„é—²ï¼Œæœ‰æ—¶å€™å¾ˆç®€å•ç”šè‡³çœ‹èµ·æ¥æœ‰äº›å¹¼ç¨šçš„é—®é¢˜éƒ½ä¼šå¾—åˆ°å¾ˆè¯¦ç»†çš„å›ç­”ï¼Œè¿™ä¸€ç‚¹æ˜¯çœŸçš„ä½©æœï¼‰ã€‚\
-9.ç¤¾åŒºæ‰©å±• -
åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œä½ å°†æ‰¾åˆ°ç”±æå…¶æœ‰æ‰åå’Œçƒ­æƒ…çš„ç¤¾åŒºæ„å»ºçš„å¯¹Babylon.jsçš„ä»¤äººéš¾ä»¥ç½®ä¿¡çš„èµ„æºå’Œæ‰©å±•ã€‚</p>
<h3 id="å¦‚ä½•å»ä½¿ç”¨æ–‡æ¡£"><a class="heading-link" title="Permalink" aria-hidden="true" href="#å¦‚ä½•å»ä½¿ç”¨æ–‡æ¡£"><span>#</span></a>å¦‚ä½•å»ä½¿ç”¨æ–‡æ¡£</h3>
<hr>
<p>Babylon.jsæ˜¯ä¸€ä¸ªä¸°å¯Œçš„APIï¼Œå¸Œæœ›å°½å¯èƒ½ç®€å•åœ°åˆ©ç”¨GPUçš„å¼ºå¤§åŠŸèƒ½æ¥æå‡æµè§ˆå™¨çš„ä¸Šç½‘ä½“éªŒã€‚ä½ å¯ä»¥é€šè¿‡ç”¨javascriptæˆ–typescriptç¼–å†™Babylon.jsåœºæ™¯ä»£ç æ¥åˆ©ç”¨è¿™ä¸ªå¼ºå¤§çš„APIã€‚ä¸ºäº†ä¿æŒä¸€è‡´æ€§å¹¶æœ€å¤§åŒ–æ–‡æ¡£çš„å¯è®¿é—®æ€§ï¼Œè¿™äº›é¡µé¢ä¸­æ‰¾åˆ°çš„æ‰€æœ‰ç¤ºä¾‹ä»£ç éƒ½å°†ç”¨javascriptæä¾›ã€‚</p>
<p>æ–‡æ¡£é¡µé¢å¸ƒå±€æœ‰å‡ ä¸ªç‰¹æ€§ï¼Œä½ éœ€è¦äº†è§£è¿™äº›ç‰¹æ€§ï¼Œä»¥ä¾¿åœ¨å­¦ä¹ æ—…ç¨‹ä¸­è·å¾—æœ€å¤§çš„æ”¶ç›Šã€‚
é¦–å…ˆï¼Œæœ€å·¦è¾¹çš„é¢æ¿æ˜¯å¯¼èˆªçª—æ ¼ã€‚è¿™ä¸ªçª—æ ¼æ˜¯ä½ å¯¼èˆªåˆ°æƒ³å»çš„åœ°æ–¹çš„æ–¹å¼ã€‚</p>
<p>![Navigation Pane](<a href="https://doc.babylonjs.com/img/home/home1.jpg" rel="nofollow">https://doc.babylonjs.com/img/home/home1.jpg</a> align=â€œleftâ€)</p>
<p>æ¥ä¸‹æ¥æ˜¯å†…å®¹çª—æ ¼ã€‚å®ƒä½äºä¸­é—´ï¼ŒåŒ…å«ä¸»è¦çš„å†…å®¹å’Œä¿¡æ¯ã€‚</p>
<p>![Content Pane](<a href="https://doc.babylonjs.com/img/home/home2.jpg" rel="nofollow">https://doc.babylonjs.com/img/home/home2.jpg</a> align=â€œleftâ€)</p>
<p>ä¸€äº›é¡µé¢æœ‰å¾ˆå¤šä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯è¢«ç»„ç»‡æˆå­éƒ¨åˆ†ã€‚ç›®å½•çª—æ ¼ä½¿å¾—åœ¨è¾ƒé•¿çš„é¡µé¢ä¸­å¯¼èˆªå˜å¾—å®¹æ˜“ã€‚</p>
<p>![Table of Contents](<a href="https://doc.babylonjs.com/img/home/home4.jpg" rel="nofollow">https://doc.babylonjs.com/img/home/home4.jpg</a> align=â€œleftâ€)</p>
<p>å³è¾¹çš„é¢æ¿æ˜¯ç¤ºä¾‹çª—æ ¼ã€‚å®ƒæä¾›äº†å¯¹å½“å‰é¡µé¢ä¸Šæ¯ä¸ªplaygroundï¼ˆå®æ—¶ç¤ºä¾‹ï¼‰çš„å¿«é€Ÿè®¿é—®ã€‚</p>
<p>![Examples Pane](<a href="https://doc.babylonjs.com/img/home/home3.jpg" rel="nofollow">https://doc.babylonjs.com/img/home/home3.jpg</a> align=â€œleftâ€)</p>
<p>æœ€åï¼Œå¦‚æœä½ åœ¨ç¤ºä¾‹çª—æ ¼ä¸­é€‰æ‹©ä»»ä½•ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒå°†åœ¨é¡µé¢å†…å®¹é¡¶éƒ¨çš„playgroundçª—æ ¼å†…åŠ è½½è¯¥ç¤ºä¾‹ã€‚</p>
<p>![Examples Pane](<a href="https://doc.babylonjs.com/img/home/home5.jpg" rel="nofollow">https://doc.babylonjs.com/img/home/home5.jpg</a> align=â€œleftâ€)</p>
<h3 id="å…³äºç‰ˆæœ¬æ§åˆ¶çš„è¯´æ˜"><a class="heading-link" title="Permalink" aria-hidden="true" href="#å…³äºç‰ˆæœ¬æ§åˆ¶çš„è¯´æ˜"><span>#</span></a>å…³äºç‰ˆæœ¬æ§åˆ¶çš„è¯´æ˜</h3>
<hr>
<p>Babylon.jsæ–‡æ¡£æ˜¯ä»¥Babylon.jsçš„æœ€æ–°ä¸»ç‰ˆæœ¬ä¸ºå‚è€ƒç¼–å†™çš„ã€‚<a href="https://doc.babylonjs.com/typedoc" rel="nofollow">API æ–‡æ¡£</a>æ˜¯é’ˆå¯¹æœ€æ–°çš„æ¯æ—¥æ„å»ºç”Ÿæˆçš„ã€‚</p>
<p>å¦‚æœä½ æƒ³ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬åœ¨æœ¬åœ°å®‰è£…Babylon.jsï¼Œè¯·ä»<a href="https://www.npmjs.com/package/@babylonjs/core" rel="nofollow">npmé¡µé¢</a>é€‰æ‹©æœ€æ–°çš„å‘å¸ƒç‰ˆæœ¬ï¼Œç„¶åè¿è¡Œï¼š</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">npm i @babylonjs/core@preview</code><!-- HTML_TAG_END --></pre>
<p>ä¸è¦å¯¹ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æ„Ÿåˆ°å®³æ€•ã€‚Babylonçš„npmå‘å¸ƒç‰ˆæœ¬è¢«è®¤ä¸ºæ˜¯ç¨³å®šçš„ï¼Œå¹¶ä¸”å·²ç»è¿‡å›¢é˜Ÿçš„å…¨é¢æµ‹è¯•ã€‚</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//babylon-trans-1</guid>
          <title>ä»é›¶å¼€å§‹ï¼Œä¸BabylonJSä¸€èµ·ï¼Œå¼€å¯ä½ çš„Web3Dä¹‹æ—…å§</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//babylon-trans-1</link>
          <pubDate>Wed, 01 Sep 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//babylon-trans-1">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="ä»é›¶å¼€å§‹ä¸babylonjsä¸€èµ·å¼€å¯ä½ çš„web3dä¹‹æ—…å§"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ä»é›¶å¼€å§‹ä¸babylonjsä¸€èµ·å¼€å¯ä½ çš„web3dä¹‹æ—…å§"><span>#</span></a>ä»é›¶å¼€å§‹ï¼Œä¸BabylonJSä¸€èµ·ï¼Œå¼€å¯ä½ çš„Web3Dä¹‹æ—…å§</h2>
<p>![Screen Shot 2022-07-22 at 00.33.32.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1658421252897/Jwqbfh4sf.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421252897/Jwqbfh4sf.png</a> align=â€œleftâ€)</p>
<blockquote><p>æ¬¢è¿æ¥åˆ° BabylonJS é›¶åŸºç¡€æ•™ç¨‹ï¼Œæœ¬æ•™ç¨‹ä¸ºèŒæ–°å¯¼å‘ã€‚æ— è®ºä½ æ˜¯Webå¼€å‘çš„ä¸“å®¶ï¼Œå¯Œæœ‰æƒ³è±¡åŠ›çš„è®¾è®¡å¸ˆï¼Œè¿˜æ˜¯å……æ»¡å¥½å¥‡å¿ƒçš„å­¦ç”Ÿï¼Œåªè¦ä½ å¯¹3Dç›¸å…³çš„å†…å®¹æ„Ÿå…´è¶£ã€‚æœ¬æ•™ç¨‹éƒ½æ˜¯ä½ å­¦ä¹ BabylonJSçš„ç»ä½³å¼€å§‹ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ¯ä¸€ä¸ªBabylonJSçš„åˆå­¦è€…éƒ½ä»æœ¬æ•™ç¨‹å¼€å§‹å­¦ä¹ ã€‚</p></blockquote>
<p>æœ¬æ•™ç¨‹å°†ä¸ä½ ä¸€èµ·ï¼Œåœ¨æµè§ˆå™¨ä¸Šæ‰“é€ ä¸€ä¸ªBabylonJSçš„å°é¡¹ç›®ã€‚ä½ å°†äº†è§£åˆ°BabylonJSçš„æ¼”ä¹ åœºï¼ˆplaygroundï¼‰ï¼Œä»æœ€åŸºç¡€çš„å¼•æ“æ ¸å¿ƒå¼€å§‹ï¼Œå®Œæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„.htmlç½‘é¡µæ–‡ä»¶ã€‚</p>
<h3 id="æ¼”ä¹ åœºplayground"><a class="heading-link" title="Permalink" aria-hidden="true" href="#æ¼”ä¹ åœºplayground"><span>#</span></a>æ¼”ä¹ åœºï¼ˆplaygroundï¼‰</h3>
<p>æ¼”ä¹ åœºæ˜¯ä½ å¼€å‘BabylonJSç¨‹åºæœ€é‡è¦çš„å·¥å…·ï¼Œæ³¨æ„ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</p>
<p>![playground.jpeg](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1658421347293/kOkoHCp2b.jpeg" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421347293/kOkoHCp2b.jpeg</a> align=â€œleftâ€)</p>
<p>åœ¨æ¼”ä¹ åœºä¸­ï¼Œä½ å¯ä»¥éšæ—¶éšåœ°å®è·µä½ çš„æƒ³æ³•ï¼Œæ‰“é€ ä½ çš„å®éªŒé¡¹ç›®ã€‚å°†ä»£ç å†™å…¥å·¦ä¾§çš„ç±»ä¼¼VS Codeçš„ç¼–è¾‘ç•Œé¢ä¸­ï¼Œåœ¨å³ä¾§å°±èƒ½ç«‹é©¬è¿è¡Œæ˜¾ç¤ºç»“æœã€‚</p>
<p>æ¼”ä¹ åœºå°†æ˜¯ä½ å­¦ä¹ æ—…é€”ä¸­çš„è´´å¿ƒå°ä¼™ä¼´ï¼Œå› ä¸ºå®ƒæä¾›äº†å…¨å®‡å®™æœ€ç§‘å­¦çš„å¾ªç¯å­¦ä¹ ä½“ç³»ï¼Œè¾“å…¥ä»£ç -&gt;å¯Ÿçœ‹ç»“æœï¼Œè®©ä½ åœ¨åå¤å®è·µä¸­æ‰¾åˆ°æ„Ÿè§‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç‚¹ååˆ†é‡è¦ï¼Œä½ å¯ä»¥éšæ—¶ä¿å­˜æˆ–åˆ†äº«æ¼”ä¹ åœºçš„å†…å®¹ã€‚è¿™åœ¨ä½ å­¦ä¹ çš„è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æ—¶å˜å¾—ååˆ†æœ‰ç”¨ï¼Œä½ å¯ä»¥é€šè¿‡<a href="https://forum.babylonjs.com/" rel="nofollow">Babylon.js è®ºå›</a>å¯»æ±‚å¸®åŠ©ï¼Œå®˜æ–¹çš„å¼€å‘è€…å’Œç¤¾åŒºå·¥ä½œäººå‘˜éšæ—¶ä¸ºä½ æ•ˆåŠ³ã€‚</p>
<p>å½“æˆ‘ä»¬åœ¨å¸®åŠ©ä½ è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯ä½ èƒ½å°†é—®é¢˜é€šè¿‡æ¼”ç»ƒåœºåˆ†äº«å‡ºæ¥ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±èƒ½å¿«é€Ÿåœ°å®šä½åˆ°é—®é¢˜çš„å…³é”®æ‰€åœ¨ã€‚æ‰€ä»¥ï¼Œåªè¦ä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¿å­˜ä½ çš„æ¼”ç»ƒåœºï¼Œåˆ†äº«åˆ°è®ºå›ã€‚ä½ ä¸€å®šä¼šè¢«æˆ‘ä»¬è¿…é›·ä¸åŠæ©è€³çš„å›å¤é€Ÿåº¦æ‰€éœ‡æ’¼ã€‚</p>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ—¢ç„¶æ¼”ç»ƒåœºè¿™é‡è¦ï¼Œæˆ‘ä»¬å°±æ¥å®æ“ä¸€ä¸‹å§ã€‚</p>
<p>æ–°å»ºä¸€ä¸ªé¡µé¢æ‰“å¼€ä¸‹æ–¹é“¾æ¥ï¼š</p>
<p><a href="https://playground.babylonjs.com/" rel="nofollow">Babylon.js Playground</a></p>
<h3 id="åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåœºæ™¯"><a class="heading-link" title="Permalink" aria-hidden="true" href="#åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåœºæ™¯"><span>#</span></a>åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåœºæ™¯</h3>
<p>æ¬¢è¿æ¥åˆ°æ¼”ä¹ åœºï¼Œä½ åªéœ€è¦åœ¨å·¦è¾¹ä¿®æ”¹/åˆ›å»ºä»£ç ï¼Œå°±èƒ½åœ¨å³è¾¹çª—å£çœ‹è§å®æ—¶è¿è¡Œç»“æœã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬ä¸ºä½ æä¾›çš„ä¸€ä¸ªé»˜è®¤æ¨¡ç‰ˆåœºæ™¯ã€‚å¿«é€Ÿåœ°ç„ä¸€çœ¼ä»£ç ç¼–è¾‘çª—å£çš„ç»¿è‰²æ³¨é‡Šæ–‡å­—ï¼Œè¿™äº›æ–‡å­—ä¼šå‘Šè¯‰ä½ æ¯ä¸€è¡Œä»£ç çš„ä½œç”¨ï¼Œè´´å¿ƒå§ï¼Ÿ</p>
<p>æœ€å¥½çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯åœ¨æ•²ä»£ç ï¼Œè¾¹æ•²è¾¹å­¦ï¼Œè¾¹å­¦è¾¹æ•²ã€‚</p>
<p>æ¥è®©æˆ‘ä»¬æ¥å°è¯•ç»™è¿™ä¸ªé»˜è®¤åœºæ™¯åšäº›è°ƒæ•´ã€‚</p>
<p>20-24è¡Œä»£ç ï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token comment">// Our built-in 'sphere' shape. //å¼•æ“å†…å»ºçš„çƒä½“ã€‚</span>
<span class="token keyword">var</span> sphere <span class="token operator">=</span> <span class="token constant">BABYLON</span><span class="token punctuation">.</span>MeshBuilder<span class="token punctuation">.</span><span class="token function">CreateSphere</span><span class="token punctuation">(</span><span class="token string">"sphere"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>diameter<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> segments<span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> scene<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Move the sphere upward 1/2 its height //å°†çƒä½“ç§»åŠ¨åˆ°å®ƒä¸€åŠé«˜åº¦çš„ä½ç½®,ä¸Šé¢åˆ›å»ºç›´å¾„è®¾ç½®çš„æ˜¯2ï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä½ç½®çš„yå±æ€§æŒ‡ä¸º1</span>
sphere<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>é€‰ä¸­è¿™å‡ è¡Œä»£ç ï¼Œåˆ æ‰å®ƒï¼</p>
<p>ä½ å·²ç»åšå‡ºäº†ç¬¬ä¸€ä¸ªæ”¹åŠ¨ï¼</p>
<p>æ„Ÿè§‰è¿˜ä¸é”™å§ï¼Ÿ</p>
<p>ä½†â€¦ç­‰ä¸€ä¸‹ï¼Œåœºæ™¯å½“ä¸­æ€ä¹ˆæ²¡æœ‰å‘ç”Ÿä»»ä½•äº‹æƒ…ï¼Ÿ</p>
<p>å› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨ä¿®æ”¹äº†ä»£ç ä¹‹åï¼Œéœ€è¦é‡æ–°å¯åŠ¨æ¼”ç»ƒåœºæ‰èƒ½çœ‹åˆ°å˜æ›´ç»“æœã€‚</p>
<p>ä½ å¯ä»¥ç‚¹å‡»å¯åŠ¨æŒ‰é’®</p>
<p>![run.jpeg](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1658421373423/9YF1Zc_hY.jpeg" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421373423/9YF1Zc_hY.jpeg</a> align=â€œleftâ€)</p>
<p>ï¼Œä¹Ÿå¯ä»¥æŒ‰ç»„åˆé”®<code>ALT+ENTER</code></p>
<p>åœºæ™¯ä¸­çš„è¿™ä¸ªçƒä¸è§äº†ï¼Œç¥å¥‡å§ï¼</p>
<p><a href="https://playground.babylonjs.com/#2KRNG9" rel="nofollow">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ</a></p>
<blockquote><p>å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ‰“å¼€é“¾æ¥ï¼Œå¯¹æ¯”è‡ªå·±çš„ä»£ç æ¥æŸ¥æ‰¾é”™è¯¯</p></blockquote>
<p>è®©æˆ‘ä»¬æ¥åšä¸€ç‚¹åˆ«çš„æ”¹åŠ¨ã€‚</p>
<p>æ‰¾åˆ°åˆ›å»ºåœ°é¢çš„ä»£ç æ‰€åœ¨çš„è¡Œï¼Œåœ¨ä¸‹é¢åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">let</span> groundMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">BABYLON</span></span><span class="token punctuation">.</span><span class="token function">StandardMaterial</span><span class="token punctuation">(</span><span class="token string">"Ground Material"</span><span class="token punctuation">,</span> scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
ground<span class="token punctuation">.</span>material <span class="token operator">=</span> groundMaterial<span class="token punctuation">;</span>
ground<span class="token punctuation">.</span>material<span class="token punctuation">.</span>diffuseColor <span class="token operator">=</span> <span class="token constant">BABYLON</span><span class="token punctuation">.</span>Color3<span class="token punctuation">.</span><span class="token function">Red</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>å†æ­¤è¿è¡Œï¼ˆæŒ‰ç»„åˆé”®ALT+ENTER æˆ– ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼‰</p>
<p><a href="https://playground.babylonjs.com/#2KRNG9#1" rel="nofollow">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ</a></p>
<p>æ­å–œï¼ä½ æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æè´¨ï¼Œå¹¶å°†æè´¨èµ‹å€¼ç»™äº†åœ°é¢ï¼Œè¿˜å°†æè´¨çš„æ¼«åå°„é€šé“è®¾ç½®ä¸ºçº¢è‰²ï¼</p>
<p>å¾ˆç®€å•å§ï¼Ÿå¦‚æœä½ è¿˜æœ‰ç‚¹æ‡µä¹Ÿæ²¡å…³ç³»ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„å°±æ˜¯åœ¨å·¦è¾¹è¾“å…¥ä»£ç ï¼Œåœ¨å³è¾¹å¯Ÿçœ‹ç»“æœğŸ˜€</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥å†åšç¬¬ä¸€å°æ”¹åŠ¨ã€‚</p>
<p>æ‰¾åˆ°è¿™ä¸€è¡Œä»£ç ï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript">ground<span class="token punctuation">.</span>material<span class="token punctuation">.</span>diffuseColor <span class="token operator">=</span> <span class="token constant">BABYLON</span><span class="token punctuation">.</span>Color3<span class="token punctuation">.</span><span class="token function">Red</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>ç”¨ä¸‹é¢ä¸¤è¡Œä»£ç æ›¿æ¢æ‰å®ƒï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">let</span> groundTexture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">BABYLON</span></span><span class="token punctuation">.</span><span class="token function">Texture</span><span class="token punctuation">(</span>Assets<span class="token punctuation">.</span>textures<span class="token punctuation">.</span>checkerboard_basecolor_png<span class="token punctuation">.</span>rootUrl<span class="token punctuation">,</span> scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
ground<span class="token punctuation">.</span>material<span class="token punctuation">.</span>diffuseTexture <span class="token operator">=</span> groundTexture<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><a href="https://playground.babylonjs.com/#2KRNG9#2" rel="nofollow">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ</a></p>
<p>æ­å–œ+1ï¼ä½ åˆ›å»ºäº†ä½ çš„ç¬¬ä¸€ä¸ªTextureå¹¶èµ‹å€¼ç»™äº†åœ°é¢æè´¨ã€‚</p>
<p>è®©æˆ‘ä»¬ç»§ç»­ï¼Œåœ¨ä½ æ‰€æœ‰åˆ›å»ºå’Œè®¾ç½®åœ°é¢ç›¸å…³çš„ä»£ç åé¢ï¼Œæ•²å‡ ä¸ªå›è½¦ï¼Œç•™å‡ºç‚¹ç©ºéš™æ¥å±•ç¤ºæ¼”ä¹ åœºæä¾›ç»™æˆ‘ä»¬çš„å¤§æ€å™¨â€”æç¤ºæ¨¡æ¿ã€‚</p>
<p>è¾“å…¥<code>import</code> ä½ å°†çœ‹åˆ°ç•Œé¢ä¸Šç”Ÿæˆäº†ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨é‡Œè¾¹æ˜¯ä»£ç ç‰‡æ®µï¼Œæ¯ä¸€ä¸ªç‰‡æ®µéƒ½æ˜¯ä¸€ä¸ªå°çš„åŠŸèƒ½å®ç°ã€‚</p>
<p>è®©æˆ‘ä»¬é€‰æ‹© <code>Import a Mesh w/Callback</code> ï¼Œå†æŒ‰ä¸‹å›è½¦ã€‚</p>
<p>å¦‚ä¸‹ä»£ç å°†ç«‹å³å‡ºç°åœ¨ä½ çš„è¾“å…¥æ¡†é‡Œï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token constant">BABYLON</span><span class="token punctuation">.</span>SceneLoader<span class="token punctuation">.</span><span class="token function">ImportMesh</span><span class="token punctuation">(</span><span class="token string">"meshName"</span><span class="token punctuation">,</span> <span class="token string">"url to the mesh parent directory"</span><span class="token punctuation">,</span> <span class="token string">"Mesh filename.fileextension"</span><span class="token punctuation">,</span> scene<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>newMeshes<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>æˆ‘ä»¬éœ€è¦åœ¨æ¨¡ç‰ˆä»£ç çš„åŸºç¡€ä¸Šåšä¸€äº›å°å°çš„æ¶¦è‰²ï¼š</p>
<ul><li><p>1.åˆ æ‰<code>meshName</code>,æ³¨æ„éœ€è¦ä¿ç•™å¼•å·ã€‚</p></li>
<li><p>2.å°†<code>&quot;url to the mesh parent directory&quot;</code>ï¼ˆåŒ…æ‹¬åŒå¼•å·ï¼‰ æ›¿æ¢ä¸º<code>Assets.meshes.Yeti.rootUrl</code></p></li>
<li><p>3.å°†â€Mesh filename.fileextensionâ€ ï¼ˆåŒ…æ‹¬åŒå¼•å·ï¼‰æ›¿æ¢ä¸º<code>Assets.meshes.Yeti.filename</code></p></li>
<li><p>4.åœ¨<code>BABYLON.SceneLoader.ImportMesh</code> è¿™ä¸€è¡Œä¸‹é¢ï¼Œåœ¨<code>&quot;});&quot;</code>ä¹‹å‰ï¼Œè¾“å…¥ï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript">newMeshes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scaling <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">BABYLON</span></span><span class="token punctuation">.</span><span class="token function">Vector3</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre></li>
<li><p>5.è¿è¡Œ</p>
<p><a href="https://playground.babylonjs.com/#2KRNG9#3" rel="nofollow">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ</a></p></li></ul>
<p>æ­å–œ+1ï¼ä½ æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ª.gltfæ ¼å¼çš„åŠ¨ç”»æ¨¡å‹ï¼Œå¹¶è°ƒæ•´äº†å®ƒçš„ç¼©æ”¾æ¯”ä¾‹æ¥é€‚é…åœ°é¢ã€‚</p>
<p>æœ€åï¼Œè®©æˆ‘ä»¬æŠŠåˆ›å»ºå¥½çš„åœºæ™¯åŠ¨èµ·æ¥ï¼Œè®©ä»–è·Ÿéšæˆ‘ä»¬çš„é¼ æ ‡æ»‘åŠ¨è€Œè°ƒæ•´é•œå¤´æ˜¾ç¤ºå†…å®¹ã€‚</p>
<p>åˆ é™¤5-9è¡Œçš„ä»£ç ï¼Œè¾“å…¥createarcï¼Œåœ¨æç¤ºä»£ç æ¨¡ç‰ˆåˆ—è¡¨ä¸­é€‰æ‹© <code>Create An Arc Rotate Camera w/Degree</code>ã€‚</p>
<p>å†æ¬¡è¿è¡Œï¼ŒæŒ‰ä½é¼ æ ‡æ‹–åŠ¨æˆ–è€…è§¦æ‘¸æ‹–åŠ¨åœºæ™¯ï¼Œç›¸æœºçš„è§†è§’å°±ä¼šè·Ÿéšä½ çš„æ‹–åŠ¨å’Œæ»‘åŠ¨å˜åŒ–å•¦ã€‚</p>
<blockquote><p>æœ¬ç¯‡ä¸ºç¿»è¯‘BabylonJSå®˜æ–¹æ•™ç¨‹çš„å¼€å§‹,åç»­å°†é™†ç»­æ›´æ–°ç›¸å…³ç³»åˆ—æ–‡ç« </p></blockquote>
<p><a href="https://doc.babylonjs.com/journey/theFirstStep" rel="nofollow">åŸæ–‡é“¾æ¥</a></p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//three-ts-ammo</guid>
          <title>Three.js + Typescript + Ammo.js | A Tiny Shooter Game</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//three-ts-ammo</link>
          <pubDate>Sat, 24 Jul 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//three-ts-ammo">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="threejs--typescript--ammojs--a-tiny-shooter-game"><a class="heading-link" title="Permalink" aria-hidden="true" href="#threejs--typescript--ammojs--a-tiny-shooter-game"><span>#</span></a>Three.js + Typescript + Ammo.js | A Tiny Shooter Game</h2>
<p>æŒ‰ç…§è®¡åˆ’ï¼Œåˆ©ç”¨Three.jså’ŒAmmo.jsåˆ¶ä½œä¸€ä¸ªç‰©ç†å°æ¸¸æˆ.
é€šè¿‡ å­¦ä¹ å€Ÿé‰´ä»¥ä¸‹å‡ ä¸ªå­¦ä¹ èµ„æºï¼š</p>
<ul><li><a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" rel="nofollow">Three.jså®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://space.bilibili.com/1006136755?spm_id_from=333.337.0.0" rel="nofollow">Orillusionå®˜æ–¹</a></li>
<li><a href="https://www.bilibili.com/video/BV13Y4y1q7ZE?p=1" rel="nofollow">MIT çº¿æ€§ä»£æ•° 1080pé«˜æ¸…ä¿®å¤é‡åˆ¶</a></li>
<li><a href="https://en.threejs-university.com/" rel="nofollow">threejs-university</a></li>
<li><a href="https://item.jd.com/1210283611.html" rel="nofollow">ã€ŠWebGLç¼–ç¨‹æŒ‡å—ã€‹</a></li></ul>
<p>å¯¹3Då’ŒThree.jså½¢æˆäº†ä¸€ä¸ªåˆæ­¥çš„è®¤è¯†ã€‚</p>
<p>ç„¶åï¼ŒåŸºäº<a href="https://github.com/hvidal/WebGL-Shooter" rel="nofollow">https://github.com/hvidal/WebGL-Shooter</a>é¡¹ç›®ï¼Œå®Œæˆäº†ä¸€ä¸ªç±»å¡”é˜²çš„ç‰©ç†å°„å‡»æ¸¸æˆã€‚<a href="https://github.com/lizhiyu-me/three-ammo-defense-monster" rel="nofollow">Githubåœ°å€</a></p>
<p>![QQå›¾ç‰‡20220525225341.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1653490446005/K7LQBVVSS.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1653490446005/K7LQBVVSS.png</a> align=â€œleftâ€)</p>
<hr>
<h2 id="å…³é”®æ¦‚å¿µ"><a class="heading-link" title="Permalink" aria-hidden="true" href="#å…³é”®æ¦‚å¿µ"><span>#</span></a>å…³é”®æ¦‚å¿µ</h2>
<h4 id="ä¸¤ä¸ªä¸»ä½“ä¸–ç•Œ"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ä¸¤ä¸ªä¸»ä½“ä¸–ç•Œ"><span>#</span></a>ä¸¤ä¸ªä¸»ä½“ä¸–ç•Œ</h4>
<ul><li>Three.jsçš„è§†å›¾ä¸–ç•Œ <code>THREE.Scene</code></li>
<li>Ammo.jsçš„ç‰©ç†ä¸–ç•Œ <code>Ammo.btDiscreteDynamicsWorld</code></li></ul>
<p>é€šè¿‡è®¾ç½®THREE.Object3D çš„userData.physicsBodyä¸ºAmmo.btRigidBody,å³ä½¿Three.jsçš„ç‰©ä½“æ·»åŠ åˆ°ç‰©ç†ä¸–ç•Œã€‚</p>
<p>æ¯å¸§æ›´æ–°ç‰©ç†ä¸–ç•Œçš„åæ ‡,æ—‹è½¬ç­‰å„é¡¹æ•°æ®åˆ°è§†å›¾ä¸–ç•Œï¼Œå®Œæˆä½ç§»ç¢°æ’çš„åŠæ—¶è°ƒæ•´ã€‚</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">for (let i = 0; i &lt; len; i++) &#123;
			var objThree = this.rigidBodies[i];
			var motionState = objThree.userData.physicsBody.getMotionState();
			if (motionState) &#123;
				motionState.getWorldTransform(this.tempTransform);

				let p = this.tempTransform.getOrigin();
				objThree.position.set(p.x(), p.y(), p.z());

				let q = this.tempTransform.getRotation();
				objThree.quaternion.set(q.x(), q.y(), q.z(), q.w());
			&#125;
		&#125;</code><!-- HTML_TAG_END --></pre>
<h3 id="åŸºç¡€å†…å®¹"><a class="heading-link" title="Permalink" aria-hidden="true" href="#åŸºç¡€å†…å®¹"><span>#</span></a>åŸºç¡€å†…å®¹</h3>
<p>ï¼åˆ›å»ºThree.jsåœºæ™¯</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">        this.renderer = new THREE.WebGLRenderer();
		this.renderer.setClearColor(clearColor);
		this.renderer.setPixelRatio(window.devicePixelRatio);
		this.renderer.setSize(window.innerWidth, window.innerHeight);
		element.appendChild(this.renderer.domElement);
		this.scene = new THREE.Scene();</code><!-- HTML_TAG_END --></pre>
<ul><li>åˆ›å»ºAmmo.jsç‰©ç†ä¸–ç•Œ</li></ul>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">        const collisionConfiguration = new Ammo.btDefaultCollisionConfiguration();
		const dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration);
		const overlappingPairCache = new Ammo.btAxisSweep3(new Ammo.btVector3(-1000, -1000, -1000), new Ammo.btVector3(1000, 1000, 1000));
		const solver = new Ammo.btSequentialImpulseConstraintSolver();

		this.physicsWorld = new Ammo.btDiscreteDynamicsWorld(dispatcher, overlappingPairCache, solver, collisionConfiguration);
		this.physicsWorld.setGravity(new Ammo.btVector3(0, -16, 0));</code><!-- HTML_TAG_END --></pre>
<ul><li>å°„å‡»é€»è¾‘</li></ul>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">shoot() &#123;
		this.raycaster.setFromCamera(this.screenCenter, this.camera);

		this.pos.copy(this.raycaster.ray.direction);
		this.pos.add(this.raycaster.ray.origin);
		this.pos.setZ(this.pos.z - 10);

		const ball = this.factory.createSphere(this.radius, this.mass, this.pos, this.quat, this.ballMaterial);
		ball.castShadow = true;
		ball.receiveShadow = true;

		const body = ball.userData.physicsBody;
		this.pos.copy(this.raycaster.ray.direction);
		this.pos.multiplyScalar(160);
//è°ƒæ•´å­å¼¹é€Ÿåº¦
		body.setLinearVelocity(new Ammo.btVector3(this.pos.x, this.pos.y, this.pos.z));
	&#125;</code><!-- HTML_TAG_END --></pre>
<hr>
<h3 id="å¢åŠ å†…å®¹"><a class="heading-link" title="Permalink" aria-hidden="true" href="#å¢åŠ å†…å®¹"><span>#</span></a>å¢åŠ å†…å®¹:</h3>
<ul><li>è¿å‡»å®ç°</li></ul>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//é¼ æ ‡æŒ‰ä¸‹ä¹‹åï¼Œé—´éš”æ—¶é—´è¶…è¿‡0.2ç§’å³å°„å‡»ä¸€æ¬¡
if (isMouseDowning &amp;&amp; duration &gt; 0.2) &#123;
				duration = 0;
				mouseShooter.shoot();
			&#125;</code><!-- HTML_TAG_END --></pre>
<ul><li>è®¡æ—¶ä½œä¸ºæœ€ç»ˆçš„æ¸¸æˆå¾—åˆ†</li></ul>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function recordTotalTime() &#123;
			if (beginTime == 0) &#123;
				beginTime = new Date().getTime();
			&#125; else &#123;
				let _currentTime = new Date().getTime();
				totalTime += (_currentTime - beginTime);
				document.getElementById(&#39;scoreBar&#39;).innerHTML = Math.floor(totalTime / 1000) + &quot;.&quot; + totalTime % 1000;
				beginTime = _currentTime;
			&#125;
		&#125;</code><!-- HTML_TAG_END --></pre>
<ul><li>æ¸¸æˆç»“æŸåˆ¤æ–­ï¼ˆç‰©ä½“åœ¨æ–œå¡åº•éƒ¨æ‰è½ï¼‰</li></ul>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//æ–œå¡åº•éƒ¨çš„zåæ ‡å€¼è®¡ç®—
var edgeZ = Math.cos(groundRotationX) * groundScaleZ / 2;</code><!-- HTML_TAG_END --></pre>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//åˆ¤æ–­æ–œå¡ä¸Šçš„ç‰©ä½“çš„zè½´åæ ‡æ˜¯å¦å¤§äºæ–œå¡åº•éƒ¨çš„zåæ ‡å€¼
	private checkGameOver(controls, edgeZ): boolean &#123;
		const len = this.rigidBodies_slope.length;
		for (let i = 0; i &lt; len; i++) &#123;
			var objThree = this.rigidBodies_slope[i];
			if (objThree.position.z &gt; edgeZ) &#123;
				controls.enabled = false;
				const message = document.getElementById(&#39;message&#39;);
				const blocker = document.getElementById(&#39;blocker&#39;);
				const gameOver = document.getElementById(&#39;gameOver&#39;);
				blocker.style.display = &#39;none&#39;;
				message.style.display = &#39;none&#39;;
				gameOver.style.display = &#39;block&#39;;
				lockPointer(controls);
				document.getElementById(&#39;score&#39;).innerHTML = document.getElementById(&#39;scoreBar&#39;).innerHTML;
				this.isGameOver = true;
				return true;
			&#125;
		&#125;
	&#125;</code><!-- HTML_TAG_END --></pre>
<p>æ²¡æƒ³åˆ°ç”¨three.jså’Œammo.jsåšä¸€ä¸ªå°DEMOä¼šèŠ±è¿™ä¹ˆå¤šæ—¶é—´å»å­¦ä¹ ,é€šè¿‡è¿™ä¸ªå­¦ä¹ çš„è¿‡ç¨‹ä¹Ÿäº†è§£åˆ°äº†3Då’Œç‰©ç†ç›¸å…³çš„çŸ¥è¯†åœ¨å¹¿åº¦å’Œæ·±åº¦ä¸Šéƒ½æ˜¯å€¼å¾—å»æ¢ç´¢çš„ï¼Œåé¢æˆ‘ä¹Ÿä¼šç»§ç»­åœ¨web3Dçš„æ–¹å‘ä¸Šç»§ç»­æ¢ç´¢å­¦ä¹ ã€‚</p>
<p>åšéš¾è€Œæ­£ç¡®çš„äº‹æƒ…ï¼Œè®©æ­£ç¡®çš„äº‹æƒ…æŒç»­å‘ç”Ÿã€‚</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//starter-three</guid>
          <title>Your  Very  First  Start  Of  Three.js</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//starter-three</link>
          <pubDate>Sat, 17 Jul 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//starter-three">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="your--very--first--start--of--threejs"><a class="heading-link" title="Permalink" aria-hidden="true" href="#your--very--first--start--of--threejs"><span>#</span></a>Your  Very  First  Start  Of  Three.js</h2>
<p>ä½¿ç”¨Three.jsåˆ›å»ºä¸€ä¸ª3Dç½‘é¡µä¸€èˆ¬éƒ½ä¼šç»è¿‡ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ul><li>å¼•å…¥three.jsåº“</li>
<li>åˆ›å»ºåœºæ™¯</li>
<li>åˆ›å»ºç›¸æœº</li>
<li>è®¾ç½®ç›¸æœºä½ç½®</li>
<li>å°†ç›¸æœºæ·»åŠ åˆ°åœºæ™¯</li>
<li>åˆ›å»ºå‡ ä½•ç»“æ„</li>
<li>åˆ›å»ºæè´¨</li>
<li>ç”Ÿæˆ3Dç½‘æ ¼å¯¹è±¡</li>
<li>å°†3Då¯¹è±¡æ·»åŠ åˆ°åœºæ™¯ä¸­</li>
<li>åˆ›å»ºæ¸²æŸ“å™¨</li>
<li>è®¾ç½®æ¸²æŸ“å™¨å°ºå¯¸</li>
<li>å°†æ¸²æŸ“å™¨DOMèŠ‚ç‚¹æ·»åŠ åˆ°ç½‘é¡µDOMæ ‘</li>
<li>æ‰§è¡Œæ¸²æŸ“å™¨æ¸²æŸ“æ–¹æ³•</li></ul>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token comment">//å¼•å…¥three.jsåº“</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">THREE</span> <span class="token keyword">from</span> <span class="token string">'three'</span><span class="token punctuation">;</span>

<span class="token comment">//åˆ›å»ºåœºæ™¯</span>
<span class="token keyword">let</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">THREE</span></span><span class="token punctuation">.</span><span class="token function">Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//åˆ›å»ºç›¸æœº</span>
<span class="token keyword">let</span> camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">THREE</span></span><span class="token punctuation">.</span><span class="token function">PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//è®¾ç½®ç›¸æœºä½ç½®</span>
camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//å°†ç›¸æœºæ·»åŠ åˆ°åœºæ™¯</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//åˆ›å»ºå‡ ä½•ç»“æ„</span>
<span class="token keyword">let</span> boxGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">THREE</span></span><span class="token punctuation">.</span><span class="token function">BoxGeometry</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//åˆ›å»ºæè´¨</span>
<span class="token keyword">let</span> boxMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">THREE</span></span><span class="token punctuation">.</span><span class="token function">MeshBasicMaterial</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> color<span class="token operator">:</span> <span class="token number">0x00ff00</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ç”Ÿæˆ3Dç½‘æ ¼å¯¹è±¡</span>
<span class="token keyword">let</span> boxMesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">THREE</span></span><span class="token punctuation">.</span><span class="token function">Mesh</span><span class="token punctuation">(</span>boxGeometry<span class="token punctuation">,</span> boxMaterial<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//å°†3Då¯¹è±¡æ·»åŠ åˆ°åœºæ™¯ä¸­</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>boxMesh<span class="token punctuation">)</span>

<span class="token comment">//åˆ›å»ºæ¸²æŸ“å™¨</span>
<span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">THREE</span></span><span class="token punctuation">.</span><span class="token function">WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//è®¾ç½®æ¸²æŸ“å™¨å°ºå¯¸</span>
renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//å°†æ¸²æŸ“å™¨DOMèŠ‚ç‚¹æ·»åŠ åˆ°ç½‘é¡µDOMæ ‘</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span>
<span class="token comment">//æ‰§è¡Œæ¸²æŸ“å™¨æ¸²æŸ“æ–¹æ³•</span>
renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span>
</code><!-- HTML_TAG_END --></pre>
<p>æ¸²æŸ“ç»“æœï¼š</p>
<p>![Screenshot 2022-08-10 231635.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660144621974/4fSB9gMQ1p.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660144621974/4fSB9gMQ1p.png</a> align=â€œleftâ€)</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//pomelo</guid>
          <title>Pomelo</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//pomelo</link>
          <pubDate>Sat, 10 Jul 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//pomelo">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="pomelo"><a class="heading-link" title="Permalink" aria-hidden="true" href="#pomelo"><span>#</span></a>Pomelo</h2>
<ul><li>MMO æ¶æ„
![mmo-arch.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660530447301/HZG8e2Xdi.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660530447301/HZG8e2Xdi.png</a>
align=â€œleftâ€)</li>
<li>æ¡†æ¶ä¸­çš„ç»„ä»¶
![pomelo-arch.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660528132891/eOSHlwwyg.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660528132891/eOSHlwwyg.png</a>
align=â€œleftâ€)</li>
<li>æœåŠ¡å™¨æŠ½è±¡
![serverAbst.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660528130690/-pue5j7K2.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660528130690/-pue5j7K2.png</a>
align=â€œleftâ€)</li>
<li>ç›®å½•ç»“æ„
![serverAbsDir.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660530466307/lPdpIhUKb.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660530466307/lPdpIhUKb.png</a>
align=â€œleftâ€)</li>
<li>è¯·æ±‚ï¼å“åº”ã€å¹¿æ’­ç¤ºä¾‹
![req-resp.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660528128116/M7_2QpqG-.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660528128116/M7_2QpqG-.png</a>
align=â€œleftâ€)</li>
<li>RPCè°ƒç”¨æŠ½è±¡
![rpc.png](<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660528124991/QoHoJFTEC.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660528124991/QoHoJFTEC.png</a>
align=â€œleftâ€)</li>
<li>å¯æ’æ‹”ç»„ä»¶ ![components.png](
<a href="https://cdn.hashnode.com/res/hashnode/image/upload/v1660528088852/be3kXe34s.png" rel="nofollow">https://cdn.hashnode.com/res/hashnode/image/upload/v1660528088852/be3kXe34s.png</a>
align=â€œleftâ€)</li></ul>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//synery</guid>
          <title>Combine your computers with Synergy</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//synery</link>
          <pubDate>Sat, 03 Jul 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//synery">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="combine-your-computers-with-synergy"><a class="heading-link" title="Permalink" aria-hidden="true" href="#combine-your-computers-with-synergy"><span>#</span></a>Combine your computers with Synergy</h2>
<p>I used to code on my Mac, but Mac run game engine editor so bad. So I have to work on two computers, one for coding, one for game engine for some game scene.
Itâ€™s not convenient especially code and edit game scene in the same time.</p>
<p>Synergy give me the answer, itâ€™s awsome.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//switch-proxy</guid>
          <title>How To Set Net Proxy on Nintendo Switch & Switch å¼€å¯ä»£ç†åŠ é€Ÿè®¾ç½®æ•™ç¨‹</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//switch-proxy</link>
          <pubDate>Tue, 29 Jun 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//switch-proxy">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="how-to-set-net-proxy-on-nintendo-switch--switch-å¼€å¯ä»£ç†åŠ é€Ÿè®¾ç½®æ•™ç¨‹"><a class="heading-link" title="Permalink" aria-hidden="true" href="#how-to-set-net-proxy-on-nintendo-switch--switch-å¼€å¯ä»£ç†åŠ é€Ÿè®¾ç½®æ•™ç¨‹"><span>#</span></a>How To Set Net Proxy on Nintendo Switch &amp; Switch å¼€å¯ä»£ç†åŠ é€Ÿè®¾ç½®æ•™ç¨‹</h2>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨ä¸­å›½ä¹°Switchä¸€èˆ¬éƒ½æ˜¯ä¹°éå›½è¡Œç‰ˆæœ¬ï¼ˆæ¯•ç«Ÿä¸€ä¸ªæ˜¯å°å–éƒ¨ï¼Œä¸€ä¸ªæ˜¯è¶…å¸‚ï¼Œæ²¡å¾—é€‰ğŸ˜‚ï¼‰ã€‚</p>
<p>ç„¶è€Œä¸ç®¡æ˜¯æ—¥ç‰ˆè¿˜æ˜¯æ¸¯ç‰ˆéƒ½ä¼šé‡åˆ°ä¸€ä¸ªéå¸¸æ£˜æ‰‹çš„é—®é¢˜ï¼Œä¸‹è½½é€Ÿåº¦ç‰¹åˆ«ç‰¹åˆ«æ…¢ï¼Œæ…¢åˆ°ä¸‹è½½ä¸€ä¸ªå¤§ä½œéœ€è¦é•¿è¾¾ä¸€å¤©çš„æ—¶é—´ï¼Œå¹¶ä¸”åœ¨ä¸‹è½½çš„è¿‡ç¨‹ä¸­è¿˜éšæ—¶å¯èƒ½å‡ºç°ç½‘ç»œé”™è¯¯è¿›è€Œä¸­æ–­ï¼Œå¯¼è‡´å‰åŠŸå°½å¼ƒï¼Œç”šè‡³æ€’ç ¸æ¸¸æˆæœºï¼Œä¸ºäº†æˆ‘ä»¬å¯çˆ±çš„ç¬¬ä¹è‰ºæœ¯çš„è½½ä½“å››è‚¢å¥å…¨ï¼Œæƒ…ç»ªç¨³å®šï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç›®å‰è§£å†³æ–¹æ¡ˆä¸»è¦æœ‰ä¸‰ç§ï¼š</p>
<ul><li>ç¬¬ä¸€ç§æ–¹æ¡ˆï¼šä¹°å®ä½“å¡ï¼Œä¸ç”¨ä¸‹è½½ç›´æ¥èµ·é£å¼€è‚ï¼ˆä½ tmä¸æ˜¯åœ¨è¯´åºŸè¯å—ï¼Ÿé€ƒâ€¦ï¼‰</li>
<li>ç¬¬äºŒç§æ–¹æ¡ˆï¼šè´­ä¹°åŠ é€ŸæœåŠ¡ï¼Œä¸€èˆ¬æœ‰åŒ…æœˆ å’Œ
åŒ…æµé‡ä¸¤ç§å¥—é¤ï¼ˆå› ä¸ºä¸‹è½½æ¸¸æˆä¸€èˆ¬éƒ½æ˜¯ä¸´æ—¶æ€§çš„ï¼ŒåŒ…æœˆæœåŠ¡ä¸æ˜¯å¾ˆé€‚åˆï¼Œæµé‡åŒ…çš„æ€§ä»·æ¯”ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘è¦éš†é‡ä»‹ç»ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼‰</li>
<li>ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼šé“›é“›é“›ï¼ˆå°¬ğŸ¤ªï¼‰ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¦éš†é‡ä»‹ç»çš„å†…å®¹äº†ï¼ˆå‰é¢çš„éƒ½æ˜¯åºŸè¯ï¼‰ï¼Œä¸ç”¨ä¹°å®ä½“å¡ï¼Œä¸ç”¨å¦å¤–ä¹°å¥—é¤ï¼Œåªè¦ç§‘å­¦ä¸Šç½‘ï¼Œå°±å¯ä»¥å…è´¹åŠ é€Ÿã€‚</li></ul>
<p>å…ˆä¸Šå¯¹æ¯”å›¾ï¼š</p>
<p>åŠ é€Ÿå‰ï¼š</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1650898882578/FT3OClfMx.JPG" alt="IMG_3909.JPG">
åŠ é€Ÿåï¼š
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1650899126802/dRAp0N5fn.JPG" alt="IMG_3911.JPG"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸‹è½½é€Ÿåº¦æå‡äº†20å‡ å€ï¼Œç›´æ¥èµ·é£ğŸ›«ï¸</p>
<h3 id="ç‰©æ–™å‡†å¤‡"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ç‰©æ–™å‡†å¤‡"><span>#</span></a>ç‰©æ–™å‡†å¤‡ï¼š</h3>
<ul><li>Switch</li>
<li>ç¬”è®°æœ¬ç”µè„‘</li>
<li>ç§‘å­¦ä¸Šç½‘è£…ç½®ï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯ClashX
<a href="https://github.com/Fndroid/clash_for_windows_pkg" rel="nofollow">Windows ä¸‹è½½åœ°å€</a>ï¼Œ<a href="https://github.com/yichengchen/clashX/releases" rel="nofollow">Mac ä¸‹è½½åœ°å€</a>)</li>
<li>ç§‘å­¦ä¸Šç½‘æœåŠ¡å•†ï¼ˆè‡ªå·±æœ‰åœ¨ç”¨çš„æ¢¯å­è·³è¿‡æ­¤æ­¥éª¤ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥è¯•è¯•æˆ‘ç”¨çš„è¿™ä¸ªï¼Œå«AgentNeoï¼Œæ¯”è¾ƒå°ä¼—ï¼Œæˆ‘å·²ç»ç”¨äº†å¥½å¤šå¹´äº†ï¼Œå¯ä»¥è¯´æ˜¯ä¸ç®¡é‡åˆ°ä»€ä¹ˆå¤§äº‹å°æƒ…ï¼Œå§‹ç»ˆç¨³å¦‚è€ç‹—
<a href="https://agneo.co/?rc=9gmtay3q" rel="nofollow">AgentNeoæ³¨å†Œåœ°å€</a>ï¼‰</li></ul>
<h3 id="ä¸‹é¢ä»‹ç»æ­¥éª¤"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ä¸‹é¢ä»‹ç»æ­¥éª¤"><span>#</span></a>ä¸‹é¢ä»‹ç»æ­¥éª¤ï¼š</h3>
<ul><li><p>æ‰¾åˆ°ç¬”è®°æœ¬ç”µè„‘ipå’Œç§‘å­¦ä¸Šç½‘ä»£ç†ç«¯å£å¤‡ç”¨</p>
<p>ç«¯å£ï¼šå¯ä»¥åœ¨ClashXé‡ŒæŸ¥æ‰¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé»˜è®¤ä¸€èˆ¬ä¸º7890
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1650898449982/zRxRr7oQm.png" alt="Screen Shot 2022-04-25 at 22.50.08.png">
ipï¼šWindowsåœ¨cmdå†…è¾“å…¥ipconfigï¼ŒMac&amp;Linuxåœ¨ç»ˆç«¯è¾“å…¥ifconfigæŸ¥çœ‹</p></li>
<li><p>ç¡®è®¤ç¬”è®°æœ¬ç”µè„‘å’ŒSwitchè¿å…¥åŒä¸€ä¸ªWifi</p></li>
<li><p>æ‰“å¼€Switch-è®¾ç½®-äº’è”ç½‘-äº’è”ç½‘è®¾ç½®-å½“å‰è¿æ¥çš„ç½‘ç»œ-æ›´æ”¹è®¾ç½®-ä»£ç†æœåŠ¡å™¨è®¾ç½®-æ‰“å¼€-è¾“å…¥ä¸Šä¸€æ­¥æ‰¾åˆ°çš„ipå’Œç«¯å£-ä¿å­˜-è¿æ¥åˆ°æ­¤ç½‘ç»œ</p></li></ul>
<blockquote><p>å¦‚æœä½ çš„ç§»åŠ¨è®¾å¤‡ä¸Šè£…æœ‰Shadowrocketï¼Œåˆ™å¯ä»¥åœ¨ <code>è®¾ç½®-ä»£ç†-ä»£ç†å…±äº«</code>
é‡Œæ‰¾åˆ°ä»£ç†ipå’Œç«¯å£ï¼Œç„¶åé€šè¿‡ä½ çš„æ‰‹æœºæˆ–å¹³æ¿è¿›è¡Œä»£ç†åŠ é€Ÿ</p></blockquote>
<p>ç„¶åå°±æ„‰å¿«åœ°ç©è€å§</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//ssh-vscode</guid>
          <title>Remote Development using SSH on VS Code</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//ssh-vscode</link>
          <pubDate>Tue, 22 Jun 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//ssh-vscode">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="remote-development-using-ssh-on-vs-code"><a class="heading-link" title="Permalink" aria-hidden="true" href="#remote-development-using-ssh-on-vs-code"><span>#</span></a>Remote Development using SSH on VS Code</h2>
<blockquote><p>I have to say amazing after remote ssh on vs code. Debugging and preview
remote on vs code is what I want for a long time. What a pity, itâ€™s too late
to meet ğŸ¤£.</p></blockquote>
<p><em>The Visual Studio Code Remote - SSH extension allows you to open a remote
folder on any remote machine, virtual machine, or container with a running SSH
server and take full advantage of VS Codeâ€™s feature set. Once connected to a
server, you can interact with files and folders anywhere on the remote
filesystem.</em></p>
<h3 id="step1-generate-an-ssh-key"><a class="heading-link" title="Permalink" aria-hidden="true" href="#step1-generate-an-ssh-key"><span>#</span></a>Step1: Generate an SSH Key</h3>
<p>execute: <code>ssh-keygen</code></p>
<p>output:</p>
<code>Generating public/private rsa key pair.</code>
<code>Enter file in which to save the key (/Users/user-name/.ssh/id_rsa):
</code>input the absolute path here.
<code>Enter passphrase (empty for no passphrase):</code>
<p>Then, you got two file in your <code>.ssh</code> directory. Something like</p>
<code>tutorial</code> and <code>tutorial.pub</code>.
<h3 id="step2-copy-the-key-to-a-server"><a class="heading-link" title="Permalink" aria-hidden="true" href="#step2-copy-the-key-to-a-server"><span>#</span></a>Step2: Copy the key to a server</h3>
<blockquote><p>Once an SSH key has been created, theÂ ssh-copy-idÂ command can be used to
install it as anÂ authorized keyÂ on the server. Once the key has been
authorized for SSH, it grants access to the server without a password.</p></blockquote>
<code>ssh-copy-id -i ~/.ssh/mykey user@host</code>
<blockquote><p>Only the public key is copied to the server. The private key should never be
copied to another machine.</p></blockquote>
<h3 id="step3-install-vs-code-extension"><a class="heading-link" title="Permalink" aria-hidden="true" href="#step3-install-vs-code-extension"><span>#</span></a>Step3: Install VS Code extension</h3>
<p>Download
<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh" rel="nofollow">Remote-SSH</a></p>
<h3 id="step4create-a-config-file"><a class="heading-link" title="Permalink" aria-hidden="true" href="#step4create-a-config-file"><span>#</span></a>Step4:Create a config file</h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">Host aws-ec2 
    HostName 188.188.1.8
    User ubuntu
    IdentityFile /Users/user-name/.ssh/file-name</code><!-- HTML_TAG_END --></pre>
<ul><li>Host (aws-ec2) is just a name that will appear in VS Code. It can be any name.</li>
<li>HostName is the serverâ€™s host or IP.</li>
<li>User is the Ubuntu username.</li>
<li>IdentityFile is the path to the private key.</li></ul>
<h3 id="step5configure-in-vs-code"><a class="heading-link" title="Permalink" aria-hidden="true" href="#step5configure-in-vs-code"><span>#</span></a>Step5:Configure in VS Code</h3>
<ul><li>Show all command to find remote-ssh
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648022794029/EspPFbrLX.png" alt="Screen Shot 2022-03-23 at 15.55.57.png"></li>
<li>Excute the Connect to Host</li></ul>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648022891947/BJyLSm7Dc.png" alt="Screen Shot 2022-03-23 at 15.58.21.png"></p>
<ul><li><p>Configure SSH Hosts
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648023023626/_TlWDnHiM.png" alt="Screen Shot 2022-03-23 at 16.00.48.png"></p></li>
<li><p>Setting configure path
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648022973080/7I55W6URy.png" alt="Screen Shot 2022-03-23 at 16.00.29.png"></p></li></ul>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648023404479/sgPmyCYvT.png" alt="Screen Shot 2022-03-23 at 16.01.03.png"></p>
<ul><li>Excute the Connect to Host Select one you have configired.</li></ul>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648023568401/5bbDnDVqP.png" alt="Screen Shot 2022-03-23 at 16.03.19.png"></p>
<p>Then, connected.
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648023433958/rFVHxZNBP.png" alt="Screen Shot 2022-03-23 at 16.04.06.png"></p>
<p>Enjoy remote developing, debug and preview locally with the power of VS Code.</p>
<p>Thanks for your reading.</p>
<p>Have a good day.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//parcel</guid>
          <title>Utilize Parcel  To Enjoy  TypeScrpit Out Of The Box</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//parcel</link>
          <pubDate>Tue, 15 Jun 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//parcel">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="utilize-parcel--to-enjoy--typescrpit-out-of-the-box"><a class="heading-link" title="Permalink" aria-hidden="true" href="#utilize-parcel--to-enjoy--typescrpit-out-of-the-box"><span>#</span></a>Utilize Parcel  To Enjoy  TypeScrpit Out Of The Box</h2>
<blockquote><p>If you are code with TypeScript mostly, you may counter some hassles when running or debugging with tranditional web tools. Parcel may be the hassles killer.</p></blockquote>
<ul><li><p>Zero config with parcel index.html</p></li>
<li><p>Debug TS with soure map</p></li>
<li><p>Hot reloading</p></li></ul>
<p>and more amazing features <a href="https://parceljs.org/" rel="nofollow">https://parceljs.org/</a>.</p>
<ul><li><p><code>mkdir parcel--starter-demo</code></p></li>
<li><p><code>cd ./parcel--starter-demo</code></p></li>
<li><p><code>yarn init -y </code> || <code>npm init -y</code></p></li>
<li><p><code>yarn add parcel --dev</code> || <code>npm install -D parcel</code></p></li>
<li><p><code>touch main.ts</code></p></li></ul>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">let</span> content_string<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"Hello Parcel!"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> content_string<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><code>touch index.html</code></p>
<pre class="language-html"><!-- HTML_TAG_START --><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./main.ts<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>moudule<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code><!-- HTML_TAG_END --></pre>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"parcel-demo"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"dev"</span><span class="token operator">:</span><span class="token string">"parcel ./index.html"</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"parcel"</span><span class="token operator">:</span> <span class="token string">"^2.7.0"</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p><code>yarn start</code> || <code>npm run start</code></p>
<p>So easy, is it?</p>
<p>Enjoy coding.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//npm-script</guid>
          <title>The powerful and useful tool - NPM Scripts</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//npm-script</link>
          <pubDate>Tue, 08 Jun 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//npm-script">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="the-powerful-and-useful-tool---npm-scripts"><a class="heading-link" title="Permalink" aria-hidden="true" href="#the-powerful-and-useful-tool---npm-scripts"><span>#</span></a>The powerful and useful tool - NPM Scripts</h2>
<blockquote><p>In the project which the series articles introduce, we should generate the script file from <code>.proto</code> file, debug by starting client and server process.  Itâ€™s not convenient to excute the command repeatly. The solution to make development simple is config the commands in npm scripts.</p></blockquote>
<h3 id="what-is-a-npm-script"><a class="heading-link" title="Permalink" aria-hidden="true" href="#what-is-a-npm-script"><span>#</span></a>What is a npm script?</h3>
<p>Npm allows scripting commands to be defined using the scripts field in the package.json file.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">&#123;
  // ...
  &quot;scripts&quot;: &#123;
    &quot;build&quot;: &quot;node build.js&quot;
  &#125;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>The above code is a fragment of the package.json file, and the scripts field in it is an object. Each of its properties corresponds to a script. For example, the script corresponding to the build command is node build.js.</p>
<p>Use the npm run command from the command line to execute this script.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">$ npm run build
# is equivalent to executing
$ node build.js</code><!-- HTML_TAG_END --></pre>
<p>These scripts defined in package.json are called npm scripts. It has many advantages.</p>
<p>Project-related scripts can be centralized in one place.
Script commands of different projects can have the same external interface as long as they have the same function. We donâ€™t need to know how to test your project,  just run npm run test.
There are many helper functions that npm provides.
To view all npm script commands for the current project,  you can use the npm run command without any arguments.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">$ npm run</code><!-- HTML_TAG_END --></pre>
<hr>
<p>Bellow is the <code>package.json</code> <code>scripts </code>section in my series article project:</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"start-server"</span><span class="token operator">:</span> <span class="token string">"ts-node server/index.ts"</span><span class="token punctuation">,</span>
    <span class="token property">"start-client"</span><span class="token operator">:</span> <span class="token string">"ts-node client/index.ts"</span><span class="token punctuation">,</span>
    <span class="token property">"pbts"</span><span class="token operator">:</span> <span class="token string">"./share/proto/protoc --plugin=protoc-gen-ts_proto=./node_modules/.bin/protoc-gen-ts_proto --ts_proto_opt=esModuleInterop=true --ts_proto_out=. ./share/proto/card-game.proto"</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></code><!-- HTML_TAG_END --></pre>
<p>Before I config the scripts section, I should input the command in my terminal everytime. Now, I just input <code>npm run start-server</code> to establish a server and <code>npm run start-client</code>  to run a client.</p>
<p>Npm scripts make my development easier and save much time for me.</p>
<p>We can do almost all build tasks with npm scripts,  if you have interests, read the reference to get more.</p>
<p>References: </p>
<p>[https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/](<a href="https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/%EF%BC%89" rel="nofollow">https://www.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/ï¼‰</a> by Keith Cirkel</p>
<p><a href="https://www.ruanyifeng.com/blog/2016/10/npm_scripts.html" rel="nofollow">https://www.ruanyifeng.com/blog/2016/10/npm_scripts.html</a> by Ruanyifeng</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//jest</guid>
          <title>Unit Test Using Jest</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//jest</link>
          <pubDate>Mon, 31 May 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//jest">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="unit-test-using-jest"><a class="heading-link" title="Permalink" aria-hidden="true" href="#unit-test-using-jest"><span>#</span></a>Unit Test Using Jest</h2>
<blockquote><p>Recently, I make a package about poker ruler logic from the project in the series articles which is writing. I need to check the correction of each poker rule when I change the code involved. So I add Jest to have a auto unit test.</p></blockquote>
<ol><li>Install packages, for js, only jest is nessary below.</li></ol>
<code>npm i -D jest ts-jest @types/jest</code>
2. Jest config in package.json
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//package.json

&quot;jest&quot;: &#123;
    &quot;moduleFileExtensions&quot;: [
      &quot;ts&quot;,&quot;js&quot;
    ],
    &quot;transform&quot;: &#123;
      &quot;\.(ts|tsx)$&quot;: &quot;&lt;rootDir&gt;/node_modules/ts-jest/preprocessor.js&quot;
    &#125;,
    &quot;testRegex&quot;: &quot;/__tests__/.*\.(ts)$&quot;
  &#125;</code><!-- HTML_TAG_END --></pre>
<p>3.Make a directory named â€<strong>test</strong>â€, and make a file suffix with â€œ_specâ€.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">src
Â·Â·Â·
â”œâ”€â”€ __tests__
â”‚   â””â”€â”€ ruler_spec.ts
Â·Â·Â·</code><!-- HTML_TAG_END --></pre>
<p>4.Write test code in ruler_spec.ts</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">import &#123; E_TYPE &#125; from &quot;../Config&quot;;
import &#123;Ruler&#125; from &quot;../Ruler&quot;;

var ruler = new Ruler();

describe(&#39;type-check&#39;, () =&gt; &#123;
    it(&#39;DOUBLE_JOKER&#39;, () =&gt; &#123;
        expect(ruler.checkCardType([0x4e, 0x4f])).toBe(E_TYPE.DOUBLE_JOKER);
    &#125;)
    it(&#39;QUADRUPLE&#39;, () =&gt; &#123;
        expect(ruler.checkCardType([0x02, 0x02, 0x02, 0x02])).toBe(E_TYPE.QUADRUPLE);
    &#125;)
    it(&#39;SINGLE&#39;, () =&gt; &#123;
        expect(ruler.checkCardType([0x02])).toBe(E_TYPE.SINGLE);
    &#125;)
    it(&#39;QUADRUPLE_TAKE_TWO_DOUBLE&#39;, () =&gt; &#123;
        expect(
            ruler.checkCardType([0x03, 0x03, 0x03, 0x03, 0x04, 0x04, 0x05, 0x05])
        ).toBe(E_TYPE.QUADRUPLE_TAKE_TWO_DOUBLE);
    &#125;);
    it(&#39;QUADRUPLE_TAKE_TWO_SINGLE&#39;, () =&gt; &#123;
        expect(
            ruler.checkCardType([0x03, 0x03, 0x03, 0x03, 0x04, 0x05])
        ).toBe(E_TYPE.QUADRUPLE_TAKE_TWO_SINGLE);
    &#125;);
&#125;)

describe(&#39;can-defeat&#39;, () =&gt; &#123;
    it(&#39;DOUBLE_JOKER vs SINGLE&#39;, () =&gt; &#123;
        expect(ruler.canDefeat([0x4e, 0x4f], [0x01], E_TYPE.SINGLE).can).toBe(true);
    &#125;)
&#125;)
</code><!-- HTML_TAG_END --></pre>
<p>Code structure like below is nessary:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">describe(&quot;desc-title&quot;,()=&gt;&#123;
      it(&quot;unit-desc-name&quot;,()=&gt;&#123;
          expect(function-you-want).toBe(res-you-want)
    &#125;)
&#125;)</code><!-- HTML_TAG_END --></pre>
<p>If you get stuck, you can check <a href="https://github.com/lizhiyu-me/chinese-poker" rel="nofollow">the repo</a> anytime.</p>
<p>Thanks for your reading.</p>
<p>Have a good day.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//epic-game-lib</guid>
          <title>Three Ways To Show Your Games Back In Epic Launcher</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//epic-game-lib</link>
          <pubDate>Tue, 18 May 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//epic-game-lib">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="three-ways-to-show-your-games-back-in-epic-launcher--epic-æ¸¸æˆåº“ä¸è§äº†æ¶ˆå¤±äº†è¿™æ ·æ‰¾å›æ¥"><a class="heading-link" title="Permalink" aria-hidden="true" href="#three-ways-to-show-your-games-back-in-epic-launcher--epic-æ¸¸æˆåº“ä¸è§äº†æ¶ˆå¤±äº†è¿™æ ·æ‰¾å›æ¥"><span>#</span></a>Three Ways To Show Your Games Back In Epic Launcher &amp; Epic æ¸¸æˆåº“ä¸è§äº†ï¼Ÿæ¶ˆå¤±äº†ï¼Ÿè¿™æ ·æ‰¾å›æ¥</h2>
<p>æ—¶å€¼51å‡æœŸï¼Œæˆ‘çš„ä¸€ä¸ªç™½å«–äº†å¾ˆå¤šEpicå•†åŸæ¸¸æˆçš„æœ‹å‹ã€‚
ä»–è·Ÿæˆ‘è¯´ï¼Œæ˜¨å¤©ä»–æ‰“å¼€Epicå‡†å¤‡ç©ã€Šæ–‡æ˜6ã€‹çš„æ—¶å€™ï¼Œçªç„¶å‘ç°æ¸¸æˆåº“é‡Œé¢çš„æ¸¸æˆéƒ½ä¸è§äº†ï¼Œæœ›ç€å¾€æ—¥è¾›è¾›è‹¦è‹¦æ‘†ç™½å«–è€Œæ¥çš„æ•´æ•´100å¤šä¸ªæ¸¸æˆ,å¦‚ä»Šå˜å¾—ç©ºç©ºè¡è¡ï¼Œä»–é™·å…¥äº†æ²‰æ€ï¼Œå»å„å¤§ç½‘ç«™æœç´¢å‡æ— ç»“æœï¼Œæ‰¬è¨€è¦å¸è½½Epicä»¥æ³„æ„¤æ€’ã€‚</p>
<p>å½“æˆ‘å¾—çŸ¥æ­¤æ¶ˆæ¯åï¼Œç¬¬ä¸€æ—¶é—´é€šè¿‡é‚®ä»¶çš„æ–¹å¼å¸®åŠ©ä»–è”ç³»äº†Epicå®˜æ–¹å®¢æœï¼Œæ²¡æƒ³å¾ˆå¿«å°±æ”¶åˆ°å¯¹æ–¹çš„å›ä¿¡ï¼Œç¡®å®šäº†æœ¬æœºåŸå› åï¼Œå¯¹æ–¹ç»™å‡ºäº†å¦‚ä¸‹3ä¸ªè§£å†³æ–¹æ¡ˆã€‚
æœ€ç»ˆæˆ‘çš„æœ‹å‹é€šè¿‡ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ‰¾å›äº†ä»–çš„æ‰€æœ‰æ¸¸æˆï¼Œäºæ˜¯ä¹ï¼Œæˆ‘çš„æœ‹å‹åƒå¾€å¸¸ä¸€æ ·ï¼Œè¿›å…¥äº†ä»–çš„æ¸¸æˆä¸–ç•Œï¼Œå¿«ä¹å¾—åƒä¸ªå­™å­ã€‚</p>
<h3 id="disable-fullscreen-optimization"><a class="heading-link" title="Permalink" aria-hidden="true" href="#disable-fullscreen-optimization"><span>#</span></a>Disable fullscreen optimization</h3>
<ul><li>Shut down Epic Games launcher completely.</li>
<li>Go into the directory where it is installed, right-click on the launcher exe
file, and click properties (Epic
Games\Launcher\Engine\Binaries\Win64\EpicGamesLauncher.exe).</li>
<li>Go into the Compatibility tab.</li>
<li>Make sure you check the â€œDisable fullscreen optimizationsâ€.</li>
<li>While you are there, you can also check â€œRun this program as an
administratorâ€. Click Apply and Ok</li></ul>
<h3 id="clear-your-launchers-webcache"><a class="heading-link" title="Permalink" aria-hidden="true" href="#clear-your-launchers-webcache"><span>#</span></a>Clear your launcherâ€™s webcache</h3>
<ul><li>Exit the Epic Games Launcher by right-clicking the system tray icon in the
bottom-right corner, and then clicking Exit.</li>
<li>Press Windows key + R, type â€œ%localappdata%â€, and then press Enter to open a
File Explorer window.</li>
<li>Open the Epic Games Launcher folder.</li>
<li>Open the Saved folder.</li>
<li>Click the webcache folder, and then delete it.</li>
<li>If there is a folder called webcache_4147 that can be deleted as well</li>
<li>Restart your computer, and then relaunch the Epic Games Launcher.</li></ul>
<h3 id="reinstall-the-epic-games-launcher"><a class="heading-link" title="Permalink" aria-hidden="true" href="#reinstall-the-epic-games-launcher"><span>#</span></a>Reinstall the Epic Games Launcher</h3>
<blockquote><p>Note: The following process will remove all of your installed games.</p></blockquote>
<ul><li>Close the Epic Games launcher by right-clicking the system tray icon in the
bottom right corner and then clicking Exit.</li>
<li>Click Start.</li>
<li>Type â€œcmdâ€, right-click Command Prompt, and then click Run as administrator.
In the window that opens, type â€œsfc /scannowâ€, and then press Enter. This may
take a little while.</li>
<li>Restart your computer.</li>
<li>Click Start.</li>
<li>Type â€œAdd or Remove Programsâ€, and then press Enter.</li>
<li>Select Epic Games Launcher from the list of programs.</li>
<li>Click Uninstall.</li>
<li>Go to <a href="http://www.epicgames.com" rel="nofollow">www.epicgames.com</a> and click Get Epic Games in the top right corner to
download the latest installer.</li></ul>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//enum-js</guid>
          <title>Get Enums (Enumerations) In Javascript | Using JS Doc</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//enum-js</link>
          <pubDate>Tue, 11 May 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//enum-js">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="get-enums-enumerations-in-javascript--using-js-doc"><a class="heading-link" title="Permalink" aria-hidden="true" href="#get-enums-enumerations-in-javascript--using-js-doc"><span>#</span></a>Get Enums (Enumerations) In Javascript | Using JS Doc</h2>
<blockquote><p>When I write javascript, I encounter a problem that there is no enum in javascript, and I accustomed to use enum to organise my code when write typescript. So I want to get a resolution to use enum in javascript.</p></blockquote>
<h4 id="what-you-can-get"><a class="heading-link" title="Permalink" aria-hidden="true" href="#what-you-can-get"><span>#</span></a>What you can get:</h4>
<ul><li>Enum in javascript</li>
<li>Intellisense in IDE</li></ul>
<h3 id="what-tsc-do-when-compile-ts-to-js-with-enum"><a class="heading-link" title="Permalink" aria-hidden="true" href="#what-tsc-do-when-compile-ts-to-js-with-enum"><span>#</span></a>What tsc do, when compile ts to js with enum.</h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//.ts
enum E1&#123;
    A,B,C
&#125;</code><!-- HTML_TAG_END --></pre>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//.js
var E1;
(function (E1) &#123;
    E1[E1[&quot;A&quot;] = 0] = &quot;A&quot;;
    E1[E1[&quot;B&quot;] = 1] = &quot;B&quot;;
    E1[E1[&quot;C&quot;] = 2] = &quot;C&quot;;
&#125;)(E1 || (E1 = &#123;&#125;));</code><!-- HTML_TAG_END --></pre>
<h3 id="define-a-function-to-generate-enum-like-tsc"><a class="heading-link" title="Permalink" aria-hidden="true" href="#define-a-function-to-generate-enum-like-tsc"><span>#</span></a>Define a function to generate enum like tsc</h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//generateEnum.mjs
export default function generateEnum(protoArr) &#123;
    let _enum = &#123;&#125;;
    for (let i = 0; i &lt; protoArr.length; i++) &#123;
        const _protoName = protoArr[i];
        const _cmdID = i;
        _enum[_enum[_protoName] = _cmdID] = _protoName;
    &#125;
    return _enum;
&#125;</code><!-- HTML_TAG_END --></pre>
<h3 id="define-a-enum-in-dts"><a class="heading-link" title="Permalink" aria-hidden="true" href="#define-a-enum-in-dts"><span>#</span></a>Define a enum in <code>d.ts</code></h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//type.d.ts
export interface ENUM_CMD_FN &#123;
    ready_C2S,
    dealCards_S2C,
    competeForLandLordRole_C2S,
    playTurn,
    playCards_C2S,
    playCards_S2C,
    notAllowedByRule_S2C,
    gameEnd_S2
&#125;</code><!-- HTML_TAG_END --></pre>
<h3 id="import-and-define-type-in-javascript"><a class="heading-link" title="Permalink" aria-hidden="true" href="#import-and-define-type-in-javascript"><span>#</span></a>Import and define type in javascript</h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">/**
 * @typedef &#123;import(&quot;./type&quot;).ENUM_CMD_FN&#125; ENUM_CMD_FN 
 */</code><!-- HTML_TAG_END --></pre>
<h3 id="type-and-get-your-enum-variable"><a class="heading-link" title="Permalink" aria-hidden="true" href="#type-and-get-your-enum-variable"><span>#</span></a>Type and get your enum variable</h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">import generateEnum from &quot;./generateEnum.mjs&quot;
/** 
 * @type ENUM_CMD_FN
 */
const ENUM_CMD_FN = generateEnum(
    [
        &quot;ready_C2S&quot;,
        &quot;dealCards_S2C&quot;,
        &quot;competeForLandLordRole_C2S&quot;,
        &quot;playTurn&quot;,
        &quot;playCards_C2S&quot;,
        &quot;playCards_S2C&quot;,
        &quot;notAllowedByRule_S2C&quot;,
        &quot;gameEnd_S2C&quot;
    ]);</code><!-- HTML_TAG_END --></pre>
<p>Then,  the same as typescript.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1647939621415/S1EmPUiOo.gif" alt="enum-gif.gif"></p>
<p>If you want to get the codes above, check the <a href="https://github.com/lizhiyu-me/js-enum-generator" rel="nofollow">demo code</a> .</p>
<p>Thanks for your reading.</p>
<p>Have a nice day.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//diy-github-homepage</guid>
          <title>DIY your own Github Home Page | Introduce a cool plugin</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//diy-github-homepage</link>
          <pubDate>Tue, 04 May 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//diy-github-homepage">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="diy-your-own-github-home-page--introduce-a-cool-plugin"><a class="heading-link" title="Permalink" aria-hidden="true" href="#diy-your-own-github-home-page--introduce-a-cool-plugin"><span>#</span></a>DIY your own Github Home Page | Introduce a cool plugin</h2>
<ul><li>Create a repo which name the same as your github user name</li>
<li>Go this site <a href="https://metrics.lecoq.io/" rel="nofollow">https://metrics.lecoq.io/</a><ul><li>Choose what you want to display</li>
<li>Generate Mardown code</li>
<li>Paste the code to <code>README.md</code> in your repo create above</li></ul></li></ul>
<p>Then, you have a DIY metric in your github home page.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//recap-1</guid>
          <title>Just Do it, Recap On These Blog Days From 3 Months Ago & å†™å°±å¯¹äº†, å›é¡¾è¿™ä¸‰ä¸ªæœˆä»¥æ¥çš„åšå®¢æ—¶é—´ğŸ”–</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//recap-1</link>
          <pubDate>Mon, 03 May 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//recap-1">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="just-do-it-recap-on-these-blog-days-from-3-months-ago--å†™å°±å¯¹äº†-å›é¡¾è¿™ä¸‰ä¸ªæœˆä»¥æ¥çš„åšå®¢æ—¶é—´"><a class="heading-link" title="Permalink" aria-hidden="true" href="#just-do-it-recap-on-these-blog-days-from-3-months-ago--å†™å°±å¯¹äº†-å›é¡¾è¿™ä¸‰ä¸ªæœˆä»¥æ¥çš„åšå®¢æ—¶é—´"><span>#</span></a>Just Do it, Recap On These Blog Days From 3 Months Ago &amp; å†™å°±å¯¹äº†, å›é¡¾è¿™ä¸‰ä¸ªæœˆä»¥æ¥çš„åšå®¢æ—¶é—´ğŸ”–</h2>
<p>è‡ªä»Šå¹´2æœˆ1å·æ°´äº†ä¸€ç¯‡è‡ªæˆ‘ä»‹ç»å¼€å§‹ï¼Œè¿˜å·®å‡ å¤©å°±æ•´æ•´ä¸‰ä¸ªæœˆäº†ã€‚</p>
<h3 id="èµ·å› "><a class="heading-link" title="Permalink" aria-hidden="true" href="#èµ·å› "><span>#</span></a>èµ·å› </h3>
<p>å…¨èŒå·¥ä½œä¸Šçš„é¡¹ç›®å› ä¸ºç‰ˆå·ã€äººå‘˜çš„é—®é¢˜å¤„äºä¸€ä¸ªåŠŸèƒ½å®Œæ•´ç­‰å¾…ä¸Šçº¿çš„é˜¶æ®µï¼Œæ‰€ä»¥è¿™æ®µæ—¶é—´æœ‰æ›´å¤šçš„æ—¶é—´å†™ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„ä¸œè¥¿ï¼ŒæŠŠä¹‹å‰æƒ³å®ç°çš„ç¨‹åºä¸²èµ·æ¥è·‘ä¸€ä¸‹ã€‚</p>
<p>æˆ‘æ˜¯ä»å°çš„æ—¶å€™å¼€å§‹å°±å–œæ¬¢<strong>åšå®¢</strong>è¿™ä¸ªä¸œè¥¿ï¼Œå°å­¦åˆä¸­å°±çˆ±åœ¨QQç©ºé—´å‘ä¸€äº›æœ‰çš„æ²¡çš„ç°åœ¨çœ‹èµ·æ¥æœ‰ç‚¹ä¸çŸ¥æ‰€äº‘çš„æ–‡ç« ã€‚å†åæ¥å¾®åšä¹‹ç±»çš„çŸ­æ–‡å‘å¸ƒæµè¡Œèµ·æ¥ï¼Œqqç©ºé—´æ…¢æ…¢å˜ä¸ºå°å­¦ç”Ÿç©ºé—´ï¼Œå¾®ä¿¡å¼€å§‹å®Œç†Ÿäººåœˆå­ç¤¾äº¤ï¼Œæˆ‘å°±åŸºæœ¬ä¸Šå¤„äºä¸€ä¸ªæ½œæ°´çš„çŠ¶æ€ã€‚å‘ç°Hashnodeè¿™ä¸ªå¹³å°çº¯å±æ„å¤–ï¼Œæˆ‘ç”šè‡³éƒ½å¿˜äº†åœ¨å“ªé‡Œçœ‹åˆ°çš„ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥æŠŠåšå®¢ç»‘å®šåˆ°è‡ªå·±çš„åŸŸåï¼Œå¯ä»¥æŠŠæ–‡ç« ä»¥Markdownçš„æ ¼å¼è‡ªåŠ¨å¤‡ä»½åˆ°Githubï¼Œä»…æ­¤ä¸¤ç‚¹å°±å·²æ·±å¾—æˆ‘å¿ƒï¼Œç›´æ¥æŠ›å¼ƒè‡ªå»ºåšå®¢ç½‘ç«™çš„å¼‚å¿µã€‚</p>
<p>å‰å‰ååæ€»å…±å†™äº†20ç¯‡ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªâ€å¦‚ä½•åšä¸€ä¸ªå¤šäººè”æœºå¡ç‰Œæ¸¸æˆâ€œç³»åˆ—è¿˜åœ¨æŒç»­æ›´æ–°ä¸­ï¼Œå¤§å¤šæ•°æ–‡ç« éƒ½æ˜¯åœ¨ä»£ç å®ç°çš„åŸºç¡€ä¸Šå®Œæˆçš„ï¼Œæ–‡å­—å†…å®¹å¾ˆå°‘ï¼Œç›¸å½“äºæ˜¯é¡¹ç›®å®ç°å†ç¨‹çš„æ–‡å­—è®°å½•ã€‚</p>
<hr>
<blockquote><p>ä¸Šé¢åºŸè¯äº†èµ·å› ï¼Œä¸‹é¢æ¥è¯´è¯´ç»è¿‡ï¼ˆæ‰¿ä¸Šå¯ä¸‹ï¼‰ã€‚</p></blockquote>
<h3 id="ç»è¿‡ä½“ä¼šæ„Ÿæ‚Ÿ"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ç»è¿‡ä½“ä¼šæ„Ÿæ‚Ÿ"><span>#</span></a>ç»è¿‡&amp;ä½“ä¼š&amp;æ„Ÿæ‚Ÿ</h3>
<p>ä»‹äºè‡ªå·±ä»¥å‰çš„æµ…è–„äººç”Ÿç»å†ï¼Œæœ‰å‡ ä»¶äº‹æƒ…æ˜¯å†™äº†åšå®¢æ‰æœ‰å¹¸æ·±åˆ»ä½“ä¼š</p>
<ul><li>ä¸€ä»¶äº‹æƒ…æˆ–è€…ä¸€ä¸ªæŠ€èƒ½ï¼ŒçŸ¥é“ã€ä¼šç”¨ ä¸èƒ½å¤Ÿæ¸…æ™°åœ°è¡¨è¾¾å‡ºæ¥å¯ä»¥è¯´æ˜¯ä¸¤å›äº‹ã€‚è¿™ä¸­é—´å­˜åœ¨ä¸€ä¸ªçŸ¥è¯†çš„å†…åŒ–è¿‡ç¨‹ï¼Œä»¥åŠå‘ç°æå‡ºé—®é¢˜-&gt;å‰–æé—®é¢˜-&gt;åˆ†è§£é—®é¢˜-&gt;è§£å†³é—®é¢˜çš„æµç¨‹è®¤çŸ¥ã€‚</li>
<li>æŒç»­åœ°æœ‰è§„å¾‹çš„åšæŒä¸€ä»¶äº‹æƒ…ï¼Œåœ¨è¿˜æ²¡å½¢æˆä¹ æƒ¯æˆ–ä¸€å®šç¨‹åº¦çš„æ­£å‘åé¦ˆçš„æ—¶å€™ï¼Œæ˜¯åäººæ€§çš„ï¼Œæˆ‘ä»¬éƒ½ä¼šä»¥å„ç§å€Ÿå£åœ¨å„ä¸ªé˜¶æ®µé€‰æ‹©æ”¾å¼ƒã€‚ä¸€èˆ¬ä¼šç»å†å‰æœŸçš„å…´å¥‹ï¼Œä¸­æœŸçš„å€¦æ€ ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ï¼Œæ‰€è°“â€œä»å…¥é—¨åˆ°æ”¾å¼ƒâ€å°±æ˜¯å¾ˆå¥½çš„è¯ é‡Šã€‚</li>
<li>å†…å®¹çš„è¾“å‡ºæ˜¯äºŒæ¬¡è¾“å…¥ï¼Œè¾“å‡ºä¼šå€’é€¼è¾“å…¥ã€‚</li>
<li>å†™ä¹Ÿæ˜¯æƒ³æ³•äº§å‡ºçš„ä¸€éƒ¨åˆ†ï¼Œä¸‹ç¬”æˆ–æ‰“å­—çš„æ—¶å€™æ˜¯çœŸçš„ä¼šä¿ƒè¿›æ€è€ƒçš„ã€‚</li>
<li>éšæ—¶è®°ä¸‹çµæ„Ÿï¼Œç„¶åç»„åˆæˆä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„å†…å®¹ã€‚</li>
<li>å¤šçœ‹ï¼Œå¤šå¬ã€‚çœ‹åšå®¢çœ‹æ–°é—»çœ‹ç¤¾äº¤åª’ä½“çœ‹èº«è¾¹çš„äººéƒ½åœ¨æ‰‹æœºä¸Šå¹²ä»€ä¹ˆï¼Œå¬æ’­å®¢å¬è§†é¢‘å¬å‘¨å›´çš„äººéƒ½åœ¨è¯´äº›ä»€ä¹ˆï¼Œèƒ½å¤Ÿå‘ç°å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„æ”¶è·ï¼Œæ¯”å¦‚å¯¹ä¸€ä¸ªäº§å“çš„éœ€æ±‚ã€‚</li>
<li>è¿åŠ¨ä¼šäº§ç”Ÿå¤šå·´èƒºã€è¡€æ¸…ç´ ã€å†…å•¡è‚½ï¼Œèƒ½å¤Ÿæé«˜å¤§è„‘çš„æ´»è·ƒåº¦ã€‚</li>
<li>æœ‰æ„è¯†çš„æ‹“å±•è®¤çŸ¥çš„è¾¹ç•Œï¼Œé€šè¿‡ç½‘è¯¾ã€ä¹¦ç±ã€è®²åº§äº†è§£ä¸€ä¸‹è·Ÿè‡ªå·±æ‰€å¤„å®Œå…¨ä¸åŒè¡Œä¸šï¼Œå®Œå…¨ä¸åŒçš„èŒèƒ½çš„ä¸œè¥¿ã€‚é€šè¿‡è¿™ä¸ªåŠ¨ä½œï¼Œæœ‰æ—¶å€™ä¼šæ„Ÿå—åˆ°ä¸€äº›å¥½çš„ä¸œè¥¿ï¼Œå¥½çš„äººçš„å…±æ€§ï¼Œè¦æ˜¯èƒ½æŠŠæ¡ä½è¿™ä¸ªå…±æ€§ï¼Œå°±å¾ˆäº†ä¸èµ·äº†ã€‚</li>
<li>ä¸è¦æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ³›æ³›è€Œå­¦ï¼Œç„¶åæ„Ÿè§‰è‡ªå·±ä»€ä¹ˆéƒ½æ‡‚ä¸€ä¸¢ä¸¢ï¼Œè°­è­¦å®˜é—®ä½ èƒ½ä¸èƒ½æ‡‚çš„æ—¶å€™ï¼Œä½ åªä¼šè¯´ï¼Œâ€œåªèƒ½æ‡‚ä¸€ç‚¹ç‚¹â€ï¼Œå§‹ç»ˆä¸Šä¸äº†æˆåå¤§é“ã€‚æ‰€ä»¥å¿…é¡»è¦æœ‰è‡ªå·±ä¸“æ³¨çš„é¢†åŸŸï¼Œå› ä¸ºç¤¾ä¼šåˆ†å·¥çš„å¤§ç¯å¢ƒä¸‹ï¼Œæ›´éœ€è¦ä¸“æ‰ï¼Œå½“ç„¶ä¸€ä¸“å¤šèƒ½æ˜¯æ›´å¥½çš„ï¼Œä½†å‰æå°±æ˜¯è¦æœ‰ç –æ‰è¡Œã€‚åœ¨å­¦ä¹ çš„å‰æœŸï¼Œå¯Œæœ‰ä½™åŠ›çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘å…ˆå¹¿åº¦åæ·±åº¦çš„æ¨¡å¼ã€‚</li>
<li>åƒä¸‡ä¸è¦åšä¸ªè‹¦è¡Œåƒ§ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¢«ä¸€å¥è¯ã€ä¸€é¦–æ­Œã€ä¸€æœ¬ä¹¦ã€ä¸€ä¸ªäººç‚¹ç‡ƒäº†ï¼Œç„¶åå°±æƒ³å¹²ç¥¨å¤§çš„ï¼Œè‡ªå·±è¦æ€ä¹ˆæ€ä¹ˆå¤´æ‚¬æ¢é”¥åˆºè‚¡ï¼Œä¹ä¹å…«åä¸€å¤©ä¹‹åè®©åˆ«äººåˆ®ç›®ç›¸çœ‹ã€‚æˆ‘ä»¬è¦å°Šé‡è‡ªç„¶ï¼Œå°Šé‡äººæ˜¯è‡ªç„¶ç•Œçš„ä¸€ä¸ªç”Ÿç‰©ï¼Œä¸æ˜¯è¶…è„±äºä¸‰ç•Œä¹‹å¤–çš„æ¸¸ç¥ï¼ŒæŒ‰ç…§ç”Ÿç‰©å–œæ¬¢çš„æ–¹å¼å¯¹å¾…è‡ªå·±ï¼Œè®¤è¯†è‡ªå·±ï¼Œå¾ªå¾ªå–„è¯±ï¼Œæ¯”å¦‚åœ¨å‡†å¤‡æäº‹æƒ…ä¹‹å‰æ¥ä¸€æ¯ç”œç”œçš„æ‹¿é“ã€‚</li>
<li>è‚ä¸åŠ¨äº†å°±ä¼‘æ¯ï¼Œäººåœ¨ç¡è§‰çš„æ—¶å€™å¤§è„‘è¿˜æ²¡ç¡ï¼Œå¤§è„‘è¿˜åœ¨è‡ªä¸»è¿è½¬ï¼Œå¯¹ç¼“å­˜åŒºçš„è¿›è¡Œæ•´ç†ï¼Œå¯¹åƒåœ¾ä¿¡æ¯è¿›è¡Œå›æ”¶ï¼Œä¼‘æ¯å¥½äº†å¾€å¾€äº‹åŠåŠŸå€ã€‚</li>
<li>åšèƒ½è®©è‡ªå·±å…´å¥‹çš„äº‹æƒ…ï¼Œæ¯”å¦‚æˆ‘åœ¨å†™ä»£ç å®ç°è‡ªå·±æƒ³å®ç°çš„ä¸œè¥¿çš„æ—¶å€™å°±éå¸¸å…´å¥‹ï¼Œçœ‹è§åˆ«äººçš„å¥½é¡¹ç›®çš„æ—¶å€™ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåˆ†äº«è‡ªå·±çš„æ‹™è§çš„æ—¶å€™ä¹Ÿä¼šå¾ˆæ˜æ˜¾çš„æ„Ÿè§‰åˆ°å¿«ä¹ï¼Œå¹¶ä¸”è¿™ç§å…´å¥‹ä¼šæ­£å‘åé¦ˆç»™ä½ ï¼Œä¿ƒä½¿ä½ ä¸‹ä¸€æ¬¡ç»§ç»­åšè¿™ä¸ªäº‹æƒ…ã€‚è¿™å¯èƒ½å°±æ˜¯å…´è¶£çš„å®šä¹‰å§ã€‚æˆ‘çœ‹è§å¥½å¤šåšä¸»ï¼Œæœ‰ä¸€ä¸ªå…±åŒçš„ç°è±¡ï¼Œé›†ä¸­åœ¨ä¸€æ®µæ—¶é—´å†…å‘å¸ƒäº†å¥½å¤šå†…å®¹ï¼Œåé¢æ›´æ–°çš„é¢‘ç‡å°±å¾ˆæ…¢äº†ï¼Œç„¶åå°±æ¶ˆå¤±äº†ï¼Œè·Ÿæˆ‘ä»¥å‰æŠ¥å¥èº«æˆ¿çš„ç»å†ä¸€æ¨¡ä¸€æ ·ã€‚æ’é™¤ä¸€äº›ä¸å¯æŠ—åŠ›å› ç´ ï¼Œè¿™å½“ä¸­åº”è¯¥æ˜¯å°‘äº†ä¸€ç‚¹å…´è¶£æˆåˆ†ï¼Œè¦ä¸ç„¶æ€ä¹ˆçˆ±å› æ–¯å¡”ä¼šè¯´â€œå…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆâ€å‘¢ã€‚</li>
<li>é¿å…æ‰å…¥è§„æ•´ä¸»ä¹‰ï¼Œå®Œç¾ä¸»ä¹‰çš„é™·é˜±ã€‚æ„Ÿè§‰è‡ªå·±è¦å¼€å§‹æä¸€ä»¶å¤§äº‹äº†ï¼Œè¦éƒ¨ç½²å„ç§è½¯ç¡¬ä»¶ç¯å¢ƒï¼Œè¢«åˆ«äººå®‰åˆ©å„ç§ç”Ÿäº§åŠ›å·¥å…·ï¼Œé…ä¸Šç‰›é€¼çš„ç”µè„‘ï¼Œæ¤…å­ï¼Œæ¡Œå­ï¼Œé”®ç›˜ï¼Œé¼ æ ‡ï¼Œè€³æœºï¼Œæ¸¸æˆæœºï¼ˆé€ƒâ€¦ï¼‰ã€‚ç„¶åè‡ªå·±éƒ½å¿˜äº†è‡ªå·±è¦å¹²å˜›äº†ã€‚å…ˆåšèµ·æ¥å†è¯´ï¼Œè¦æŠŠæ¡æ ¸å¿ƒï¼Œæ¯”å¦‚ç›®æ ‡æ˜¯å‘å‰èµ°1000ç±³ï¼Œè¿ˆå¼€æ­¥èµ°å°±è¡Œäº†ï¼Œä»€ä¹ˆè·‘é‹ï¼Œè·‘è¢œï¼Œè¿åŠ¨å¥—è£…ï¼Œæ™ºèƒ½è®¾å¤‡ï¼Œéƒ½å¯ä»¥åœ¨èµ°çš„è¿‡ç¨‹ä¸­æŒ‰éœ€æ·»ç½®ã€‚å­¦ä¼šæ„Ÿå—æ··æ²Œä¹‹ç¾ï¼Œå¤ªæä¹‹ç¾ï¼Œä¸­åº¸ä¹‹ç¾ã€‚é²è¿…æ›¾ç»è¯´è¿‡ï¼šJust Do It.å°±æ˜¯è¿™ä¸ªé“ç†ã€‚</li>
<li>è¦è®¾å®šç›®æ ‡ï¼Œå¹¶è®¾å®šä¸€ä¸ªéœ€è¦ç”¨åŠ²å„¿æ‰èƒ½å®ç°çš„ç›®æ ‡ã€‚å”å¤ªå®—æ›¾ç»è¯´è¿‡â€œå–æ³•äºä¸Š,ä»…å¾—ä¸ºä¸­,å–æ³•äºä¸­,æ•…ä¸ºå…¶ä¸‹â€ï¼Œæ„æ€æ˜¯ä½ å®šä¸ªå°ç›®æ ‡ç›¸å½“äºå•¥éƒ½å¾—ä¸åˆ°ã€‚</li>
<li>éµå¾ªä¸€ä¸ªç®€å•çš„åŸåˆ™ï¼Œè€å­æ›¾è¯´ï¼Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©ã€‚ç‰›é€¼çš„ä¸œè¥¿å¾€å¾€æ˜¯ç®€å•çš„ï¼Œè€ƒè™‘ä¸œè¥¿ä¸è¦æå¾—è¿‡äºå¤æ‚ã€‚</li>
<li>äººä»¬å¤§éƒ½å–œé—»ä¹è§å°‘å¹´æœ‰æˆï¼Œè¿™å’Œå–œæ¬¢ä¸­500ä¸‡ç¦åˆ©å½©ç¥¨ä¸€æ ·ã€‚ç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯10å¹´å‰ï¼Œä¸€ä¸ªæ˜¯ç°åœ¨ã€‚è®¤å‡†äº†ï¼Œå–œæ¬¢å°±å»åšï¼Œä»€ä¹ˆæ—¶å€™éƒ½ä¸æ™šã€‚æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚</li>
<li>æˆå¹´äººï¼Œå­¦ä¼šæ”¾ä½è‡ªå·±çš„èº«æ®µï¼Œå‡å°‘è‡ªä½œå¤šæƒ…ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œä¸€ä¸ªäººå–å¾—çš„æˆå°±å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯æ—¶ä»£é€ å°±çš„ï¼Œä¸è¦å¤ªæŠŠè‡ªå·±å½“å›äº‹ï¼Œé¡ºåŠ¿è€Œä¸ºï¼Œå®å¹²å…´é‚¦ã€‚</li>
<li>ä¿æŒè‡ªä¿¡ï¼Œç”šè‡³éª—è‡ªå·±è‡ªä¿¡ã€‚</li>
<li>åšæŒä¸»è§ï¼Œæ‰¹åˆ¤æ¥å—åˆ«äººçš„æ„è§å»ºè®®ï¼Œè¾©è¯çœ‹å¾…åˆ«äººçš„å¾—å¤±ã€‚ä¸¾ä¸ªä¸æ°å½“çš„ä¾‹å­ï¼Œè·¯äººé˜¿å§¨çœ‹è§ä½ æ’¸é“çš„æ—¶å€™ç´¯çš„ä¸Šæ°”ä¸æ¥ä¸‹æ°”ï¼Œè¯´ä½ è¿™ä¸ªå¤ªè¾›è‹¦äº†ï¼Œä½†å¥¹æ— æ³•ä½“ä¼šä½ åœ¨æ’¸å®Œåæœ‰å¤šçˆ½ï¼›ä½ çœ‹è§å¦¹çº¸åœ¨å¼€å¿ƒåœ°åƒå†°æ·‡æ·‹ï¼Œä½†æ˜¯ä½ æ„Ÿå—ä¸åˆ°1ä¸ªæœˆåå¥¹èŠ‚é£Ÿå¤©å¤©åƒå…¨éº¦é¢åŒ…çš„æ— å‘³ã€‚</li>
<li>è®¤è¯†äº‹ç‰©çš„æœ¬è´¨ï¼Œå¹¶ä¿æŒåˆå¿ƒã€‚æ¯”å¦‚å†™ä¸ªæ–‡ç« ï¼Œè™½ç„¶å†™å¾—ä¸‘ä¸”ç®€å•ï¼Œä½†ç›®çš„å§‹ç»ˆæ˜¯å†…å®¹çš„è¾“å‡º,å¦‚æœåŠ ä¸Šä¸€äº›æµè§ˆé‡ï¼Œç‚¹èµé‡ï¼Œè¯„è®ºé‡ä¹‹ç±»çš„å¯ä»¥é‡åŒ–çš„æ•°æ®ä¸Šæ¥çš„æ—¶å€™ï¼Œå¾€å¾€ä¼šè®©äººæ¨¡ç³Šè®¤çŸ¥ï¼Œå¿˜æ‰åˆå¿ƒ,ä»¿ä½›ä¸æ˜¯åœ¨è‡ªå·±å†™,è€Œæ˜¯åœ¨å†™ç»™åˆ«äººçœ‹,ç„¶åå°±å¼€å§‹æƒ³å¦‚ä½•è¿åˆè§‚ä¼—ã€‚</li></ul>
<blockquote><p>ä¸€å£æ°”å†™äº†ä¸€å¤§å †å­—ï¼Œå¥½åƒæœ‰ç‚¹èµ°åäº†ï¼Œé‚£å°±å°¬ç»“ä¸€ä¸‹</p></blockquote>
<h3 id="ç»“æœ"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ç»“æœ"><span>#</span></a>ç»“æœ</h3>
<p>è¿™ä¸‰ä¸ªæœˆï¼Œç›¸å¯¹æ¥è¯´è¿‡å¾—å¾ˆå……å®ï¼Œå¯¹æˆ‘äº§ç”Ÿäº†ä¸€äº›å½±å“ï¼Œæ¯”å¦‚åƒä¸Šé¢ä¸€æ ·ç–¯ç‹‚è¾“å‡ºåƒåœ¾è¯çš„èƒ½åŠ›ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…ä»…æ˜¯å†™åšå®¢æœ¬èº«ï¼Œæ›´å¤šçš„æ˜¯å†™åšå®¢å¸¦ç»™æˆ‘çš„æ€è€ƒï¼Œä¿ƒå‘æˆ‘å»æ¢ç´¢è¾¹ç•Œï¼Œå½’çº³æ€»ç»“ï¼Œäº§ç”Ÿæ–°çŸ¥ã€‚</p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œåªè¦èƒ½äº§ç”Ÿè‡ªå·±ä¸è‡ªå·±ï¼Œæˆ–è‡ªå·±ä¸ä»–äººä¹‹é—´æœ‰æ„ä¹‰æœ‰æ·±åº¦çš„ä¸œè¥¿ï¼Œå°±ä¼šå»å†™ï¼Œå› ä¸ºå¾ˆçˆ½ã€‚</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//https-host</guid>
          <title>HTTPS On Your Own Host Domain For Free</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//https-host</link>
          <pubDate>Sun, 25 Apr 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//https-host">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="https-on-your-own-host-domain-for-free"><a class="heading-link" title="Permalink" aria-hidden="true" href="#https-on-your-own-host-domain-for-free"><span>#</span></a>HTTPS On Your Own Host Domain For Free</h2>
<p>Nowaday, many platform open url with https in default for safe, if your website has no security certificate, it may be not  accessible.</p>
<blockquote><p>To enable HTTPS on your website, you need to get a certificate (a type of file) from a Certificate Authority (CA). Letâ€™s Encrypt is a CA. In order to get a certificate for your websiteâ€™s domain from Letâ€™s Encrypt, you have to demonstrate control over the domain.</p></blockquote>
<p>Follow the instructions with <a href="https://certbot.eff.org/instructions" rel="nofollow">certbot</a> to get the certificate from  letâ€™s encrypt</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">sudo http-server -a 0.0.0.0 -p 443 -S -K /etc/letsencrypt/live/www.dogdogame.com/privkey.pem -C /etc/letsencrypt/live/www.dogdogame.com/fullchain.pem</code><!-- HTML_TAG_END --></pre>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//create-npm-lib</guid>
          <title>Create a library - Publish a npm package in Typescript</title>
          <description>This section mainly uses react to implement UI views. Before this section, a UI view version has been implemented with cocos creator. In order to reuse the basic framework, we abstract the game logic and decouple the logic related to the view engine api.</description>
          <link>https://sveltekit-static-blog-template.vercel.app//create-npm-lib</link>
          <pubDate>Sat, 24 Apr 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//create-npm-lib">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="create-a-library---publish-a-npm-package-in-typescript"><a class="heading-link" title="Permalink" aria-hidden="true" href="#create-a-library---publish-a-npm-package-in-typescript"><span>#</span></a>Create a library - Publish a npm package in Typescript</h2>
<blockquote><p>To make some reusable codes, create and publish a npm package is a good idea.</p></blockquote>
<p>Below Iâ€™ll share base on my repo on github
<a href="https://github.com/lizhiyu-me/chinese-poker" rel="nofollow">chinese-poker</a>.</p>
<h2 id="init-npm-package"><a class="heading-link" title="Permalink" aria-hidden="true" href="#init-npm-package"><span>#</span></a>Init npm package</h2>
<ul><li>create a directory<code>mkdir your-package-name</code>
<code>cd your-package-name</code></li>
<li>make a initialization (-y means no prompt question and all question to be the
defualt value)</li></ul>
<code>npm init -y</code>
<p>Get a file tree like:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">.
â””â”€â”€ package.json</code><!-- HTML_TAG_END --></pre>
<h2 id="write-codes-down"><a class="heading-link" title="Permalink" aria-hidden="true" href="#write-codes-down"><span>#</span></a>Write codes down:</h2>
<p>below is my code files tree:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">src
â”œâ”€â”€ Config.ts
â”œâ”€â”€ Const.ts
â”œâ”€â”€ MetaProcessor.ts
â”œâ”€â”€ Ruler.ts
â”œâ”€â”€ SpecificGetFn.ts
â”œâ”€â”€ __tests__
â”‚   â””â”€â”€ ruler_spec.ts
â””â”€â”€ utils
    â””â”€â”€ utils.ts</code><!-- HTML_TAG_END --></pre>
<h3 id="intergrate-code-entry"><a class="heading-link" title="Permalink" aria-hidden="true" href="#intergrate-code-entry"><span>#</span></a>Intergrate code entry:</h3>
<p>Make a file <code>index.ts</code> which we will assign itâ€™s path to the bundle
config. Input the stuffs you want to export:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//index.ts
export &#123;Ruler&#125; from &quot;./Ruler&quot;;
export &#123;E_TYPE&#125; from &quot;./Config&quot;;</code><!-- HTML_TAG_END --></pre>
<h2 id="bundle-the-codes"><a class="heading-link" title="Permalink" aria-hidden="true" href="#bundle-the-codes"><span>#</span></a>Bundle the codes:</h2>
<p>Itâ€™s nessary to make a bundle, for easy consuming. The bundle tool can resolve
the module format like Commonjs and ESModule for different usage and help us
transpile typescript file and generate <code>d.ts </code> file by some plugins.</p>
<blockquote><p>Rollup, Webpack, and Parcel are all module bundler tools, but the focus is
different. The Rollup we are going to talk about is more suitable for building
Library, while Webpack and Precel are more suitable for developing Application</p></blockquote>
<p>Here We choose Rollup because itâ€™s clean and easy to use.</p>
<h3 id="install-rollup"><a class="heading-link" title="Permalink" aria-hidden="true" href="#install-rollup"><span>#</span></a>Install rollup</h3>
<code>npm i -D rollup</code>
<h3 id="create-file-rollupconfigjs"><a class="heading-link" title="Permalink" aria-hidden="true" href="#create-file-rollupconfigjs"><span>#</span></a>Create file <code>rollup.config.js</code></h3>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">"rollup-plugin-typescript2"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> babel <span class="token keyword">from</span> <span class="token string">"rollup-plugin-babel"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">"src/index.ts"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">"dist/index.esm.js"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">"esm"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<ul><li><code>rollup-plugin-babel</code> for compile typescript.</li>
<li><code>rollup-plugin-typescript2</code> for generate <code>d.ts</code> file.</li>
<li>set property <code>input</code> as your entry file.</li>
<li>set property <code>output</code> to specify the output path and format.</li></ul>
<h3 id="set-types-and-module-in-packagejson"><a class="heading-link" title="Permalink" aria-hidden="true" href="#set-types-and-module-in-packagejson"><span>#</span></a>Set types and module in package.json</h3>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//package.json
&#123;
...
&quot;types&quot;: &quot;index.d.ts&quot;,
&quot;module&quot;: &quot;index.esm.js&quot;,
...
&#125;</code><!-- HTML_TAG_END --></pre>
<h3 id="run-rollup"><a class="heading-link" title="Permalink" aria-hidden="true" href="#run-rollup"><span>#</span></a>Run rollup</h3>
<code>rollup -c</code>
<p>Then you can get the file tree like below:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">dist
â”œâ”€â”€ Config.d.ts
â”œâ”€â”€ Const.d.ts
â”œâ”€â”€ MetaProcessor.d.ts
â”œâ”€â”€ README.md
â”œâ”€â”€ Ruler.d.ts
â”œâ”€â”€ SpecificGetFn.d.ts
â”œâ”€â”€ __tests__
â”‚   â””â”€â”€ ruler_spec.d.ts
â”œâ”€â”€ index.d.ts
â”œâ”€â”€ index.esm.js
â”œâ”€â”€ index.esm.js.map
â””â”€â”€ utils
    â””â”€â”€ utils.d.ts</code><!-- HTML_TAG_END --></pre>
<h2 id="publish"><a class="heading-link" title="Permalink" aria-hidden="true" href="#publish"><span>#</span></a>Publish</h2>
<ul><li>create a README.md file which is welcome for a easy describtion.</li>
<li>copy README.md and package.json to dist.</li>
<li><code>npm login</code>(If you have&#39;t a npm account, get one
[npmjs](https://www.npmjs.com/signup))</li>
<li><code>npm publish ./dist</code></li></ul>
<h2 id="consuming-the-package"><a class="heading-link" title="Permalink" aria-hidden="true" href="#consuming-the-package"><span>#</span></a>Consuming the package:</h2>
<code>npm install your-package-name </code>
<p>Use it just like other package you used to.</p>
<p>Thanks for your reading.</p>
<p>Have a good day.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//concurrently</guid>
          <title>Concurrently</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//concurrently</link>
          <pubDate>Sat, 17 Apr 2021 05:55:15 +0800</pubDate>
          
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//concurrently">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="concurrently-ä¸€é”®å¯åŠ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨"><a class="heading-link" title="Permalink" aria-hidden="true" href="#concurrently-ä¸€é”®å¯åŠ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨"><span>#</span></a>Concurrently ä¸€é”®å¯åŠ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨</h2>
<blockquote><p>åœ¨æ—¥å¸¸çš„å…¨æ ˆå¼€å‘è¿‡ç¨‹ä¸­,å¾€å¾€ä¼šåŒæ—¶å¯åŠ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å·¥ç¨‹,åˆ†åˆ«å¯åŠ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å¾€å¾€ä¼šä¸å¯é¿å…çš„é€ æˆä¸€å®šæ—¶é—´æµªè´¹å’Œå¼€å‘æµç¨‹ç¹æ‚.æœ¬ç€èƒ½èººç€å°±åˆ«åç€çš„åŸåˆ™,åœ¨ä¸‡èƒ½çš„npmåº“ä¸­æ‰¾åˆ°äº†<strong>concurrently</strong></p></blockquote>
<h3 id="ä½¿ç”¨concurrentlyåŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ä½¿ç”¨concurrentlyåŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤"><span>#</span></a>ä½¿ç”¨<a href="https://www.npmjs.com/package/concurrently" rel="nofollow">concurrently</a>åŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤</h3>
<p>å¦‚ä¸‹é¢<code>package.json</code>å†…çš„è„šæœ¬ä»£ç æ‰€ç¤º,concurrentlyå°†æœåŠ¡ç«¯åŠå®¢æˆ·ç«¯é¡¹ç›®çš„å¯åŠ¨åˆå¹¶åœ¨ä¸€èµ·äº†.å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘æµªè´¹æ—¶é—´åœ¨å¯åŠ¨é¡¹ç›®ä¸Šäº†ğŸ˜Š.</p>
<pre class="language-json"><!-- HTML_TAG_START --><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"concurrently --kill-others-on-fail "npm run start-server" "npm run start-client""</span><span class="token punctuation">,</span>
    <span class="token property">"start-server"</span><span class="token operator">:</span> <span class="token string">"ts-node server/src/index.ts"</span><span class="token punctuation">,</span>
    <span class="token property">"start-client"</span><span class="token operator">:</span> <span class="token string">"cd client &amp;&amp; npm run start"</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//cocos-creator-vs-react-vs-react-three-fiber</guid>
          <title>Cocos Creator Vs React Vs React-Three-Fiber</title>
          <description>null</description>
          <link>https://sveltekit-static-blog-template.vercel.app//cocos-creator-vs-react-vs-react-three-fiber</link>
          <pubDate>Sat, 10 Apr 2021 05:55:15 +0800</pubDate>
          <category>engine select</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//cocos-creator-vs-react-vs-react-three-fiber">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="cocos-creator-vs-react-vs-react-three-fiber-ä½¿ç”¨ä½“éªŒå¯¹æ¯”æ–°é¡¹ç›®è¯¥å¦‚ä½•ä»ä¸­é€‰æ‹©"><a class="heading-link" title="Permalink" aria-hidden="true" href="#cocos-creator-vs-react-vs-react-three-fiber-ä½¿ç”¨ä½“éªŒå¯¹æ¯”æ–°é¡¹ç›®è¯¥å¦‚ä½•ä»ä¸­é€‰æ‹©"><span>#</span></a>Cocos Creator Vs React Vs React-Three-Fiber ä½¿ç”¨ä½“éªŒå¯¹æ¯”ï¼Œæ–°é¡¹ç›®è¯¥å¦‚ä½•ä»ä¸­é€‰æ‹©</h2>
<p>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œä¸‹é¢é’ˆå¯¹æ ‡é¢˜ä¸­æåˆ°çš„ä¸‰ä¸ªä¸œè¥¿çš„å¯¹æ¯”ä¸»è¦åŸºäºå®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼Œåœ¨å¼€å‘ä½“éªŒä¸Šçš„åæ„Ÿæ€§æ€è€ƒï¼Œä»–ä»¬æœ¬èº«ä»æ ¹æœ¬ä¸Šè¯´è®¾è®¡å®šä½å°±å·®å¼‚å¾ˆå¤§ï¼Œç”šè‡³æ˜¯åŒ…å«æ‰©å±•å…³ç³»ã€‚</p>
<h3 id="å¯¹æ¯”"><a class="heading-link" title="Permalink" aria-hidden="true" href="#å¯¹æ¯”"><span>#</span></a>å¯¹æ¯”</h3>
<ul><li><p>Cocos Creator
æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„æ¸¸æˆå¼•æ“ï¼Œæœ‰ååˆ†æ–¹ä¾¿çš„å¯è§å³å¯å¾—çš„å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œå’Œå¤§é‡çš„å¼€ç®±å³ç”¨çš„å¯é€‰çš„åŠŸèƒ½æ¨¡å—ã€‚</p></li>
<li><p>React æ˜¯ä¸€ä¸ªJSåº“ï¼Œç”Ÿæ€æå…¶ä¸°å¯Œã€‚</p></li>
<li><p>React-Three-Fiber (ä¸‹é¢ç§°R3F)æ˜¯Three.jsçš„React æ¸²æŸ“å™¨ã€‚</p></li></ul>
<p>ç”¨ä»¥ä¸Šä¸‰ä¸ªå·¥å…·å¼€å‘äº†è€å°‘çš†å®œï¼Œäººå°½çš†çŸ¥çš„æ–—åœ°ä¸»ä¹‹åï¼Œæˆ‘é€æ¸å–œæ¬¢ä¸Šäº†Reactå’ŒR3Fï¼Œä¸»è¦æœ‰ä¸€ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ol><li>ä»£ç ç®€æ´ï¼Œè¿‘ä¹æè‡´çš„å‡½æ•°å¼ç¼–ç¨‹ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯æˆ‘ä¹‹å‰è‡ªå·±æƒ³è¦å»é‡æ„å®ç°çš„ï¼Œä¸è°‹è€Œåˆçš„æ„Ÿè§‰å¾ˆç‚¸</li>
<li>å¼€å‘æµç¨‹çº¯ç²¹ï¼ŒVsCodeä¸€æŠŠæ¢­ï¼Œå€ŸåŠ©äºHMRï¼Œä»£ç æ”¹åŠ¨åç«‹é©¬åˆ·æ–°ç•Œé¢ï¼Œæ•´ä¸ªå¼€å‘è¿‡ç¨‹å‡ ä¹æ²¡æœ‰ç•Œé¢çš„åˆ‡æ¢</li>
<li>æ§åˆ¶ç²’åº¦æ›´ç»†ï¼Œä¸ç®¡æ˜¯ç•Œé¢è§†å›¾ç•Œé¢çš„å¸ƒå±€ï¼Œè¿˜æ˜¯æ ·å¼ï¼Œèµ„æºéƒ½å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç”¨ä»£ç ç›´æ¥æ“æ§ï¼Œè€Œä¸ç”¨ä¾èµ–ä»»ä½•å…¶ä»–å·¥å…·</li>
<li>å‘åŸºæœ¬è¢«è¸©çš„å·®ä¸å¤šäº†ï¼Œé‡åˆ°çš„é—®é¢˜åªè¦Googleä¸€ä¸‹ï¼Œè§£å†³æ–¹æ¡ˆå¦‚æ’å±±å€’æµ·ä¹‹åŠ¿ï¼Œè¿é¢è€Œæ¥</li>
<li>ç”Ÿæ€ç¹è£ï¼Œç›¸å…³çš„å„ç§ç±»å‹çš„é¡¹ç›®å¾ˆå¤šï¼Œæœ€è¿‘å°±çœ‹åˆ°äº†å¥½å¤šåŸºäºThree.jså®ç°çš„æ¸¸æˆï¼Œè€Œä¸”æ´»è·ƒåº¦å¾ˆé«˜</li>
<li>R3Fä¹Ÿæ˜¯åœ¨Reactä¸Šç›–äº†è–„å¦‚è‰ç¿¼çš„ä¸€å±‚ï¼Œä¸»è¦å°±æ˜¯æŠŠThree.jsçš„ä¸€äº›ç±»å°è£…ä¸ºreactçš„ç»„ä»¶ï¼Œç”¨jsxè¡¨ç°å‡ºæ¥ï¼Œè¿™ä¹Ÿä½¿Three.jsçš„ä»£ç å˜å¾—éå¸¸ç®€æ´æ˜“è¯»ï¼Œæ•´ä½“ä¸ŠäºŒè€…çš„ç»“åˆå¸¦æ¥äº†æ˜“ç”¨æ€§åˆä¸å¤±çµæ´»åº¦</li></ol>
<p>å¯ä»¥è¯´ä¸Šé¢è¯´çš„å‡ æ¡ä¸»è¦éƒ½æ˜¯ä¸è‡ªå·±æ›´åŠ ç†Ÿæ‚‰çš„Cocos
Creatorä»¥åŠä¹‹å‰ä½¿ç”¨çš„ä¸€äº›æ¸¸æˆå¼•æ“å¼€å‘ä½“éªŒçš„å¯¹æ¯”ã€‚</p>
<h3 id="ç»“è®º"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ç»“è®º"><span>#</span></a>ç»“è®º</h3>
<ul><li>éœ€è¦å¿«é€Ÿå¼€å‘ï¼Œé€‚é…å¤šå¹³å°çš„é¡¹ç›®ï¼Œç°é˜¶æ®µæ¯«ä¸çŠ¹è±«ï¼ŒCocos
Creatorï¼Œæ¯•ç«Ÿè‡ªå®¶ç¼–è¾‘å™¨åŠ æŒï¼Œå¼€å‘ã€è°ƒè¯•ã€å‘å¸ƒä¸€æ¡é¾™æœåŠ¡ï¼Œè°ä¸çˆ±å‘¢</li>
<li>åšæ„Ÿå…´è¶£çš„é¡¹ç›®ï¼Œå®è·µå­¦åˆ°çš„ä¸€äº›æ–°ä¸œè¥¿ï¼Œæˆ‘ä¼šé€‰reactå’ŒR3Fï¼Œä¹‹åæˆ‘ä¹Ÿä¼šç»§ç»­åŸºäºR3Få¼€å‘ä¸€äº›å°æ¸¸æˆï¼Œè¾¹å­¦è¾¹ç»ƒ</li></ul>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//make-a-multiplayer-card-game-episode-7</guid>
          <title>Make a multiplayer card game - Episode 7 | Create 3D graphical interface with Three.js</title>
          <description>Create 3D graphical interface with Three.js</description>
          <link>https://sveltekit-static-blog-template.vercel.app//make-a-multiplayer-card-game-episode-7</link>
          <pubDate>Sat, 03 Apr 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//make-a-multiplayer-card-game-episode-7">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-7--create-3d-graphical-interface-with-threejs"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-7--create-3d-graphical-interface-with-threejs"><span>#</span></a>Make a multiplayer card game - Episode 7 | Create 3D graphical interface with Three.js</h2>
<p>This section mainly introduces the use
of<a href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction" rel="nofollow">react-three-fiber</a>(referred
to as R3F bellow) to realize the construction of interactive scenes.</p>
<h3 id="why-choose-r3f"><a class="heading-link" title="Permalink" aria-hidden="true" href="#why-choose-r3f"><span>#</span></a>Why Choose R3F</h3>
<ul><li>R3F just expresses Three.js in JSX, no extra overhead</li>
<li>Build scenes in a declarative way with react, including but not limited to
components that can easily react to state, are easy to interact with, and can
leverage Reactâ€™s ecosystem</li></ul>
<h3 id="scenario-construction-implementation"><a class="heading-link" title="Permalink" aria-hidden="true" href="#scenario-construction-implementation"><span>#</span></a>Scenario construction implementation</h3>
<ul><li><strong>Card</strong></li></ul>
<p>Note that the texture required for rendering is obtained by passing the image
address to <code>useTexture</code></p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token comment">//Card.tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useTexture <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@react-three/drei"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Mesh <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"three"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Card</span><span class="token punctuation">(</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    faceTextureUrl<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    idx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    beginX<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> _selectedOffsetY <span class="token operator">=</span> <span class="token number">.2</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> _beginX <span class="token operator">=</span> props<span class="token punctuation">.</span>beginX<span class="token punctuation">;</span>
  <span class="token keyword">const</span> _texture <span class="token operator">=</span> <span class="token function">useTexture</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    map<span class="token operator">:</span> props<span class="token punctuation">.</span>faceTextureUrl<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>mesh
      position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>_beginX <span class="token operator">+</span> props<span class="token punctuation">.</span>idx <span class="token operator">*</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>idx <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _targetMesh <span class="token operator">=</span> e<span class="token punctuation">[</span><span class="token string">"eventObject"</span><span class="token punctuation">]</span> <span class="token keyword">as</span> Mesh<span class="token punctuation">;</span>
        <span class="token keyword">let</span> _pos <span class="token operator">=</span> _targetMesh<span class="token punctuation">.</span>position<span class="token punctuation">;</span>
        <span class="token keyword">let</span> _upY<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_pos<span class="token punctuation">.</span>y <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> _upY <span class="token operator">=</span> _selectedOffsetY<span class="token punctuation">;</span>
        <span class="token keyword">else</span> _upY <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        _targetMesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>_pos<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _upY<span class="token punctuation">,</span> _pos<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
      userData<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token string-property property">"_d_cardSerial"</span><span class="token operator">:</span> props<span class="token punctuation">.</span>serial <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
    <span class="token operator">></span>
      <span class="token operator">&lt;</span>boxGeometry args<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">.001</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>meshStandardMaterial <span class="token punctuation">&#123;</span><span class="token operator">...</span>_texture<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>mesh<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Card<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<ul><li><strong>Game Scene</strong></li></ul>
<p>First you must declare a Canvas node, because all three.js must be under the
Canvas node</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token operator">&lt;</span>Canvas
  orthographic
  camera<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> zoom<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token operator">></span>
  <span class="token operator">&lt;</span>R3fScene
    mainHandCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">&#125;</span>
    outCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>outCards<span class="token punctuation">&#125;</span>
    gameModel<span class="token operator">=</span><span class="token punctuation">&#123;</span>_gameModel<span class="token punctuation">&#125;</span>
  <span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>R3fScene<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Canvas<span class="token operator">></span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>In order to facilitate the use of hooks provided by</p>
<code>@react-three/fiber</code> (three.js related hooks can only be used under
the Canvas node), the game scene node is proposed separately
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">R3fScene</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span> mainHandCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> gameModel<span class="token punctuation">;</span> outCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    scene<span class="token punctuation">,</span>
    camera<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span><span class="token function">getObjectByName</span><span class="token punctuation">(</span><span class="token string">"handList"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> mainHandCards <span class="token operator">=</span> props<span class="token punctuation">.</span>mainHandCards<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _gameModel <span class="token operator">=</span> props<span class="token punctuation">.</span>gameModel<span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span>context <span class="token operator">=</span> scene<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> _prefix <span class="token operator">=</span> <span class="token string">"/faces/"</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> _readableName <span class="token operator">=</span> _gameModel<span class="token punctuation">.</span><span class="token function">getCardReadableName</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"rJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_B.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"bJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_R.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> _suitDic <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"H"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">"S"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> _suitNumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> serial <span class="token operator">>></span> <span class="token number">4</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_"</span> <span class="token operator">+</span> _suitDic<span class="token punctuation">[</span>_suitNumber<span class="token punctuation">]</span> <span class="token operator">+</span> _readableName <span class="token operator">+</span>
        <span class="token string">".png"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">let</span> _cardCount <span class="token operator">=</span> mainHandCards<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _beginX <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_cardCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">.5</span> <span class="token operator">+</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>CameraControls <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ambientLight intensity<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.1</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>directionalLight color<span class="token operator">=</span><span class="token string">"white"</span> position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token operator">&lt;</span>group name<span class="token operator">=</span><span class="token string">"handList"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-1"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-2"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-0"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>In order to reflect the 3D interface, add an orbiting camera (swipe the scene to
adjust the camera corner)</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> OrbitControls <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">CameraControls</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    camera<span class="token punctuation">,</span>
    gl<span class="token operator">:</span> <span class="token punctuation">&#123;</span> domElement <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> controls <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">(</span>controls<span class="token punctuation">.</span>current <span class="token keyword">as</span> <span class="token builtin">unknown</span> <span class="token keyword">as</span> OrbitControls<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token operator">&lt;</span>orbitControls
      ref<span class="token operator">=</span><span class="token punctuation">&#123;</span>controls<span class="token punctuation">&#125;</span>
      args<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>camera<span class="token punctuation">,</span> domElement<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      enableZoom<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span>
      maxAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      maxPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span>
      rotationSpeed<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.01</span><span class="token punctuation">&#125;</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>Scene complete codeï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token comment">//App.tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Canvas<span class="token punctuation">,</span> extend<span class="token punctuation">,</span> useFrame<span class="token punctuation">,</span> useThree <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@react-three/fiber"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> OrbitControls <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"three/examples/jsm/controls/OrbitControls"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">"./App.css"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Card <span class="token keyword">from</span> <span class="token string">"./component/Card"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GameModel <span class="token keyword">from</span> <span class="token string">"./base/src/game/model/GameModel"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GameSceneMediator <span class="token keyword">from</span> <span class="token string">"./base/src/game/view/GameSceneMediator"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GameSceneView <span class="token keyword">from</span> <span class="token string">"./component/GameSceneView"</span><span class="token punctuation">;</span>

<span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> OrbitControls <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">CameraControls</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    camera<span class="token punctuation">,</span>
    gl<span class="token operator">:</span> <span class="token punctuation">&#123;</span> domElement <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> controls <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">(</span>controls<span class="token punctuation">.</span>current <span class="token keyword">as</span> <span class="token builtin">unknown</span> <span class="token keyword">as</span> OrbitControls<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token operator">&lt;</span>orbitControls
      ref<span class="token operator">=</span><span class="token punctuation">&#123;</span>controls<span class="token punctuation">&#125;</span>
      args<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>camera<span class="token punctuation">,</span> domElement<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      enableZoom<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span>
      maxAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      maxPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span>
      rotationSpeed<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.01</span><span class="token punctuation">&#125;</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">R3fScene</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span> mainHandCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> gameModel<span class="token punctuation">;</span> outCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    scene<span class="token punctuation">,</span>
    camera<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> mainHandCards <span class="token operator">=</span> props<span class="token punctuation">.</span>mainHandCards<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _gameModel <span class="token operator">=</span> props<span class="token punctuation">.</span>gameModel<span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span>context <span class="token operator">=</span> scene<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> _prefix <span class="token operator">=</span> <span class="token string">"/faces/"</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> _readableName <span class="token operator">=</span> _gameModel<span class="token punctuation">.</span><span class="token function">getCardReadableName</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"rJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_B.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"bJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_R.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> _suitDic <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"H"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">"S"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> _suitNumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> serial <span class="token operator">>></span> <span class="token number">4</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_"</span> <span class="token operator">+</span> _suitDic<span class="token punctuation">[</span>_suitNumber<span class="token punctuation">]</span> <span class="token operator">+</span> _readableName <span class="token operator">+</span>
        <span class="token string">".png"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">let</span> _cardCount <span class="token operator">=</span> mainHandCards<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _beginX <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_cardCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">.5</span> <span class="token operator">+</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>CameraControls <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ambientLight intensity<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.1</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>directionalLight color<span class="token operator">=</span><span class="token string">"white"</span> position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token operator">&lt;</span>group name<span class="token operator">=</span><span class="token string">"handList"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-1"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-2"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-0"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span>props<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> _gameFacade <span class="token operator">=</span> props<span class="token punctuation">.</span>gameFacade<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _gameModel<span class="token operator">:</span> GameModel <span class="token operator">=</span> _gameFacade<span class="token punctuation">.</span><span class="token function">retrieveProxy</span><span class="token punctuation">(</span><span class="token string">"GameModel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>mainHandCards<span class="token punctuation">,</span> setMainHandCards<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>_gameModel<span class="token punctuation">.</span>cardsArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>outCards<span class="token punctuation">,</span> setOutCards<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>_gameModel<span class="token punctuation">.</span>outCards<span class="token punctuation">)</span><span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span><span class="token function">setMainHandCardsHook</span><span class="token punctuation">(</span>setMainHandCards<span class="token punctuation">)</span><span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span><span class="token function">setOutCardsHook</span><span class="token punctuation">(</span>setOutCards<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_gameFacade<span class="token punctuation">.</span><span class="token function">retrieveMediator</span><span class="token punctuation">(</span><span class="token string">"GameSceneMediator"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      _gameFacade<span class="token punctuation">.</span><span class="token function">registerMediator</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">GameSceneMediator</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GameSceneView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"canvas-container"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Canvas
          orthographic
          camera<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> zoom<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>R3fScene
            mainHandCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">&#125;</span>
            outCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>outCards<span class="token punctuation">&#125;</span>
            gameModel<span class="token operator">=</span><span class="token punctuation">&#123;</span>_gameModel<span class="token punctuation">&#125;</span>
          <span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>R3fScene<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Canvas<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

      <span class="token operator">&lt;</span>div
        id<span class="token operator">=</span><span class="token string">"status"</span>
        style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>
          display<span class="token operator">:</span> <span class="token string">"fix"</span><span class="token punctuation">,</span>
          textAlign<span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
          fontSize<span class="token operator">:</span> <span class="token string">"2em"</span><span class="token punctuation">,</span>
          userSelect<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
      <span class="token operator">></span>
        hello
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"controlPanel-scores"</span> className<span class="token operator">=</span><span class="token string">"controlPanel"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-scores-1"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-scores-2"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-scores-3"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"controlPanel-operation"</span> className<span class="token operator">=</span><span class="token string">"controlPanel"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-operation-pass"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span>
          pass
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-operation-play"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span>
          play
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<h3 id="framework-adaptation-changes"><a class="heading-link" title="Permalink" aria-hidden="true" href="#framework-adaptation-changes"><span>#</span></a>Framework adaptation changes</h3>
<ul><li><strong>Getting scene node</strong></li></ul>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token function">getViewComponent</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>isDOM<span class="token operator">:</span><span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>canvasScene<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>isDOM<span class="token punctuation">)</span> <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>canvasScene<span class="token punctuation">)</span> <span class="token keyword">return</span> canvasScene<span class="token punctuation">.</span><span class="token function">getObjectByName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>By passing in the scene object of three.js, call the getObjectByName interface
to obtain the node with the pre-set name attribute</p>
<ul><li><strong>Card value acquisition, card.userData (<code>userData</code> is the loading
object of custom attributes in R3F, similar to <code>data-yourAttribute</code>
in react, here you can encapsulate a method to decouple GameSceneMediator from
card value, making the mediator more reusable )</strong></li></ul>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">private</span> <span class="token function">onOutCards_C2S</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hideControlPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _outCardsSerial <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _cardsContainer <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mViewClass<span class="token punctuation">.</span><span class="token function">getViewComponent</span><span class="token punctuation">(</span><span class="token string">"handList"</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getGameModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _cards <span class="token operator">=</span> _cardsContainer<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _cards<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> _card <span class="token operator">=</span> _cards<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mViewClass<span class="token punctuation">.</span><span class="token function">isCardSelected</span><span class="token punctuation">(</span>_card<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                _outCardsSerial<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>_card<span class="token punctuation">.</span>userData<span class="token punctuation">[</span><span class="token string">"_d_cardSerial"</span><span class="token punctuation">]</span><span class="token operator">||</span>_card<span class="token punctuation">[</span><span class="token string">"_d_cardSerial"</span><span class="token punctuation">]</span> <span class="token operator">||</span> _card<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-card-serial"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNetFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">sendNotification</span><span class="token punctuation">(</span>card_game_pb<span class="token punctuation">.</span>Cmd<span class="token punctuation">.</span><span class="token constant">PLAYCARDS_C2S</span><span class="token punctuation">,</span> _outCardsSerial<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<ul><li><strong>Node coordinate adjustment</strong></li></ul>
<p>By judging the adjustment of the corresponding css attribute of the node style
to the corresponding attribute of the node position object</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token function">isCardSelected</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> card<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">==</span> <span class="token number">.2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p><a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode7-r3f" rel="nofollow">Checkout the repo https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode7-r3f</a></p>
<hr>
<p>æœ¬èŠ‚ä¸»è¦ä»‹ç»åˆ©ç”¨<a href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction" rel="nofollow">react-three-fiber</a>(ä»¥ä¸‹ç®€ç§°R3F)å®ç°äº¤äº’åœºæ™¯çš„æ­å»ºã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆé€‰æ‹©r3f"><a class="heading-link" title="Permalink" aria-hidden="true" href="#ä¸ºä»€ä¹ˆé€‰æ‹©r3f"><span>#</span></a>ä¸ºä»€ä¹ˆé€‰æ‹©R3F</h3>
<ul><li>R3Fä»…ä»…æ˜¯å°†Three.jsç”¨JSXè¿›è¡Œè¡¨ç¤ºï¼Œæ²¡æœ‰é¢å¤–å¼€é”€</li>
<li>å¯ä»¥ç”¨reactçš„å£°æ˜æ–¹å¼æ„å»ºåœºæ™¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç»„ä»¶å¯è½»æ¾å¯¹çŠ¶æ€åšå‡ºååº”ï¼Œæ˜“äºäº¤äº’ï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨
React çš„ç”Ÿæ€</li></ul>
<h3 id="åœºæ™¯æ„å»ºå®ç°"><a class="heading-link" title="Permalink" aria-hidden="true" href="#åœºæ™¯æ„å»ºå®ç°"><span>#</span></a>åœºæ™¯æ„å»ºå®ç°</h3>
<ul><li><strong>æ‰‘å…‹ç‰Œ</strong></li></ul>
<p>æ³¨æ„æ­¤å¤„é€šè¿‡å°†å›¾ç‰‡åœ°å€ä¼ ç»™<code>useTexture</code>ï¼Œå¾—åˆ°æ¸²æŸ“éœ€è¦çš„çº¹ç†</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token comment">//Card.tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useTexture <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@react-three/drei"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Mesh <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"three"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Card</span><span class="token punctuation">(</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    faceTextureUrl<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    idx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    beginX<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> _selectedOffsetY <span class="token operator">=</span> <span class="token number">.2</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> _beginX <span class="token operator">=</span> props<span class="token punctuation">.</span>beginX<span class="token punctuation">;</span>
  <span class="token keyword">const</span> _texture <span class="token operator">=</span> <span class="token function">useTexture</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    map<span class="token operator">:</span> props<span class="token punctuation">.</span>faceTextureUrl<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>mesh
      position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>_beginX <span class="token operator">+</span> props<span class="token punctuation">.</span>idx <span class="token operator">*</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>idx <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _targetMesh <span class="token operator">=</span> e<span class="token punctuation">[</span><span class="token string">"eventObject"</span><span class="token punctuation">]</span> <span class="token keyword">as</span> Mesh<span class="token punctuation">;</span>
        <span class="token keyword">let</span> _pos <span class="token operator">=</span> _targetMesh<span class="token punctuation">.</span>position<span class="token punctuation">;</span>
        <span class="token keyword">let</span> _upY<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_pos<span class="token punctuation">.</span>y <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> _upY <span class="token operator">=</span> _selectedOffsetY<span class="token punctuation">;</span>
        <span class="token keyword">else</span> _upY <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        _targetMesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>_pos<span class="token punctuation">.</span>x<span class="token punctuation">,</span> _upY<span class="token punctuation">,</span> _pos<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
      userData<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token string-property property">"_d_cardSerial"</span><span class="token operator">:</span> props<span class="token punctuation">.</span>serial <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
    <span class="token operator">></span>
      <span class="token operator">&lt;</span>boxGeometry args<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">.001</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>meshStandardMaterial <span class="token punctuation">&#123;</span><span class="token operator">...</span>_texture<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>mesh<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Card<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<ul><li><strong>æ¸¸æˆåœºæ™¯</strong></li></ul>
<p>é¦–å…ˆå¿…é¡»å£°æ˜ä¸€ä¸ªCanvasèŠ‚ç‚¹ï¼Œå› ä¸ºthree.jsçš„æ‰€æœ‰éƒ½å¿…é¡»åœ¨CanvasèŠ‚ç‚¹ä¸‹</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token operator">&lt;</span>Canvas
  orthographic
  camera<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> zoom<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
<span class="token operator">></span>
  <span class="token operator">&lt;</span>R3fScene
    mainHandCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">&#125;</span>
    outCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>outCards<span class="token punctuation">&#125;</span>
    gameModel<span class="token operator">=</span><span class="token punctuation">&#123;</span>_gameModel<span class="token punctuation">&#125;</span>
  <span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>R3fScene<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Canvas<span class="token operator">></span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨<code>@react-three/fiber</code>æä¾›çš„hookï¼ˆthree.jsç›¸å…³çš„hookåªèƒ½åœ¨CanvasèŠ‚ç‚¹ä¸‹ä½¿ç”¨ï¼‰,å°†æ¸¸æˆåœºæ™¯èŠ‚ç‚¹å•ç‹¬æå‡ºæ¥</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">R3fScene</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span> mainHandCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> gameModel<span class="token punctuation">;</span> outCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    scene<span class="token punctuation">,</span>
    camera<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span><span class="token function">getObjectByName</span><span class="token punctuation">(</span><span class="token string">"handList"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> mainHandCards <span class="token operator">=</span> props<span class="token punctuation">.</span>mainHandCards<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _gameModel <span class="token operator">=</span> props<span class="token punctuation">.</span>gameModel<span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span>context <span class="token operator">=</span> scene<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> _prefix <span class="token operator">=</span> <span class="token string">"/faces/"</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> _readableName <span class="token operator">=</span> _gameModel<span class="token punctuation">.</span><span class="token function">getCardReadableName</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"rJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_B.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"bJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_R.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> _suitDic <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"H"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">"S"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> _suitNumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> serial <span class="token operator">>></span> <span class="token number">4</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_"</span> <span class="token operator">+</span> _suitDic<span class="token punctuation">[</span>_suitNumber<span class="token punctuation">]</span> <span class="token operator">+</span> _readableName <span class="token operator">+</span>
        <span class="token string">".png"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">let</span> _cardCount <span class="token operator">=</span> mainHandCards<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _beginX <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_cardCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">.5</span> <span class="token operator">+</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>CameraControls <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ambientLight intensity<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.1</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>directionalLight color<span class="token operator">=</span><span class="token string">"white"</span> position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token operator">&lt;</span>group name<span class="token operator">=</span><span class="token string">"handList"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-1"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-2"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-0"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>ä¸ºäº†ä½“ç°3Dç•Œé¢ï¼Œæ·»åŠ ä¸€ä¸ªè½¨é“ç›¸æœºï¼ˆæ»‘åŠ¨åœºæ™¯å³å¯è°ƒæ•´ç›¸æœºè½¬è§’ï¼‰</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> OrbitControls <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">CameraControls</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    camera<span class="token punctuation">,</span>
    gl<span class="token operator">:</span> <span class="token punctuation">&#123;</span> domElement <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> controls <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">(</span>controls<span class="token punctuation">.</span>current <span class="token keyword">as</span> <span class="token builtin">unknown</span> <span class="token keyword">as</span> OrbitControls<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token operator">&lt;</span>orbitControls
      ref<span class="token operator">=</span><span class="token punctuation">&#123;</span>controls<span class="token punctuation">&#125;</span>
      args<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>camera<span class="token punctuation">,</span> domElement<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      enableZoom<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span>
      maxAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      maxPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span>
      rotationSpeed<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.01</span><span class="token punctuation">&#125;</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>åœºæ™¯å®Œæ•´ä»£ç ï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token comment">//App.tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Canvas<span class="token punctuation">,</span> extend<span class="token punctuation">,</span> useFrame<span class="token punctuation">,</span> useThree <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@react-three/fiber"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> OrbitControls <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"three/examples/jsm/controls/OrbitControls"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">"./App.css"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Card <span class="token keyword">from</span> <span class="token string">"./component/Card"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GameModel <span class="token keyword">from</span> <span class="token string">"./base/src/game/model/GameModel"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GameSceneMediator <span class="token keyword">from</span> <span class="token string">"./base/src/game/view/GameSceneMediator"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GameSceneView <span class="token keyword">from</span> <span class="token string">"./component/GameSceneView"</span><span class="token punctuation">;</span>

<span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> OrbitControls <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">CameraControls</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    camera<span class="token punctuation">,</span>
    gl<span class="token operator">:</span> <span class="token punctuation">&#123;</span> domElement <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> controls <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">(</span>controls<span class="token punctuation">.</span>current <span class="token keyword">as</span> <span class="token builtin">unknown</span> <span class="token keyword">as</span> OrbitControls<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token operator">&lt;</span>orbitControls
      ref<span class="token operator">=</span><span class="token punctuation">&#123;</span>controls<span class="token punctuation">&#125;</span>
      args<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>camera<span class="token punctuation">,</span> domElement<span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      enableZoom<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span>
      maxAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      maxPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minAzimuthAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
      minPolarAngle<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span>
      rotationSpeed<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.01</span><span class="token punctuation">&#125;</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">R3fScene</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span> mainHandCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> gameModel<span class="token punctuation">;</span> outCards<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
    scene<span class="token punctuation">,</span>
    camera<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> mainHandCards <span class="token operator">=</span> props<span class="token punctuation">.</span>mainHandCards<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _gameModel <span class="token operator">=</span> props<span class="token punctuation">.</span>gameModel<span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span>context <span class="token operator">=</span> scene<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> _prefix <span class="token operator">=</span> <span class="token string">"/faces/"</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> _readableName <span class="token operator">=</span> _gameModel<span class="token punctuation">.</span><span class="token function">getCardReadableName</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"rJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_B.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_readableName <span class="token operator">===</span> <span class="token string">"bJkr"</span><span class="token punctuation">)</span> <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_Joker_R.png"</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> _suitDic <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"H"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">"S"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> _suitNumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> serial <span class="token operator">>></span> <span class="token number">4</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> _prefix <span class="token operator">+</span> <span class="token string">"Poker_"</span> <span class="token operator">+</span> _suitDic<span class="token punctuation">[</span>_suitNumber<span class="token punctuation">]</span> <span class="token operator">+</span> _readableName <span class="token operator">+</span>
        <span class="token string">".png"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">let</span> _cardCount <span class="token operator">=</span> mainHandCards<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _beginX <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_cardCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">.5</span> <span class="token operator">+</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>CameraControls <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ambientLight intensity<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0.1</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>directionalLight color<span class="token operator">=</span><span class="token string">"white"</span> position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token operator">&lt;</span>group name<span class="token operator">=</span><span class="token string">"handList"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-1"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-2"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
      <span class="token operator">&lt;</span>group position<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> scale<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">.6</span><span class="token punctuation">&#125;</span> name<span class="token operator">=</span><span class="token string">"out-list-0"</span><span class="token operator">></span>
        <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>outCards<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serial<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> idx<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Card
              key<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"k"</span> <span class="token operator">+</span> serial<span class="token punctuation">&#125;</span>
              faceTextureUrl<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token function">getFaceTextureUrl</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
              idx<span class="token operator">=</span><span class="token punctuation">&#123;</span>idx<span class="token punctuation">&#125;</span>
              beginX<span class="token operator">=</span><span class="token punctuation">&#123;</span>_beginX<span class="token punctuation">&#125;</span>
              serial<span class="token operator">=</span><span class="token punctuation">&#123;</span>serial<span class="token punctuation">&#125;</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>group<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span>props<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> _gameFacade <span class="token operator">=</span> props<span class="token punctuation">.</span>gameFacade<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _gameModel<span class="token operator">:</span> GameModel <span class="token operator">=</span> _gameFacade<span class="token punctuation">.</span><span class="token function">retrieveProxy</span><span class="token punctuation">(</span><span class="token string">"GameModel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>mainHandCards<span class="token punctuation">,</span> setMainHandCards<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>_gameModel<span class="token punctuation">.</span>cardsArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>outCards<span class="token punctuation">,</span> setOutCards<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>_gameModel<span class="token punctuation">.</span>outCards<span class="token punctuation">)</span><span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span><span class="token function">setMainHandCardsHook</span><span class="token punctuation">(</span>setMainHandCards<span class="token punctuation">)</span><span class="token punctuation">;</span>
  _gameModel<span class="token punctuation">.</span><span class="token function">setOutCardsHook</span><span class="token punctuation">(</span>setOutCards<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_gameFacade<span class="token punctuation">.</span><span class="token function">retrieveMediator</span><span class="token punctuation">(</span><span class="token string">"GameSceneMediator"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      _gameFacade<span class="token punctuation">.</span><span class="token function">registerMediator</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">GameSceneMediator</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GameSceneView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"canvas-container"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Canvas
          orthographic
          camera<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> zoom<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>R3fScene
            mainHandCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>mainHandCards<span class="token punctuation">&#125;</span>
            outCards<span class="token operator">=</span><span class="token punctuation">&#123;</span>outCards<span class="token punctuation">&#125;</span>
            gameModel<span class="token operator">=</span><span class="token punctuation">&#123;</span>_gameModel<span class="token punctuation">&#125;</span>
          <span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>R3fScene<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Canvas<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

      <span class="token operator">&lt;</span>div
        id<span class="token operator">=</span><span class="token string">"status"</span>
        style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>
          display<span class="token operator">:</span> <span class="token string">"fix"</span><span class="token punctuation">,</span>
          textAlign<span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
          fontSize<span class="token operator">:</span> <span class="token string">"2em"</span><span class="token punctuation">,</span>
          userSelect<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
      <span class="token operator">></span>
        hello
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"controlPanel-scores"</span> className<span class="token operator">=</span><span class="token string">"controlPanel"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-scores-1"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-scores-2"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-scores-3"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"controlPanel-operation"</span> className<span class="token operator">=</span><span class="token string">"controlPanel"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-operation-pass"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span>
          pass
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"controlPanel-operation-play"</span> className<span class="token operator">=</span><span class="token string">"controlButton"</span><span class="token operator">></span>
          play
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<h3 id="æ¡†æ¶é€‚é…æ”¹åŠ¨"><a class="heading-link" title="Permalink" aria-hidden="true" href="#æ¡†æ¶é€‚é…æ”¹åŠ¨"><span>#</span></a>æ¡†æ¶é€‚é…æ”¹åŠ¨</h3>
<ul><li><strong>è·å–åœºæ™¯èŠ‚ç‚¹</strong></li></ul>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token function">getViewComponent</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>isDOM<span class="token operator">:</span><span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>canvasScene<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>isDOM<span class="token punctuation">)</span> <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>canvasScene<span class="token punctuation">)</span> <span class="token keyword">return</span> canvasScene<span class="token punctuation">.</span><span class="token function">getObjectByName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>é€šè¿‡ä¼ å…¥three.jsçš„åœºæ™¯å¯¹è±¡ï¼Œè°ƒç”¨getObjectByNameæ¥å£è·å–é¢„å…ˆè®¾ç½®å¥½nameå±æ€§çš„èŠ‚ç‚¹</p>
<ul><li><strong>ç‰Œå€¼è·å–card.userDataï¼ˆuserDataæ˜¯R3Fä¸­è‡ªå®šä¹‰å±æ€§çš„è£…è½½å¯¹è±¡ï¼Œç±»ä¼¼reactä¸­çš„data-yourAttribute,
åœ¨è¿™é‡Œå¯ä»¥å°è£…ä¸€ä¸ªæ–¹æ³•ï¼Œè®©GameSceneMediatorä¸ç‰Œå–å€¼è§£è€¦ï¼Œä½¿mediatorçš„å¤ç”¨æ€§æ›´å¼ºï¼‰</strong></li></ul>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">private</span> <span class="token function">onOutCards_C2S</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hideControlPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _outCardsSerial <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _cardsContainer <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mViewClass<span class="token punctuation">.</span><span class="token function">getViewComponent</span><span class="token punctuation">(</span><span class="token string">"handList"</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getGameModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> _cards <span class="token operator">=</span> _cardsContainer<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _cards<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> _card <span class="token operator">=</span> _cards<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mViewClass<span class="token punctuation">.</span><span class="token function">isCardSelected</span><span class="token punctuation">(</span>_card<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                _outCardsSerial<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>_card<span class="token punctuation">.</span>userData<span class="token punctuation">[</span><span class="token string">"_d_cardSerial"</span><span class="token punctuation">]</span><span class="token operator">||</span>_card<span class="token punctuation">[</span><span class="token string">"_d_cardSerial"</span><span class="token punctuation">]</span> <span class="token operator">||</span> _card<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-card-serial"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNetFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">sendNotification</span><span class="token punctuation">(</span>card_game_pb<span class="token punctuation">.</span>Cmd<span class="token punctuation">.</span><span class="token constant">PLAYCARDS_C2S</span><span class="token punctuation">,</span> _outCardsSerial<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<ul><li><strong>èŠ‚ç‚¹åæ ‡è°ƒæ•´</strong></li></ul>
<p>ç”±åˆ¤æ–­èŠ‚ç‚¹style ç›¸åº”csså±æ€§çš„è°ƒæ•´ä¸ºèŠ‚ç‚¹positionå¯¹è±¡ç›¸åº”å±æ€§</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token function">isCardSelected</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> card<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">==</span> <span class="token number">.2</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p><a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode7-r3f" rel="nofollow">æŸ¥çœ‹æœ¬èŠ‚ç›¸å…³ä»£ç  https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode7-r3f</a></p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//create-2d-graphical-interface-with-react-e6</guid>
          <title>Make a multiplayer card game - Episode 6 | Create 2D graphical interface with React</title>
          <description>This section mainly uses react to implement UI views. Before this section, a UI view version has been implemented with cocos creator. In order to reuse the basic framework, we abstract the game logic and decouple the logic related to the view engine api.</description>
          <link>https://sveltekit-static-blog-template.vercel.app//create-2d-graphical-interface-with-react-e6</link>
          <pubDate>Tue, 30 Mar 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//create-2d-graphical-interface-with-react-e6">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-6--create-2d-graphical-interface-with-react"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-6--create-2d-graphical-interface-with-react"><span>#</span></a>Make a multiplayer card game - Episode 6 | Create 2D graphical interface with React</h2>
<p>This section mainly uses react to implement UI views. Before this section, a UI view version has been implemented with cocos creator. In order to reuse the basic framework, we abstract the game logic and decouple the logic related to the view engine api. The following is an abstracted interface:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">export interface IGameSceneView &#123;
    getViewComponent(name: string),
    getNewViewComponent(comp),
    getChild(childPath, parent),
    addClickListener(comp, handler, target),
    setCard(card, name),
    setLabel(labelComp, text),
    removeAllChildren(parent),
    addChild(child, parent),
    isCardSelected(card),
    toggleCardSelectedStatus(card),
    showComponent(comp),
    hideComponent(comp)
&#125;</code><!-- HTML_TAG_END --></pre>
<p>Compared with cocos creator, the implementation of react is more operable at the code level. The styles of interface elements are all implemented by handwritten code. The hot-reload that comes with create-react-app also responds to changes very quickly. There is a time to switch editors and wait for the editor to refresh, which is very lightweight.</p>
<p>Code reference <a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode6-react" rel="nofollow">https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode6-react</a></p>
<p>The next article mainly introduces the comparison between cocos creator and react implementation in development.</p>
<p>æœ¬èŠ‚ä¸»è¦æ˜¯ç”¨reactå®ç°UIè§†å›¾ã€‚
åœ¨æœ¬èŠ‚ä¹‹å‰ï¼Œå·²ç»ç”¨cocos creatorå®ç°äº†ä¸€ä¸ªUIè§†å›¾ç‰ˆæœ¬ï¼Œä¸ºäº†é‡ç”¨åŸºç¡€æ¡†æ¶ï¼Œæˆ‘ä»¬å°†æ¸¸æˆé€»è¾‘è¿›è¡ŒæŠ½è±¡ï¼Œå¹¶å°†ä¸è§†å›¾å¼•æ“apiç›¸å…³çš„é€»è¾‘è§£è€¦å‡ºæ¥ã€‚
ä¸‹é¢æ˜¯æŠ½è±¡å‡ºæ¥çš„ä¸€ä¸ªæ¥å£ï¼š</p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IGameSceneView</span> <span class="token punctuation">&#123;</span>
    <span class="token function">getViewComponent</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">getNewViewComponent</span><span class="token punctuation">(</span>comp<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">getChild</span><span class="token punctuation">(</span>childPath<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">addClickListener</span><span class="token punctuation">(</span>comp<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">setCard</span><span class="token punctuation">(</span>card<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">setLabel</span><span class="token punctuation">(</span>labelComp<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">removeAllChildren</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">addChild</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">isCardSelected</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">toggleCardSelectedStatus</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">showComponent</span><span class="token punctuation">(</span>comp<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">hideComponent</span><span class="token punctuation">(</span>comp<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>ç›¸å¯¹äºcocos creatorï¼Œreactçš„å®ç°åœ¨ä»£ç å±‚é¢å¯æ“ä½œæ€§è¾ƒå¼ºï¼Œä½“ç°åœ¨ç•Œé¢å…ƒç´ çš„æ ·å¼éƒ½é€šè¿‡æ‰‹å†™ä»£ç æ¥å®ç°ï¼Œcreate-react-appè‡ªå¸¦çš„hot-reloadä¹Ÿéå¸¸å¿«åœ°åé¦ˆå˜æ›´ï¼Œä¸ä¼šæœ‰åˆ‡æ¢ç¼–è¾‘å™¨å’Œç­‰å¾…ç¼–è¾‘å™¨åˆ·æ–°çš„æ—¶é—´ï¼Œéå¸¸è½»é‡çš„æ„Ÿè§‰ã€‚</p>
<p>ä»£ç å‚è€ƒ <a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode6-react" rel="nofollow">https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode6-react</a></p>
<p>ä¸‹ä¸€ç¯‡ä¸»è¦ä»‹ç»cocos creator ä¸ react å®ç°åœ¨å¼€å‘ä¸Šçš„å¯¹æ¯”ã€‚</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//make-a-multiplayer-card-game-episode-5</guid>
          <title>Make a multiplayer card game - Episode 5 | Create 2D graphical interface with Cocos Creator</title>
          <description>Create 2D graphical interface with Cocos Creator</description>
          <link>https://sveltekit-static-blog-template.vercel.app//make-a-multiplayer-card-game-episode-5</link>
          <pubDate>Tue, 23 Mar 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//make-a-multiplayer-card-game-episode-5">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-5--create-2d-graphical-interface-with-cocos-creator"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-5--create-2d-graphical-interface-with-cocos-creator"><span>#</span></a>Make a multiplayer card game - Episode 5 | Create 2D graphical interface with Cocos Creator</h2>
<p>This chapter is almost a month away from the previous chapter. During this
period, it is mainly about the transformation and reconstruction of the client.
The content of the overall client is almost completely different from the
command-line version of the previous chapter.</p>
<p>According to the previous plan, I converted all the code written in JS to TS and
transplanted the command-line interactive interface to the conventional game
interactive interface (using cocos creator game engine).</p>
<p>Previously, in order to quickly realize the function, the server and client used
only one file to encode. Up to now, the client code of the project has been
modularized, and the classic PureMVC library has been introduced to completely
decouple the UI interaction and data, network messages and game operation logic,
so as to create conditions for extracting the code of the framework independent
of the game engine (it is planned to use one framework to access different view
layer engines).</p>
<p>PureMVC has been introduced in previous articles. The core idea is to decouple
view and data. The data is processed by proxy and the facade is controlled by
proxy.</p>
<p>Compared with the previous version, some changes are involved: -The difference
between socket and web socket API. It mainly includes the names of several
monitored events and the interfaces for sending messages. -UI display layer
independent. Command line output and game engine rendering view interactive
operation interface.</p>
<p><a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode5-UICocosCreator" rel="nofollow">demo url</a></p>
<p>æœ¬ç« ç¦»å‰ä¸€ç« å¿«ä¸€ä¸ªæœˆäº†ï¼Œåœ¨è¿™æ®µæ—¶é—´ï¼Œä¸»è¦æ˜¯å¯¹å®¢æˆ·ç«¯çš„æ”¹é€ å’Œé‡æ„ï¼Œæ•´ä½“å®¢æˆ·ç«¯çš„å†…å®¹å‡ ä¹å®Œå…¨ä¸åŒäºä¸Šä¸€ç« å‘½ä»¤è¡Œç‰ˆæœ¬ã€‚</p>
<p>æŒ‰ç…§ä¹‹å‰çš„è®¡åˆ’ï¼Œæˆ‘å°†ä¹‹å‰ç”¨jså†™çš„ä»£ç å…¨éƒ¨è½¬ä¸ºäº†tsï¼Œå°†å‘½ä»¤è¡Œäº¤äº’ç•Œé¢ç§»æ¤åˆ°å¸¸è§„çš„æ¸¸æˆäº¤äº’ç•Œé¢ï¼ˆåˆ©ç”¨CocosCreatoræ¸¸æˆå¼•æ“ï¼‰ã€‚</p>
<p>ä¹‹å‰ä¸ºäº†å¿«é€Ÿå®ç°åŠŸèƒ½ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åˆ†åˆ«åªç”¨ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œç¼–ç ã€‚
æˆªè‡³ç›®å‰ï¼Œé¡¹ç›®å®¢æˆ·ç«¯ä»£ç è¿›è¡Œäº†æ¨¡å—åŒ–æ”¹é€ ï¼Œå¼•å…¥äº†ç»å…¸çš„PureMVCåº“ï¼Œå°†UIäº¤äº’å’Œæ•°æ®ï¼Œç½‘ç»œæ¶ˆæ¯å’Œæ¸¸æˆæ“ä½œé€»è¾‘å®Œå…¨è§£è—•ï¼Œä¸ºåé¢æå–ä¸æ¸¸æˆå¼•æ“æ— å…³çš„æ¡†æ¶ï¼ˆè®¡åˆ’ç”¨ä¸€ä¸ªæ¡†æ¶æ¥å…¥ä¸åŒè§†å›¾å±‚å¼•æ“ï¼‰ä»£ç åˆ›é€ æ¡ä»¶ã€‚</p>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« é‡Œé¢å·²ç»ä»‹ç»è¿‡PureMVCï¼Œæ ¸å¿ƒçš„æ€æƒ³å°±æ˜¯è§†å›¾ä¸æ•°æ®è§£è—•ã€‚
é€šè¿‡ä¸€ä¸ªé—¨é¢ç±»ï¼ˆFacadeï¼‰æ¥ç»Ÿç®¡æ¡†æ¶ï¼Œç”¨è§†å›¾ä»£ç†ï¼ˆMediatorï¼‰æ§åˆ¶æ˜¾ç¤ºç»„ä»¶é€»è¾‘ï¼Œç”¨æ•°æ®æ¨¡å‹ä»£ç†ï¼ˆProxyï¼‰å­˜å‚¨å’Œå¤„ç†æ•°æ®ã€‚</p>
<p>ç›¸å¯¹äºä¸Šä¸€ç‰ˆï¼Œæ¶‰åŠåˆ°çš„ä¸€äº›æ”¹åŠ¨ï¼š</p>
<ul><li>socket å’Œ web socket api çš„åŒºåˆ«ã€‚ä¸»è¦æ˜¯å‡ ä¸ªç›‘å¬çš„äº‹ä»¶åå­—ï¼Œå’Œå‘é€æ¶ˆæ¯çš„æ¥å£ã€‚</li>
<li>uiæ˜¾ç¤ºå±‚ç‹¬ç«‹ã€‚å‘½ä»¤è¡Œè¾“å‡ºå’Œæ¸¸æˆå¼•æ“æ¸²æŸ“è§†å›¾äº¤äº’æ“ä½œç•Œé¢ã€‚</li></ul>
<p><a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode5-UICocosCreator" rel="nofollow">demo url</a></p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//prior-for-e5-puremvc</guid>
          <title>PureMVC | Prior for Episode 5</title>
          <description>PureMVC will be included in next episode.</description>
          <link>https://sveltekit-static-blog-template.vercel.app//prior-for-e5-puremvc</link>
          <pubDate>Tue, 16 Mar 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//prior-for-e5-puremvc">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="puremvc--prior-for-episode-5"><a class="heading-link" title="Permalink" aria-hidden="true" href="#puremvc--prior-for-episode-5"><span>#</span></a>PureMVC | Prior for Episode 5</h2>
<blockquote><p>PureMVC will be included in next episode.</p></blockquote>
<blockquote><p>PureMVC is a framework for creating applications based upon the
well-established modelâ€“viewâ€“controller (MVC) design pattern. The free, open
source framework was originally implemented in the ActionScript 3 language for
use with Adobe Flex, Flash and AIR, and it has since been ported to nearly all
the major web development platforms.</p></blockquote>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1648287487663/TkUwfryAy.jpg" alt="puremvc.jpg"></p>
<p>Advantages and disadvantages of PureMVC:</p>
<ul><li><strong>Advantages </strong></li></ul>
<ol><li><p>Use intermediaries, agents and commands to realize decoupling, which reduces
the coupling among model, view and controller and improves the reuse of some
codes</p></li>
<li><p>The view interface can be reused</p></li>
<li><p>Model data can be reused</p></li></ol>
<ul><li><strong>Disadvantages </strong></li></ul>
<ol><li>Code redundancy is large. For simple functions, you have to create view,
mediator, command, facade, proxy and model scripts</li>
<li>The operation process is a cumbersome process, and the code in mediator will
appear complex and difficult to understand, unless you are familiar with the
implementation principle of PureMVC</li></ol>
<ul><li><strong>PureMVC features</strong></li></ul>
<ol><li>The notice shall be delivered through the operation of packing and unpacking</li>
<li>The command / notification is implemented in the observer mode. The command /
notification uses the reflection acquisition method in the observer and is
executed</li>
<li>No service (this module for network communication can be added according to
the structure of MVC)</li>
<li>Data is transmitted through notification. Sendnotification has only one
object type parameter. It will feel that the data transmission is limited.
You can combine the data into a type / structure for transmission, or expand
another parameter for notification.</li></ol>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//prior-for-e5-ccc</guid>
          <title>Prior for Episode 5 - Cocos Creator</title>
          <description>I am writing a demo by Cocos Creator for episode 5</description>
          <link>https://sveltekit-static-blog-template.vercel.app//prior-for-e5-ccc</link>
          <pubDate>Tue, 09 Mar 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//prior-for-e5-ccc">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="cocos-creator--prior-for-episode-5"><a class="heading-link" title="Permalink" aria-hidden="true" href="#cocos-creator--prior-for-episode-5"><span>#</span></a>Cocos Creator | Prior for Episode 5</h2>
<blockquote><p>I am wirting a demo by Cocos Creator for episode 5</p></blockquote>
<h3 id="what"><a class="heading-link" title="Permalink" aria-hidden="true" href="#what"><span>#</span></a>What</h3>
<p>Cocos Creator is a content creation-focused, scripted, component-based and
data-driven game development tool. It features an easy-to-use content production
workflow and a powerful developer tool suite for implementing game logic and
high-performance game effects. In keeping with Cocosâ€™s usual product features
like open-source, easy-to-use, high-performance and cross-platform, this new
game engine is designed to be the new choice for developers to create 2D and 3D
games.</p>
<h3 id="why"><a class="heading-link" title="Permalink" aria-hidden="true" href="#why"><span>#</span></a>Why</h3>
<ul><li>Easy to use with developer tool suite especially a official visualize editor</li>
<li>Integrate many target platformsâ€™ SDK</li>
<li>Well popularity of Mini Game on Wechat and other platform apps</li>
<li>Almost same work flow with Unity, attract developer who use Unity before and
want post game on mini game platform</li></ul>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//play-cards-with-other-players-e4</guid>
          <title>Make a multiplayer card game - Episode 4</title>
          <description>Play cards with other players</description>
          <link>https://sveltekit-static-blog-template.vercel.app//play-cards-with-other-players-e4</link>
          <pubDate>Tue, 02 Mar 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//play-cards-with-other-players-e4">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-4--play-cards-with-other-players"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-4--play-cards-with-other-players"><span>#</span></a>Make a multiplayer card game - Episode 4 | Play cards with other players</h2>
<blockquote><p>This section is a milestone in this series of tutorials, and after this
article, there will present a complete multiplayer local online card game.</p></blockquote>
<p>The key point of this section is how to link multiplayer to play.</p>
<h4 id="almost-all-changes-is-on-the-server-side"><a class="heading-link" title="Permalink" aria-hidden="true" href="#almost-all-changes-is-on-the-server-side"><span>#</span></a>Almost all changes is on the server side:</h4>
<p>We make a server and listen on â€œconnectionâ€ event.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">const net = require(&#39;net&#39;);
const server = net.createServer();
server.on(&quot;connection&quot;,()=&gt;&#123;&#125;);</code><!-- HTML_TAG_END --></pre>
<p>Then we generate a player ID and seat number for the player connecting.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">var playerIDArr = [];
function generatePlayerIDAndSeatNumber() &#123;
    let _seat = playerIDArr.length;
    let _id = Math.floor(Math.random() * 10000);
    let _isExist = playerIDArr.indexOf(_id) != -1;
    if (_isExist) &#123;
        generatePlayerIDAndSeatNumber();
    &#125; else &#123;
        playerIDArr.push(_id);
    &#125;
    return &#123; id: _id, seat: _seat &#125;;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>Back to the â€œconnectionâ€ event, we assign some attributes on socket to make a
identification.</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript">server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"connection"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> _id_seat <span class="token operator">=</span> <span class="token function">generatePlayerIDAndSeatNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> _playerID <span class="token operator">=</span> _id_seat<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
  <span class="token keyword">let</span> _seatNumber <span class="token operator">=</span> _id_seat<span class="token punctuation">.</span>seat<span class="token punctuation">;</span>
  socket<span class="token punctuation">.</span>id <span class="token operator">=</span> _playerID<span class="token punctuation">;</span>
  socket<span class="token punctuation">.</span>seat <span class="token operator">=</span> _seatNumber<span class="token punctuation">;</span>
  socketDic<span class="token punctuation">[</span>_playerID<span class="token punctuation">]</span> <span class="token operator">=</span> socket<span class="token punctuation">;</span>

  <span class="token function">addSocketListener</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>Add event listener to each socket, listen playersâ€™ interaction information
through data which cotain the command ID to route different game logic:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function addSocketListener(socket) &#123;
    socket.on(&#39;data&#39;, (data) =&gt; &#123;
        let _playerID = socket.id;
        decodeData(data, _playerID);
    &#125;);
    socket.on(&#39;error&#39;, (error) =&gt; &#123;
        //player disconnect
        console.log(error);
    &#125;);
&#125;</code><!-- HTML_TAG_END --></pre>
<p>the server forwards each playerâ€™s messages, which are divided into separate
sending and broadcasting.</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">//send to a specific player
function send(playerID, cmd, data) &#123;
    if (!mIsGaming) return;
    const _dataBuffer = encodeData(cmd, data);
    if (_dataBuffer) socketDic[playerID].write(_dataBuffer);
&#125;
//send to all players
function broadcast(cmd, data) &#123;
    if (!mIsGaming) return;
    const _dataBuffer = encodeData(cmd, data);
    if (_dataBuffer) &#123;
        let _keyArr = Object.keys(socketDic);
        for (let i = 0; i &lt; _keyArr.length; i++) &#123;
            let _socket = socketDic[_keyArr[i]];
            _socket.write(_dataBuffer);
        &#125;
    &#125;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>Thatâ€™s all the key points in this section, as above present, players can be
connect to a server and play with each other. You can check
<a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode4" rel="nofollow">episode4 tag</a>
to see the complete code.</p>
<hr>
<p>The progress of the project up to this point have make a milestone, will not add
new content to the relevant repo main branch, excluding the subsequent
refactoring to prepare for the involvement of the game engine and framework.</p>
<p>The addition of new content will open another branch for development. Like each
episode, a tag will still be added after the chapter ends. You can find the
content of the corresponding chapter through the corresponding tag at any time.</p>
<p>In order to reflect the simplicity of native nodejs, I chose javascript. But I
have been developing with typescript in the past few years, is not very familiar
with javascript, which I must spend a little bit more time on debugging.</p>
<p>The content of the following chapters will expand rapidly. For either the
robustness of development or my proficiency. I will use typescript for new
content development and refactoring in later articles.</p>
<p><strong>The next episode, as the content list in the first episode, I will add game
engine Cocos Creator, before which I will make a refactory, besides move
javascript to typescript, but something about modularity.</strong></p>
<p>Thanks for your reading, and discussion is always welcome, I am very glad to
talk with you in below comment sectionğŸ˜Š.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//change-json-to-protocol-buffers-e3</guid>
          <title>Make a multiplayer card game - Episode 3</title>
          <description>Change JSON to Protocol Buffers</description>
          <link>https://sveltekit-static-blog-template.vercel.app//change-json-to-protocol-buffers-e3</link>
          <pubDate>Tue, 23 Feb 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//change-json-to-protocol-buffers-e3">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-3--change-json-to-protocol-buffers"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-3--change-json-to-protocol-buffers"><span>#</span></a>Make a multiplayer card game - Episode 3 | Change JSON to Protocol Buffers</h2>
<blockquote><p>Protocol buffers are a language-neutral, platform-neutral extensible mechanism
for serializing structured data. It has many advantages such as â€œLesser in
Size and Better in Performanceâ€, like this article
<a href="https://anuragthakur.hashnode.dev/protobuf-why-google-moved-from-json-to-protocol-buffers-ckdxb8sgi03kdjas17ril3fbi" rel="nofollow">Why Google moved from JSON to Protocol Buffers?</a>
introduce.</p></blockquote>
<p>I used it on all the projects Iâ€™ve worked on over the years. Besides the better
performance, what make me impressed is that the clean communication between
client and server with protocol buffers.</p>
<blockquote><p>You can clone
<a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode3" rel="nofollow">demo for episode3</a>
which including all the bellow content.</p></blockquote>
<p>According to the
<a href="https://github.com/protocolbuffers/protobuf" rel="nofollow">official tutorial</a>, two steps
should be done:</p>
<ol><li>Install the runtime library <code>google-protobuf</code>:<code>npm install
google-protobuf</code>.</li>
<li>Get the Protocol Compiler <code>protoc</code>: download from
<a href="https://github.com/protocolbuffers/protobuf/releases" rel="nofollow">https://github.com/protocolbuffers/protobuf/releases</a></li></ol>
<p>Then run a command like <code>protoc â€”js_out=import_style=commonjs,binary:.
messages.proto base.proto</code>, you can get the <code>.js</code> file from</p>
<code>.proto</code>.
<p>When the <code>.js</code> file generated, the protocol buffers environment is
ready.</p>
<p>Back to our game, we should create a <code>.proto</code> file, named</p>
<code>card-game.proto</code>.
<p>The first line in <code>.proto</code> file should be:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">syntax = &quot;proto3&quot;;</code><!-- HTML_TAG_END --></pre>
<p>which means which version of Protobuf we are using.</p>
<p>Define the enum of Cmd:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">enum Cmd&#123;
    NONE = 0;
    READY_C2S = 1;
    DEALCARDS_S2C = 2;
    COMPETEFORLANDLORDROLE_C2S = 3;
    PLAYTURN_S2C = 4;
    PLAYCARDS_C2S = 5;
    PLAYCARDS_S2C = 6;
    ILLEGALCARDS_S2C = 7;
    GAMEEND_S2C = 8;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>enum Cmd is for routing, will be introduced later.</p>
<p>Define MainMessage message:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">message MainMessage&#123;
    uint32 cmd_id = 1;
    bytes data =2;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>In order to encapsulate the header and data body, we should assign serialized
message to the data attribute.</p>
<p>Define data message like:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">message DealCards_S2C&#123;
    repeated uint32 cards = 1;
    uint32 seat_number = 2;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>Then, generate our own <code>.js</code> file.</p>
<p>As the episode3 demo show, run command bellow in directory proto.</p>
<ul><li><p>Windows</p>
<code>.\protoc.exe --js_out=import_style=commonjs,binary:out
card-game.proto</code></li>
<li><p>MacOS</p>
<code>./protoc --js_out=import_style=commonjs,binary:out
card-game.proto</code></li></ul>
<p>Now, we have our own <code>.js</code> file from the <code>.proto</code> in which
we define message.</p>
<p>Letâ€™s encoding and decoding message with protocol buffers.</p>
<p>Encoding: &gt;enum Cmd is used to map message type here</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function encodeData(cmd, data) &#123;
    let _proto_struct_obj;
    switch (cmd) &#123;
        case card_game_pb.Cmd.DEALCARDS_S2C:
            _proto_struct_obj = new card_game_pb.DealCards_S2C();
            _proto_struct_obj.setCardsList(data.cards);
            _proto_struct_obj.setSeatNumber(data.seatNumber);
            break;
        case card_game_pb.Cmd.PLAYCARDS_S2C:
            _proto_struct_obj = new card_game_pb.PlayCards_S2C();
            _proto_struct_obj.setCardsList(data.cards);
            _proto_struct_obj.setSeatNumber(data.seatNumber);
            break;
        case card_game_pb.Cmd.ILLEGALCARDS_S2C:
            _proto_struct_obj = new card_game_pb.IllegalCards_S2C();
            _proto_struct_obj.setSeatNumber(data.seatNumber);
            break;
        case card_game_pb.Cmd.GAMEEND_S2C:
            _proto_struct_obj = new card_game_pb.GameEnd_S2C();
            _proto_struct_obj.setSeatNumber(data.seatNumber);
            break;
        case card_game_pb.Cmd.PLAYTURN_S2C:
            _proto_struct_obj = new card_game_pb.PlayTurn_S2C();
            _proto_struct_obj.setHandCardsList(data.handCards);
            _proto_struct_obj.setSeatNumber(data.seatNumber);
            break;
        default:
            console.log(&quot;no message matched.&quot;)
    &#125;
    if (_proto_struct_obj) &#123;
        let _mainMsg = new card_game_pb.MainMessage();
        _mainMsg.setCmdId(cmd);
        let _data = _proto_struct_obj.serializeBinary();
        _mainMsg.setData(_data);
        let _completeData = _mainMsg.serializeBinary();
        return _completeData;
    &#125;
    return null;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>Decoding: &gt;enum Cmd is used to map message type here</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function decodeData(buffer) &#123;
    let _mainMsg = card_game_pb.MainMessage.deserializeBinary(buffer);
    let _cmd = _mainMsg.getCmdId();
    let _bytesData = _mainMsg.getData();
    let _data;
    switch (_cmd) &#123;
        case card_game_pb.Cmd.READY_C2S:
            _data = card_game_pb.Ready_C2S.deserializeBinary(_bytesData);
            _data = &#123;
                seatNumber: _data.getSeatNumber()
            &#125;
            if (_this.ready_C2S) _this.ready_C2S(_data);
            break;
        case card_game_pb.Cmd.PLAYCARDS_C2S:
            _data = card_game_pb.PlayCards_C2S.deserializeBinary(_bytesData);
            _data = &#123;
                cards: _data.getCardsList(),
                seatNumber: _data.getSeatNumber()
            &#125;
            if (_this.playCards_C2S) _this.playCards_C2S(_data);
            break;
        case card_game_pb.Cmd.COMPETEFORLANDLORDROLE_C2S:
            _data = card_game_pb.CompeteForLandLordRole_C2S.deserializeBinary(_bytesData);
            _data = &#123;
                score: _data.getScore(),
                seatNumber: _data.getSeatNumber()
            &#125;
            if (_this.competeForLandLordRole_C2S) _this.competeForLandLordRole_C2S(_data);
            break;
        default:
            console.log(&quot;no message matched.&quot;)
    &#125;
&#125;</code><!-- HTML_TAG_END --></pre>
<blockquote><p>Caution:</p>
<ol><li>Attributes defined as <strong>seat_number</strong> in <code>.proto</code> file should be
call like getSeatNumber and setSeatNumebr.</li>
<li>Attributes defined as <strong>repeated</strong> type in <code>.proto</code> should call
getAttributeNameList and setAttributeList instead of the attribute self
name.</li></ol></blockquote>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//prior-knowledge-for-episode-2</guid>
          <title>Prior Knowledge For Episode 2</title>
          <description>Prior Knowledge For Episode 2</description>
          <link>https://sveltekit-static-blog-template.vercel.app//prior-knowledge-for-episode-2</link>
          <pubDate>Tue, 16 Feb 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//prior-knowledge-for-episode-2">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="prior-knowledge-for-episode-2"><a class="heading-link" title="Permalink" aria-hidden="true" href="#prior-knowledge-for-episode-2"><span>#</span></a>Prior Knowledge For Episode 2</h2>
<p>Before episode 2, weâ€™d better to know the rule of the game we are going to make.</p>
<blockquote><p>Background story:</p></blockquote>
<blockquote><p>In the old days in China, the rich and powerful landowners oppressed the
farmers who work hard on the land, threatened the villagers . In order to gave
full vent to their hate, the farmers invent the â€œFighting the Landlordsâ€.</p></blockquote>
<blockquote><p>At the beginning, the landlords were given three more cards to highlight the
domineering of the landlords, while the farmers Use two-on-one to express the
psychology of winning by teamwork.</p></blockquote>
<ol><li><p>Basic Rules The landlord is on one side, and the other two players are on the
farmer side. The game ends when any player finishes playing cards. There are
54 cards in total. After the game starts, each of the 3 players is dealt 17
cards, and the remaining 3 cards are the landlord cards.</p></li>
<li><p>The brand</p>
<ul><li>Spring: After the landlord has played all the cards, and the peasants have
not played a single card, it is spring.</li>
<li>Anti-Spring: After the landlord plays the first hand of cards, the farmer
controls it, and until the farmer finishes playing the hand, the landlord
has not played a card, that is, the anti-spring.</li>
<li>Double: After confirming the landlord again, both the landlord and the
peasant can freely choose to double or not to double, and if they choose to
double, the multiple will be x 2 (if both of them choose double, the
multiple will be x 4).</li>
<li>King Fried: That is, the double king is in hand, and the card type is the
largest card type and can press any card type.</li>
<li>Bomb: Four cards of the same rank are bomb cards. For example: 4444.</li>
<li>Single: A single card.</li>
<li>Pair: Two cards of the same value.</li>
<li>Three Cards: Three cards of the same rank.</li>
<li>Three with one: Three cards of the same rank + any single card. For
example: 333+4.</li>
<li>Three with two: Three cards of the same rank + a pair of cards. For
example: 333+44.</li>
<li>Four with two: Four cards of the same rank + any two cards. For example:
3333+4+5 or 3333+44.</li>
<li>Straight: A single card with five or more consecutive points, 2 and the
king cannot be linked. For example: 34567.</li>
<li>Connected Pair: Three or more consecutive pairs of cards, 2 and king cannot
be connected. For example: 334455.</li>
<li>Airplane: Two or more adjacent three cards, 2 and the king cannot be
connected. For example 333444.</li>
<li>Airplane with wings: Plane + the same number of singles or pairs. For
example: 333444+5+6 or 333444+55+66.</li></ul></li>
<li><p>Multiples</p>
<ul><li>Bomb (King Bomb): x2</li>
<li>Spring: x2</li>
<li>Anti-spring: x2</li>
<li>Pair, Flush, King: x2</li>
<li>Double king and straight in the hole card: x3</li>
<li>A straight flush, three cards in the hole card: x4</li></ul></li>
<li><p>Game Rules</p>
<ul><li>The system randomly selects a player to call the landlord first, and then
the other 2 will grab the landlord or not.</li>
<li>When calling the landlord, you can choose not to call or call the landlord.
After someone calls the landlord, you can rob the landlord. Call the
landlord multiples of 1, 2, and 3 times, and the first to grab 3 times is
the landlord.</li>
<li>After confirming the landlord, the three hole cards are shown and the
landlord gets the last three hole cards.</li>
<li>In the card playing stage, when it is your turn to press the card, you can
freely choose not to play or play a higher card than the previous player.</li>
<li>The game ends when any farmer player finishes playing cards, and 2 peasants
win. If the landlord have finished playing cards, the game ends and the
landlord wins.</li></ul></li></ol>
<p>Fighting the Landlord itself is a strategic game. As a landlord, you must
understand the advantages of your three cards. As a farmer, when your own
advantages are insufficient, you must choose to cooperate in a group.
Opportunity to defeat the landlord to win.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//play-cards-in-terminal-with-bots-e2</guid>
          <title>Play cards in terminal with bots - Episode 2</title>
          <description>Play cards in terminal with bots</description>
          <link>https://sveltekit-static-blog-template.vercel.app//play-cards-in-terminal-with-bots-e2</link>
          <pubDate>Tue, 09 Feb 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//play-cards-in-terminal-with-bots-e2">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-2--play-cards-in-terminal-with-bots"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-2--play-cards-in-terminal-with-bots"><span>#</span></a>Make a multiplayer card game - Episode 2 | Play cards in terminal with bots</h2>
<blockquote><p>Before the tech content, I canâ€™t help but express my feeling after writing my
first blog post.</p></blockquote>
<blockquote><p>I have learned a lot from writing blog. I will never understand the benefits
contained in it before I wrote the first blog.</p></blockquote>
<blockquote><p>The output of the content will prompt you to review the known knowledge. In
the process of reviewing the known knowledge, you will comprehend new
cognition from the old knowledge by sorting out and summarizing the knowledge.
In order to make it easier for readers to understand, you will understand the
previously vague knowledge points by learning new knowledge.</p></blockquote>
<blockquote><p>At the same time, I began to understand the authorâ€™s gratitude to his family
in the preface of the book. Content output is a time-consuming and
labor-intensive thing that requires a high degree of concentration.</p></blockquote>
<blockquote><p>If you are a developer and have not started your own blog writing, it is
recommended to start now, no matter the content is good or bad, take the first
step and feel the magical power of the output of the content.</p></blockquote>
<p>Based on the server and client we had create in the previous episode, we
concentrate on the logic of game process flow this time. For easy understanding,
we ignore some process such as calculating score which we will supplement in the
multi player version.</p>
<p>First of all, have a look at the new directory structure:</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1645975508993/Svw37SWa5.png" alt="Screen Shot 2022-02-27 at 23.24.54.png"></p>
<p>As we can see above, we add a directory named share, which will be use by both
client and server.</p>
<code>helper.js for common logic.</code>
<code>proto.js for message definitions.</code>
<code>rule-checker.js for rule of our card game &quot;Doudizhu&quot;.</code>
<ol><li>Define messages between client and server.</li></ol>
<p>share/proto.js:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function generateEnum(protoArr) &#123;
    let _enum = &#123;&#125;;
    for (let i = 0; i &lt; protoArr.length; i++) &#123;
        const _protoName = protoArr[i];
        const _cmdID = i;
        _enum[_enum[_protoName] = _cmdID] = _protoName;
    &#125;
    return _enum;
&#125;

const ENUM_CMD_FN = generateEnum(
    [
        &quot;ready_C2S&quot;,
        &quot;dealCards_S2C&quot;,
        &quot;competeForLandLordRole_C2S&quot;,
        &quot;playTurn&quot;,
        &quot;playCards_C2S&quot;,
        &quot;playCards_S2C&quot;,
        &quot;notAllowedByRule_S2C&quot;,
        &quot;gameEnd_S2C&quot;
    ]);

module.exports = &#123; ENUM_CMD_FN: ENUM_CMD_FN &#125;</code><!-- HTML_TAG_END --></pre>
<p>The codes above create a enum like structure, which make the communication
intuitive. We define the function in client and server with the same name
created in it.</p>
<p>We encode message by the cmdID. server/index.js:</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function encodeData(cmd, data)&#123;
    let _header = Buffer.alloc(1);
    _header.writeUInt8(cmd);
    let _body = Buffer.from(JSON.stringify(data));
    const _dataBuffer = Buffer.concat([_header, _body]);
    return _dataBuffer;
&#125;</code><!-- HTML_TAG_END --></pre>
<p>And decode message by cmdID to find the function to execute. server/index.js</p>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">function decodeData(data) &#123;
    let _cmd = data.readUInt8();
    let _body = JSON.parse(data.slice(1));
    const _funcName = ENUM_CMD_FN[_cmd];
    if (_funcName &amp;&amp; typeof _this[_funcName] == &quot;function&quot;) _this[_funcName](_body);
&#125;</code><!-- HTML_TAG_END --></pre>
<blockquote><p>Caution: the function called through _this[_funcName] must be define as:</p></blockquote>
<pre class="language-undefined"><!-- HTML_TAG_START --><code class="language-undefined">this.dealCards_S2C = function (data) &#123;
    let _cards = data.cards;
    mCardsArr = sortByValue(_cards);
    let _myHandCardsShowArr = convert2ReadableNames(mCardsArr);
    console.log(&#39;Deal cards complete, your seat number is-&gt; &#39;, data.seatNumber, &#39;your cards-&gt;&#39;, _myHandCardsShowArr.join(&#39;,&#39;));
    console.log(&#39;Select a score to confirm role (you can input 1|2|3, the one who select the biggest number will be the land lord, and the base score is the selected number.): &#39;);
    const _score = getInputFromCmd();
    this.competeForLandLordRole_C2S(_score);
&#125;</code><!-- HTML_TAG_END --></pre>
<blockquote><p>define like function dealCards_S2C(), can not be found.</p></blockquote>
<p>The key point of this episode is all above, other codes are all about the game
process flow and rules which has introduce in my
<a href="https://lizhiyu.me/prior-knowledge-for-episode-2" rel="nofollow">previous post</a>. If you has
interest in this game, please clone the demo and play with the bots.</p>
<p>The complete demo can be found on:
<a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode2" rel="nofollow">https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode2</a></p>
<p>Any problems, discussion is welcome.</p>
<p><strong>In the next episode, we will add the
<a href="https://github.com/protocolbuffers/protobuf" rel="nofollow">protobuf.js</a> which is most popular
in game development to define our messages between client and server.</strong></p>
<p>Thanks for your reading.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//create-a-simple-server-and-client-from-scratch-e1</guid>
          <title>Make a multiplayer card game - Episode 1</title>
          <description>Create a simple server and client from scratch</description>
          <link>https://sveltekit-static-blog-template.vercel.app//create-a-simple-server-and-client-from-scratch-e1</link>
          <pubDate>Tue, 02 Feb 2021 05:55:15 +0800</pubDate>
          <category>Tutorial:Make a multiplayer card game</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//create-a-simple-server-and-client-from-scratch-e1">
                  read on the site!
                </a>
              </strong>
            </div>

            <h2 id="make-a-multiplayer-card-game---episode-1--create-a-simple-server-and-client-from-scratch"><a class="heading-link" title="Permalink" aria-hidden="true" href="#make-a-multiplayer-card-game---episode-1--create-a-simple-server-and-client-from-scratch"><span>#</span></a>Make a multiplayer card game - Episode 1 | Create a simple server and client from scratch</h2>
<p>In the coming weeks, Iâ€™ll be updating a series of tutorials on making a
multiplayer online card games base on the rule of the most popular Chinese card
game â€œDoudizhuâ€, which means battle with landlord. I divide this series in many
small part to make it easy for most friends. If you know a little javascript,
all the better.</p>
<p>Parts including:</p>
<ul><li>create a simple server and client</li>
<li>play cards in terminal with bots</li>
<li>communicate with server by protobuf</li>
<li>play cards in terminal with other players</li>
<li>create 2D graphical interface with Cocos Creator</li>
<li>create 2D graphical interface with React</li>
<li>create 3D graphical interface with Three.js</li>
<li>add physical lib ammo.js to add a tiny game</li>
<li>connect to Web3 world</li></ul>
<p><em>open your terminal, input <code>node -v</code>, if something go wrong, please install
node.js first <a href="Link">https://nodejs.org</a>.</em></p>
<p>directory structure :
<img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1644775769474/2OAtz4Ljw.jpeg" alt="demo0-document-tree.jpg"></p>
<p>create a server, server/index.js:</p>
<div class="code-block svelte-1pkpsrg">
	
	<pre class="language-ts"><!-- HTML_TAG_START --><code class="language-ts"><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">"net"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> net<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">handlerData</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handlerData</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">send</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token string-property property">"msg"</span><span class="token operator">:</span> <span class="token string">"Welcome, friend."</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">send</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> bufferData <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  socket<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bufferData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"server listening on 127.0.0.1:8080"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
</div>
<p>create client, client/index.js:</p>
<div class="code-block svelte-1pkpsrg">
	
	<pre class="language-ts"><!-- HTML_TAG_START --><code class="language-ts"><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">"net"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">net</span><span class="token punctuation">.</span><span class="token function">Socket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

socket<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  host<span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>
  port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> onConnected<span class="token punctuation">)</span><span class="token punctuation">;</span>

socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token function">decode</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">decode</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> bufferData <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token string-property property">"msg"</span><span class="token operator">:</span> data <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  socket<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bufferData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
</div>
<p>run :</p>
<p><code>cd server</code></p>
<p><code>node index.js</code></p>
<p><code>cd client</code></p>
<p><code>node index.js</code></p>
<p>result:</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1644776034549/t-Jir1j9R.png" alt="demo0-cmd-result.png"></p>
<p>This episode is end here, the complete demo can be found on
<a href="https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode1" rel="nofollow">https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode1</a></p>
<p>Any problems, discussion is welcome.</p>
<p><strong>In the next section, we will add the logic of Doudizhu game, and you will have
completed a playable game in your terminal. </strong></p>
<p>Thanks for your reading.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//customization</guid>
          <title>How to Customize this Template</title>
          <description>How to customize what you're seeing here and make it your own.</description>
          <link>https://sveltekit-static-blog-template.vercel.app//customization</link>
          <pubDate>Wed, 23 Apr 1997 05:55:27 +0800</pubDate>
          <category>Documentation</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//customization">
                  read on the site!
                </a>
              </strong>
            </div>

            <p>In general, content can be modified by editing the <strong>organisms</strong> and the pages themselves. Below is a list of the most common changes that you may want to make.</p>
<h2 id="domainsite-url"><a class="heading-link" title="Permalink" aria-hidden="true" href="#domainsite-url"><span>#</span></a>Domain/site URL</h2>
<p>The first thing you might want to do is replace the domain of of the site with your own. There are two places where you need to do that:</p>
<ul><li>In the <code>package.json</code> file, check the <code>postbuild</code> script. Change the domain there to your own, so it ends up like this: <code>svelte-sitemap --domain https://your-domain.com</code>. This is used to generate the sitemap of your website, which is used by search engines to index your site.</li>
<li>In the <code>src/lib/data/meta.ts</code> file, change the <code>siteBaseUrl</code> property to your own domain. This is used in multiple parts of the app wherever the site needs to link to itself.</li></ul>
<h2 id="headersite-logo"><a class="heading-link" title="Permalink" aria-hidden="true" href="#headersite-logo"><span>#</span></a>Header/site logo</h2>
<p>To replace the logo that appears in the header, modify or replace the contents of the <code>Logo.svelte</code> atom.</p>
<p>The links that appear on the header can be modified directly in the <code>Header.svelte</code> organism.</p>
<h2 id="hero-section"><a class="heading-link" title="Permalink" aria-hidden="true" href="#hero-section"><span>#</span></a>Hero section</h2>
<p>The hero section is the first section of the siteâ€™s home page. It is composed of a Heading, the <em>intro</em> text, and a list of buttons/CTAs. The contents of this section can be modified directly in the <code>Hero.svelte</code> organism.</p>
<h2 id="about-section"><a class="heading-link" title="Permalink" aria-hidden="true" href="#about-section"><span>#</span></a>About section</h2>
<p>The about section contains another headline, a paragraph of text, some social media links, and optionally an image. The contents of this section can be modified directly in the <code>About.svelte</code> organism.</p>
<h2 id="social-links"><a class="heading-link" title="Permalink" aria-hidden="true" href="#social-links"><span>#</span></a>Social Links</h2>
<p>The social links are contained in the <code>Socials.svelte</code> molecule and can be used in any page. This template shows them on the About section and in the Footer.</p>
<h2 id="footer"><a class="heading-link" title="Permalink" aria-hidden="true" href="#footer"><span>#</span></a>Footer</h2>
<p>The footer contains some credits, a list of social links, and the RSS/Theme toggle. The contents of this section can be modified directly in the <code>Footer.svelte</code> organism.</p>
<h2 id="colors"><a class="heading-link" title="Permalink" aria-hidden="true" href="#colors"><span>#</span></a>Colors</h2>
<p>You can change the color palette of the website just by tweaking the <code>_themes.scss</code> file. The file uses the <code>define-color</code> scss function to automatically set the color variables in Hex, RGB and HSL formats, so you can choose whichever format you need.</p>
<p>The main theme colors (primary and secondary) have two variants: shade and tint. The shade is a lighter version of the color (darker in dark mode), and the tint should almost match the pageâ€™s background, so that in light mode, itâ€™s really bright, and in dark mode, itâ€™s really dark.</p>
<h2 id="fonts"><a class="heading-link" title="Permalink" aria-hidden="true" href="#fonts"><span>#</span></a>Fonts</h2>
<p>This template uses the Inter, Merriweather and Ubuntu Mono font families. You can change the font family by editing the <code>_variables.scss</code> file, and the code is already set up to accept a default font, a heading font, and a monospace font.</p>
<p>I recommend using <a href="https://fontsource.org/" rel="nofollow">Fontsource</a> to import the fonts you need, or self-hosting them. In case youâ€™re using Fontsource, you can import the fonts in <code>global.scss</code> file to make sure theyâ€™re available in the entire site.</p>
<h2 id="favicon"><a class="heading-link" title="Permalink" aria-hidden="true" href="#favicon"><span>#</span></a>Favicon</h2>
<p>Favicons are located in the <code>static/favicons</code> folder. I like to use <a href="https://realfavicongenerator.net" rel="nofollow">Real Favicon Generator</a> to generate mine, but you can use any other tool you like. I wrote <a href="https://fantinel.dev/fixing-favicons" rel="nofollow">a blog post about Favicons</a> in case you want to learn more about them.</p>
<h2 id="social-media-link-preview"><a class="heading-link" title="Permalink" aria-hidden="true" href="#social-media-link-preview"><span>#</span></a>Social Media Link Preview</h2>
<p>You probably want to customize how links to your website look when posted on social media/messaging apps. To do that, you can edit the info in <code>src/lib/data/meta.ts</code>. There, you can edit the siteâ€™s title, description, tags (used by search engines) and the image that appears when sharing a link.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/customization.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/customization.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//project-structure</guid>
          <title>Project Structure</title>
          <description>How code and structure are organized.</description>
          <link>https://sveltekit-static-blog-template.vercel.app//project-structure</link>
          <pubDate>Wed, 23 Apr 1997 05:55:21 +0800</pubDate>
          <category>Documentation</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//project-structure">
                  read on the site!
                </a>
              </strong>
            </div>

            <p>This project follows the basic <a href="https://kit.svelte.dev/docs/project-structure" rel="nofollow">SvelteKit structure</a>, with some added conventions to make customization a post-management easier.</p>
<h2 id="components"><a class="heading-link" title="Permalink" aria-hidden="true" href="#components"><span>#</span></a>Components</h2>
<p>The components are organized following the <a href="https://medium.com/@WeAreMobile1st/atomic-design-getting-started-916bc81bad0e" rel="nofollow">Atomic Design</a> principles, albeit somewhat simplified. Components are in the <code>src/lib/components</code> folder, and are organized in the following way:</p>
<h3 id="atoms"><a class="heading-link" title="Permalink" aria-hidden="true" href="#atoms"><span>#</span></a>Atoms</h3>
<p>Atoms are the most basic components, which can be seen as building blocks for other components. Theyâ€™re small and self-contained, and do only one thing. Examples of atoms are buttons, inputs, and tags.</p>
<h3 id="molecules"><a class="heading-link" title="Permalink" aria-hidden="true" href="#molecules"><span>#</span></a>Molecules</h3>
<p>Molecules are groups of atoms that work together to form a more complex component. Examples of molecules are cards, groups of links, or an alert callout.</p>
<h3 id="organisms"><a class="heading-link" title="Permalink" aria-hidden="true" href="#organisms"><span>#</span></a>Organisms</h3>
<p>Organisms, in this project, are code blocks that represent a section of a page, such as the header, footer and hero section. They can be used directly in a page as a sort of building block, so the pageâ€™s code can be as simple as this:</p>
<div class="code-block svelte-1pkpsrg"><div class="filename svelte-1pkpsrg">+page.svelte</div>
	<div class="lang svelte-1pkpsrg">html</div>
	<pre class="language-html"><!-- HTML_TAG_START --><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Hero</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>About</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Footer</span> <span class="token punctuation">/></span></span></code><!-- HTML_TAG_END --></pre>
</div>
<h2 id="component-gallery"><a class="heading-link" title="Permalink" aria-hidden="true" href="#component-gallery"><span>#</span></a>Component Gallery</h2>
<p>This project uses <a href="https://histoire.dev" rel="nofollow">Histoire</a> to be able to see and develop components in isolation. To open it, run <code>npm run story:dev</code>. This way you can customize and build new components with placeholder content and without worrying about where to put them in a page.</p>
<h2 id="pages"><a class="heading-link" title="Permalink" aria-hidden="true" href="#pages"><span>#</span></a>Pages</h2>
<p>Pages obey the default SvelteKit structure, but can be summarized as follows:</p>
<ul><li>There are two different file types: the pages (<code>+page.svelte</code>) and the layouts (<code>+layout.svelte</code>). Layouts are a way to reuse the same structure between different pages without having to duplicate code;</li>
<li>There are two different page layouts in this site: the â€œWavesâ€ layout, which all pages inside the <code>(waves)</code> folder use, and the â€œBlog Articleâ€ layout, which all pages inside the <code>(blog-article)</code> folder use;</li></ul>
<h2 id="blog-posts"><a class="heading-link" title="Permalink" aria-hidden="true" href="#blog-posts"><span>#</span></a>Blog Posts</h2>
<p>To know how blog posts work and how to create new ones, check out <a href="/blog-posts">How Blog Posts Work</a>.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/project-structure.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/project-structure.jpg"/>          
        </item>
      
        <item>
          <guid>https://sveltekit-static-blog-template.vercel.app//blog-posts</guid>
          <title>How Blog Posts Work</title>
          <description>How to manage existing blog posts and create new ones</description>
          <link>https://sveltekit-static-blog-template.vercel.app//blog-posts</link>
          <pubDate>Wed, 23 Apr 1997 05:55:15 +0800</pubDate>
          <category>Documentation</category>
          <content:encoded><![CDATA[
            <div style="margin: 50px 0; font-style: italic;">
              If anything looks wrong, 
              <strong>
                <a href="https://sveltekit-static-blog-template.vercel.app//blog-posts">
                  read on the site!
                </a>
              </strong>
            </div>

            <p>All blog posts are located inside the <code>src/routes/(blog-article)</code> folder. Each folder inside it represents a blog post, and each folder has a <code>+page.md</code> file, which is the file that contains the postâ€™s content.</p>
<p>This way, the URL for each blog post is generated with the folderâ€™s name. For example, the folder <code>src/routes/(blog-article)/how-blog-posts-work</code> will generate the URL <code>https://mysite.com/how-blog-posts-work</code>.</p>
<p>All posts are Markdown files, which means you can use the <a href="https://www.markdownguide.org/basic-syntax" rel="nofollow">Markdown syntax</a> in them, and it will work out of the box. However, since this projects uses <a href="https://mdsvex.pngwn.io/" rel="nofollow">MDsveX</a> to parse Markdown, you can also use Svelte components inside them! This means that the components used in other pages can also be used in blog posts.</p>
<div class="callout-block info svelte-sxx0n0"><div class="icon-wrapper svelte-sxx0n0"><svg width="100%" height="100%" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 11.5V16.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 7.51L12.01 7.49889" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>
	This is a Svelte component inside a Markdown file!

</div>
<h2 id="processing"><a class="heading-link" title="Permalink" aria-hidden="true" href="#processing"><span>#</span></a>Processing</h2>
<p>Besides the blog post page itself, the blog posts can be displayed in other places, such as the <code>/blog</code> page, which lists all blog posts, and the <code>&lt;RecentPosts&gt;</code> component, used in the home page.</p>
<p>To be able to do that, posts are processed in the <code>src/lib/data/blog-posts/index.ts</code> file. That file imports the blog post files and processes them, so weâ€™re able to use some of the postâ€™s metadata to list them. For example, we get the postâ€™s title, cover image, and calculate the reading time based on its content, so that information is displayed in the blog post cards in the <code>/blog</code> page.</p>
<p>There is also some basic logic to get related posts based on a postâ€™s tags. The logic should be straightforward enough to modify it to your needs.</p>
<h2 id="creating-a-new-post"><a class="heading-link" title="Permalink" aria-hidden="true" href="#creating-a-new-post"><span>#</span></a>Creating a new post</h2>
<p>To create a new post, create a new folder inside the <code>src/routes/(blog-article)</code> folder, and inside it, create a <code>+page.md</code> file. The folder name will be used as the postâ€™s URL slug, so make sure itâ€™s a valid URL slug.</p>
<p>Inside the <code>+page.md</code> file, you must start with the front matter, which is a YAML-like syntax that is used to define metadata for the post. The front matter must be the first thing in the file, and must be separated from the rest of the content by three dashes (<code>---</code>). An example of a front matter is:</p>
<div class="code-block svelte-1pkpsrg">
	<div class="lang svelte-1pkpsrg">markdown</div>
	<pre class="language-md"><!-- HTML_TAG_START --><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">slug: my-new-blog-post
title: My New Blog Post
date: 2023-04-22T20:45:25.350Z
excerpt: A short description of the post
coverImage: /images/posts/cover-image.jpg
tags:
  - Example</span>
<span class="token punctuation">---</span></span></code><!-- HTML_TAG_END --></pre>
</div>
<h2 id="managing-blog-posts"><a class="heading-link" title="Permalink" aria-hidden="true" href="#managing-blog-posts"><span>#</span></a>Managing blog posts</h2>
<p>I highly recommend the <a href="https://frontmatter.codes/" rel="nofollow">Front Matter VS Code extension</a> to manage blog posts. It gives you a nice CMS-like UI to manage the front matter of all blog posts, as well as a preview of their content. It is, of course, optional, and you can manage everything directly in the Markdown files if you prefer.</p>
<img srcset="/images/posts/frontmatter-preview-dashboard.avif, /images/posts/frontmatter-preview-dashboard.webp, /images/posts/frontmatter-preview-dashboard.png" src="/images/posts/frontmatter-preview-dashboard.png" alt="Screenshot of the Front Matter VS Code extension, showing the dashboard with all posts" loading="lazy" decoding="async" class="svelte-1ykl0dj full-bleed">
<img srcset="/images/posts/frontmatter-preview-edit.avif, /images/posts/frontmatter-preview-edit.webp, /images/posts/frontmatter-preview-edit.png" src="/images/posts/frontmatter-preview-edit.png" alt="Screenshot of the Front Matter VS Code extension, showing the post editing UI" loading="lazy" decoding="async" class="svelte-1ykl0dj full-bleed">
<h2 id="rss"><a class="heading-link" title="Permalink" aria-hidden="true" href="#rss"><span>#</span></a>RSS</h2>
<p>This template automatically generates a RSS feed of your blog posts. It is generated in the <code>src/routes/rss.xml/+server.ts</code> file, and it is available at the <code>/rss.xml</code> URL.</p>
          ]]></content:encoded>
          <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>
          <media:content xmlns:media="http://search.yahoo.com/mrss/" medium="image" url="https://sveltekit-static-blog-template.vercel.app///images/posts/blog-posts.jpg"/>          
        </item>
      
  </channel>
</rss>