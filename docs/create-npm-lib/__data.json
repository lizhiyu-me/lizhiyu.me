{"type":"data","nodes":[null,{"type":"data","data":[{"post":1},{"title":2,"slug":3,"coverImage":4,"date":5,"excerpt":6,"tags":7,"html":9,"readingTime":10,"relatedPosts":11},"Create a library - Publish a npm package in Typescript","create-npm-lib","/images/posts/blog-posts.jpg","2021-04-23T21:55:15.361Z","This section mainly uses react to implement UI views. Before this section, a UI view version has been implemented with cocos creator. In order to reuse the basic framework, we abstract the game logic and decouple the logic related to the view engine api.",[8],"Tutorial:Make a multiplayer card game","\u003Ch2 id=\"create-a-library---publish-a-npm-package-in-typescript\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#create-a-library---publish-a-npm-package-in-typescript\">\u003Cspan>#\u003C/span>\u003C/a>Create a library - Publish a npm package in Typescript\u003C/h2>\n\u003Cblockquote>\u003Cp>To make some reusable codes, create and publish a npm package is a good idea.\u003C/p>\u003C/blockquote>\n\u003Cp>Below Iâ€™ll share base on my repo on github\n\u003Ca href=\"https://github.com/lizhiyu-me/chinese-poker\" rel=\"nofollow\">chinese-poker\u003C/a>.\u003C/p>\n\u003Ch2 id=\"init-npm-package\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#init-npm-package\">\u003Cspan>#\u003C/span>\u003C/a>Init npm package\u003C/h2>\n\u003Cul>\u003Cli>create a directory\u003Ccode>mkdir your-package-name\u003C/code>\n\u003Ccode>cd your-package-name\u003C/code>\u003C/li>\n\u003Cli>make a initialization (-y means no prompt question and all question to be the\ndefualt value)\u003C/li>\u003C/ul>\n\u003Ccode>npm init -y\u003C/code>\n\u003Cp>Get a file tree like:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">.\nâ””â”€â”€ package.json\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Ch2 id=\"write-codes-down\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#write-codes-down\">\u003Cspan>#\u003C/span>\u003C/a>Write codes down:\u003C/h2>\n\u003Cp>below is my code files tree:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">src\nâ”œâ”€â”€ Config.ts\nâ”œâ”€â”€ Const.ts\nâ”œâ”€â”€ MetaProcessor.ts\nâ”œâ”€â”€ Ruler.ts\nâ”œâ”€â”€ SpecificGetFn.ts\nâ”œâ”€â”€ __tests__\nâ”‚   â””â”€â”€ ruler_spec.ts\nâ””â”€â”€ utils\n    â””â”€â”€ utils.ts\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Ch3 id=\"intergrate-code-entry\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#intergrate-code-entry\">\u003Cspan>#\u003C/span>\u003C/a>Intergrate code entry:\u003C/h3>\n\u003Cp>Make a file \u003Ccode>index.ts\u003C/code> which we will assign itâ€™s path to the bundle\nconfig. Input the stuffs you want to export:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">//index.ts\nexport &#123;Ruler&#125; from &quot;./Ruler&quot;;\nexport &#123;E_TYPE&#125; from &quot;./Config&quot;;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Ch2 id=\"bundle-the-codes\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#bundle-the-codes\">\u003Cspan>#\u003C/span>\u003C/a>Bundle the codes:\u003C/h2>\n\u003Cp>Itâ€™s nessary to make a bundle, for easy consuming. The bundle tool can resolve\nthe module format like Commonjs and ESModule for different usage and help us\ntranspile typescript file and generate \u003Ccode>d.ts \u003C/code> file by some plugins.\u003C/p>\n\u003Cblockquote>\u003Cp>Rollup, Webpack, and Parcel are all module bundler tools, but the focus is\ndifferent. The Rollup we are going to talk about is more suitable for building\nLibrary, while Webpack and Precel are more suitable for developing Application\u003C/p>\u003C/blockquote>\n\u003Cp>Here We choose Rollup because itâ€™s clean and easy to use.\u003C/p>\n\u003Ch3 id=\"install-rollup\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#install-rollup\">\u003Cspan>#\u003C/span>\u003C/a>Install rollup\u003C/h3>\n\u003Ccode>npm i -D rollup\u003C/code>\n\u003Ch3 id=\"create-file-rollupconfigjs\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#create-file-rollupconfigjs\">\u003Cspan>#\u003C/span>\u003C/a>Create file \u003Ccode>rollup.config.js\u003C/code>\u003C/h3>\n\u003Cpre class=\"language-javascript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-javascript\">\u003Cspan class=\"token keyword\">import\u003C/span> typescript \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"rollup-plugin-typescript2\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> babel \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"rollup-plugin-babel\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">export\u003C/span> \u003Cspan class=\"token keyword\">default\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n  \u003Cspan class=\"token literal-property property\">input\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"src/index.ts\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">output\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n    \u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n      \u003Cspan class=\"token literal-property property\">file\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"dist/index.esm.js\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">format\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"esm\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">sourcemap\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">plugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token function\">typescript\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token function\">babel\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cul>\u003Cli>\u003Ccode>rollup-plugin-babel\u003C/code> for compile typescript.\u003C/li>\n\u003Cli>\u003Ccode>rollup-plugin-typescript2\u003C/code> for generate \u003Ccode>d.ts\u003C/code> file.\u003C/li>\n\u003Cli>set property \u003Ccode>input\u003C/code> as your entry file.\u003C/li>\n\u003Cli>set property \u003Ccode>output\u003C/code> to specify the output path and format.\u003C/li>\u003C/ul>\n\u003Ch3 id=\"set-types-and-module-in-packagejson\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#set-types-and-module-in-packagejson\">\u003Cspan>#\u003C/span>\u003C/a>Set types and module in package.json\u003C/h3>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">//package.json\n&#123;\n...\n&quot;types&quot;: &quot;index.d.ts&quot;,\n&quot;module&quot;: &quot;index.esm.js&quot;,\n...\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Ch3 id=\"run-rollup\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#run-rollup\">\u003Cspan>#\u003C/span>\u003C/a>Run rollup\u003C/h3>\n\u003Ccode>rollup -c\u003C/code>\n\u003Cp>Then you can get the file tree like below:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">dist\nâ”œâ”€â”€ Config.d.ts\nâ”œâ”€â”€ Const.d.ts\nâ”œâ”€â”€ MetaProcessor.d.ts\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ Ruler.d.ts\nâ”œâ”€â”€ SpecificGetFn.d.ts\nâ”œâ”€â”€ __tests__\nâ”‚   â””â”€â”€ ruler_spec.d.ts\nâ”œâ”€â”€ index.d.ts\nâ”œâ”€â”€ index.esm.js\nâ”œâ”€â”€ index.esm.js.map\nâ””â”€â”€ utils\n    â””â”€â”€ utils.d.ts\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Ch2 id=\"publish\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#publish\">\u003Cspan>#\u003C/span>\u003C/a>Publish\u003C/h2>\n\u003Cul>\u003Cli>create a README.md file which is welcome for a easy describtion.\u003C/li>\n\u003Cli>copy README.md and package.json to dist.\u003C/li>\n\u003Cli>\u003Ccode>npm login\u003C/code>(If you have&#39;t a npm account, get one\n[npmjs](https://www.npmjs.com/signup))\u003C/li>\n\u003Cli>\u003Ccode>npm publish ./dist\u003C/code>\u003C/li>\u003C/ul>\n\u003Ch2 id=\"consuming-the-package\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#consuming-the-package\">\u003Cspan>#\u003C/span>\u003C/a>Consuming the package:\u003C/h2>\n\u003Ccode>npm install your-package-name \u003C/code>\n\u003Cp>Use it just like other package you used to.\u003C/p>\n\u003Cp>Thanks for your reading.\u003C/p>\n\u003Cp>Have a good day.\u003C/p>","2 min read",[12,19,25],{"title":13,"slug":14,"coverImage":4,"date":15,"excerpt":16,"tags":16,"html":17,"readingTime":18},"ä»é›¶å¼€å§‹ï¼Œä¸BabylonJSä¸€èµ·ï¼Œå¼€å¯ä½ çš„Web3Dä¹‹æ—…å§","babylon-trans-1","2021-08-31T21:55:15.361Z",null,"\u003Ch2 id=\"ä»é›¶å¼€å§‹ä¸babylonjsä¸€èµ·å¼€å¯ä½ çš„web3dä¹‹æ—…å§\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#ä»é›¶å¼€å§‹ä¸babylonjsä¸€èµ·å¼€å¯ä½ çš„web3dä¹‹æ—…å§\">\u003Cspan>#\u003C/span>\u003C/a>ä»é›¶å¼€å§‹ï¼Œä¸BabylonJSä¸€èµ·ï¼Œå¼€å¯ä½ çš„Web3Dä¹‹æ—…å§\u003C/h2>\n\u003Cp>![Screen Shot 2022-07-22 at 00.33.32.png](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1658421252897/Jwqbfh4sf.png\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421252897/Jwqbfh4sf.png\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cblockquote>\u003Cp>æ¬¢è¿æ¥åˆ° BabylonJS é›¶åŸºç¡€æ•™ç¨‹ï¼Œæœ¬æ•™ç¨‹ä¸ºèŒæ–°å¯¼å‘ã€‚æ— è®ºä½ æ˜¯Webå¼€å‘çš„ä¸“å®¶ï¼Œå¯Œæœ‰æƒ³è±¡åŠ›çš„è®¾è®¡å¸ˆï¼Œè¿˜æ˜¯å……æ»¡å¥½å¥‡å¿ƒçš„å­¦ç”Ÿï¼Œåªè¦ä½ å¯¹3Dç›¸å…³çš„å†…å®¹æ„Ÿå…´è¶£ã€‚æœ¬æ•™ç¨‹éƒ½æ˜¯ä½ å­¦ä¹ BabylonJSçš„ç»ä½³å¼€å§‹ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ¯ä¸€ä¸ªBabylonJSçš„åˆå­¦è€…éƒ½ä»æœ¬æ•™ç¨‹å¼€å§‹å­¦ä¹ ã€‚\u003C/p>\u003C/blockquote>\n\u003Cp>æœ¬æ•™ç¨‹å°†ä¸ä½ ä¸€èµ·ï¼Œåœ¨æµè§ˆå™¨ä¸Šæ‰“é€ ä¸€ä¸ªBabylonJSçš„å°é¡¹ç›®ã€‚ä½ å°†äº†è§£åˆ°BabylonJSçš„æ¼”ä¹ åœºï¼ˆplaygroundï¼‰ï¼Œä»æœ€åŸºç¡€çš„å¼•æ“æ ¸å¿ƒå¼€å§‹ï¼Œå®Œæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„.htmlç½‘é¡µæ–‡ä»¶ã€‚\u003C/p>\n\u003Ch3 id=\"æ¼”ä¹ åœºplayground\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#æ¼”ä¹ åœºplayground\">\u003Cspan>#\u003C/span>\u003C/a>æ¼”ä¹ åœºï¼ˆplaygroundï¼‰\u003C/h3>\n\u003Cp>æ¼”ä¹ åœºæ˜¯ä½ å¼€å‘BabylonJSç¨‹åºæœ€é‡è¦çš„å·¥å…·ï¼Œæ³¨æ„ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚\u003C/p>\n\u003Cp>![playground.jpeg](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1658421347293/kOkoHCp2b.jpeg\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421347293/kOkoHCp2b.jpeg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cp>åœ¨æ¼”ä¹ åœºä¸­ï¼Œä½ å¯ä»¥éšæ—¶éšåœ°å®è·µä½ çš„æƒ³æ³•ï¼Œæ‰“é€ ä½ çš„å®éªŒé¡¹ç›®ã€‚å°†ä»£ç å†™å…¥å·¦ä¾§çš„ç±»ä¼¼VS Codeçš„ç¼–è¾‘ç•Œé¢ä¸­ï¼Œåœ¨å³ä¾§å°±èƒ½ç«‹é©¬è¿è¡Œæ˜¾ç¤ºç»“æœã€‚\u003C/p>\n\u003Cp>æ¼”ä¹ åœºå°†æ˜¯ä½ å­¦ä¹ æ—…é€”ä¸­çš„è´´å¿ƒå°ä¼™ä¼´ï¼Œå› ä¸ºå®ƒæä¾›äº†å…¨å®‡å®™æœ€ç§‘å­¦çš„å¾ªç¯å­¦ä¹ ä½“ç³»ï¼Œè¾“å…¥ä»£ç -&gt;å¯Ÿçœ‹ç»“æœï¼Œè®©ä½ åœ¨åå¤å®è·µä¸­æ‰¾åˆ°æ„Ÿè§‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç‚¹ååˆ†é‡è¦ï¼Œä½ å¯ä»¥éšæ—¶ä¿å­˜æˆ–åˆ†äº«æ¼”ä¹ åœºçš„å†…å®¹ã€‚è¿™åœ¨ä½ å­¦ä¹ çš„è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æ—¶å˜å¾—ååˆ†æœ‰ç”¨ï¼Œä½ å¯ä»¥é€šè¿‡\u003Ca href=\"https://forum.babylonjs.com/\" rel=\"nofollow\">Babylon.js è®ºå›\u003C/a>å¯»æ±‚å¸®åŠ©ï¼Œå®˜æ–¹çš„å¼€å‘è€…å’Œç¤¾åŒºå·¥ä½œäººå‘˜éšæ—¶ä¸ºä½ æ•ˆåŠ³ã€‚\u003C/p>\n\u003Cp>å½“æˆ‘ä»¬åœ¨å¸®åŠ©ä½ è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯ä½ èƒ½å°†é—®é¢˜é€šè¿‡æ¼”ç»ƒåœºåˆ†äº«å‡ºæ¥ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±èƒ½å¿«é€Ÿåœ°å®šä½åˆ°é—®é¢˜çš„å…³é”®æ‰€åœ¨ã€‚æ‰€ä»¥ï¼Œåªè¦ä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¿å­˜ä½ çš„æ¼”ç»ƒåœºï¼Œåˆ†äº«åˆ°è®ºå›ã€‚ä½ ä¸€å®šä¼šè¢«æˆ‘ä»¬è¿…é›·ä¸åŠæ©è€³çš„å›å¤é€Ÿåº¦æ‰€éœ‡æ’¼ã€‚\u003C/p>\n\u003Cp>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ—¢ç„¶æ¼”ç»ƒåœºè¿™é‡è¦ï¼Œæˆ‘ä»¬å°±æ¥å®æ“ä¸€ä¸‹å§ã€‚\u003C/p>\n\u003Cp>æ–°å»ºä¸€ä¸ªé¡µé¢æ‰“å¼€ä¸‹æ–¹é“¾æ¥ï¼š\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/\" rel=\"nofollow\">Babylon.js Playground\u003C/a>\u003C/p>\n\u003Ch3 id=\"åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåœºæ™¯\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåœºæ™¯\">\u003Cspan>#\u003C/span>\u003C/a>åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåœºæ™¯\u003C/h3>\n\u003Cp>æ¬¢è¿æ¥åˆ°æ¼”ä¹ åœºï¼Œä½ åªéœ€è¦åœ¨å·¦è¾¹ä¿®æ”¹/åˆ›å»ºä»£ç ï¼Œå°±èƒ½åœ¨å³è¾¹çª—å£çœ‹è§å®æ—¶è¿è¡Œç»“æœã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬ä¸ºä½ æä¾›çš„ä¸€ä¸ªé»˜è®¤æ¨¡ç‰ˆåœºæ™¯ã€‚å¿«é€Ÿåœ°ç„ä¸€çœ¼ä»£ç ç¼–è¾‘çª—å£çš„ç»¿è‰²æ³¨é‡Šæ–‡å­—ï¼Œè¿™äº›æ–‡å­—ä¼šå‘Šè¯‰ä½ æ¯ä¸€è¡Œä»£ç çš„ä½œç”¨ï¼Œè´´å¿ƒå§ï¼Ÿ\u003C/p>\n\u003Cp>æœ€å¥½çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯åœ¨æ•²ä»£ç ï¼Œè¾¹æ•²è¾¹å­¦ï¼Œè¾¹å­¦è¾¹æ•²ã€‚\u003C/p>\n\u003Cp>æ¥è®©æˆ‘ä»¬æ¥å°è¯•ç»™è¿™ä¸ªé»˜è®¤åœºæ™¯åšäº›è°ƒæ•´ã€‚\u003C/p>\n\u003Cp>20-24è¡Œä»£ç ï¼š\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token comment\">// Our built-in 'sphere' shape. //å¼•æ“å†…å»ºçš„çƒä½“ã€‚\u003C/span>\n\u003Cspan class=\"token keyword\">var\u003C/span> sphere \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>MeshBuilder\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">CreateSphere\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"sphere\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>diameter\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> segments\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">32\u003C/span>\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Move the sphere upward 1/2 its height //å°†çƒä½“ç§»åŠ¨åˆ°å®ƒä¸€åŠé«˜åº¦çš„ä½ç½®,ä¸Šé¢åˆ›å»ºç›´å¾„è®¾ç½®çš„æ˜¯2ï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä½ç½®çš„yå±æ€§æŒ‡ä¸º1\u003C/span>\nsphere\u003Cspan class=\"token punctuation\">.\u003C/span>position\u003Cspan class=\"token punctuation\">.\u003C/span>y \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>é€‰ä¸­è¿™å‡ è¡Œä»£ç ï¼Œåˆ æ‰å®ƒï¼\u003C/p>\n\u003Cp>ä½ å·²ç»åšå‡ºäº†ç¬¬ä¸€ä¸ªæ”¹åŠ¨ï¼\u003C/p>\n\u003Cp>æ„Ÿè§‰è¿˜ä¸é”™å§ï¼Ÿ\u003C/p>\n\u003Cp>ä½†â€¦ç­‰ä¸€ä¸‹ï¼Œåœºæ™¯å½“ä¸­æ€ä¹ˆæ²¡æœ‰å‘ç”Ÿä»»ä½•äº‹æƒ…ï¼Ÿ\u003C/p>\n\u003Cp>å› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨ä¿®æ”¹äº†ä»£ç ä¹‹åï¼Œéœ€è¦é‡æ–°å¯åŠ¨æ¼”ç»ƒåœºæ‰èƒ½çœ‹åˆ°å˜æ›´ç»“æœã€‚\u003C/p>\n\u003Cp>ä½ å¯ä»¥ç‚¹å‡»å¯åŠ¨æŒ‰é’®\u003C/p>\n\u003Cp>![run.jpeg](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1658421373423/9YF1Zc_hY.jpeg\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421373423/9YF1Zc_hY.jpeg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cp>ï¼Œä¹Ÿå¯ä»¥æŒ‰ç»„åˆé”®\u003Ccode>ALT+ENTER\u003C/code>\u003C/p>\n\u003Cp>åœºæ™¯ä¸­çš„è¿™ä¸ªçƒä¸è§äº†ï¼Œç¥å¥‡å§ï¼\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9\" rel=\"nofollow\">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ\u003C/a>\u003C/p>\n\u003Cblockquote>\u003Cp>å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ‰“å¼€é“¾æ¥ï¼Œå¯¹æ¯”è‡ªå·±çš„ä»£ç æ¥æŸ¥æ‰¾é”™è¯¯\u003C/p>\u003C/blockquote>\n\u003Cp>è®©æˆ‘ä»¬æ¥åšä¸€ç‚¹åˆ«çš„æ”¹åŠ¨ã€‚\u003C/p>\n\u003Cp>æ‰¾åˆ°åˆ›å»ºåœ°é¢çš„ä»£ç æ‰€åœ¨çš„è¡Œï¼Œåœ¨ä¸‹é¢åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼š\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token keyword\">let\u003C/span> groundMaterial \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">StandardMaterial\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Ground Material\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nground\u003Cspan class=\"token punctuation\">.\u003C/span>material \u003Cspan class=\"token operator\">=\u003C/span> groundMaterial\u003Cspan class=\"token punctuation\">;\u003C/span>\nground\u003Cspan class=\"token punctuation\">.\u003C/span>material\u003Cspan class=\"token punctuation\">.\u003C/span>diffuseColor \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Color3\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Red\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>å†æ­¤è¿è¡Œï¼ˆæŒ‰ç»„åˆé”®ALT+ENTER æˆ– ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼‰\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9#1\" rel=\"nofollow\">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ\u003C/a>\u003C/p>\n\u003Cp>æ­å–œï¼ä½ æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æè´¨ï¼Œå¹¶å°†æè´¨èµ‹å€¼ç»™äº†åœ°é¢ï¼Œè¿˜å°†æè´¨çš„æ¼«åå°„é€šé“è®¾ç½®ä¸ºçº¢è‰²ï¼\u003C/p>\n\u003Cp>å¾ˆç®€å•å§ï¼Ÿå¦‚æœä½ è¿˜æœ‰ç‚¹æ‡µä¹Ÿæ²¡å…³ç³»ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„å°±æ˜¯åœ¨å·¦è¾¹è¾“å…¥ä»£ç ï¼Œåœ¨å³è¾¹å¯Ÿçœ‹ç»“æœğŸ˜€\u003C/p>\n\u003Cp>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥å†åšç¬¬ä¸€å°æ”¹åŠ¨ã€‚\u003C/p>\n\u003Cp>æ‰¾åˆ°è¿™ä¸€è¡Œä»£ç ï¼š\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">ground\u003Cspan class=\"token punctuation\">.\u003C/span>material\u003Cspan class=\"token punctuation\">.\u003C/span>diffuseColor \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Color3\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Red\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>ç”¨ä¸‹é¢ä¸¤è¡Œä»£ç æ›¿æ¢æ‰å®ƒï¼š\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token keyword\">let\u003C/span> groundTexture \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Texture\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>Assets\u003Cspan class=\"token punctuation\">.\u003C/span>textures\u003Cspan class=\"token punctuation\">.\u003C/span>checkerboard_basecolor_png\u003Cspan class=\"token punctuation\">.\u003C/span>rootUrl\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nground\u003Cspan class=\"token punctuation\">.\u003C/span>material\u003Cspan class=\"token punctuation\">.\u003C/span>diffuseTexture \u003Cspan class=\"token operator\">=\u003C/span> groundTexture\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9#2\" rel=\"nofollow\">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ\u003C/a>\u003C/p>\n\u003Cp>æ­å–œ+1ï¼ä½ åˆ›å»ºäº†ä½ çš„ç¬¬ä¸€ä¸ªTextureå¹¶èµ‹å€¼ç»™äº†åœ°é¢æè´¨ã€‚\u003C/p>\n\u003Cp>è®©æˆ‘ä»¬ç»§ç»­ï¼Œåœ¨ä½ æ‰€æœ‰åˆ›å»ºå’Œè®¾ç½®åœ°é¢ç›¸å…³çš„ä»£ç åé¢ï¼Œæ•²å‡ ä¸ªå›è½¦ï¼Œç•™å‡ºç‚¹ç©ºéš™æ¥å±•ç¤ºæ¼”ä¹ åœºæä¾›ç»™æˆ‘ä»¬çš„å¤§æ€å™¨â€”æç¤ºæ¨¡æ¿ã€‚\u003C/p>\n\u003Cp>è¾“å…¥\u003Ccode>import\u003C/code> ä½ å°†çœ‹åˆ°ç•Œé¢ä¸Šç”Ÿæˆäº†ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨é‡Œè¾¹æ˜¯ä»£ç ç‰‡æ®µï¼Œæ¯ä¸€ä¸ªç‰‡æ®µéƒ½æ˜¯ä¸€ä¸ªå°çš„åŠŸèƒ½å®ç°ã€‚\u003C/p>\n\u003Cp>è®©æˆ‘ä»¬é€‰æ‹© \u003Ccode>Import a Mesh w/Callback\u003C/code> ï¼Œå†æŒ‰ä¸‹å›è½¦ã€‚\u003C/p>\n\u003Cp>å¦‚ä¸‹ä»£ç å°†ç«‹å³å‡ºç°åœ¨ä½ çš„è¾“å…¥æ¡†é‡Œï¼š\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>SceneLoader\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">ImportMesh\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"meshName\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"url to the mesh parent directory\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"Mesh filename.fileextension\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>newMeshes\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n\n\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>æˆ‘ä»¬éœ€è¦åœ¨æ¨¡ç‰ˆä»£ç çš„åŸºç¡€ä¸Šåšä¸€äº›å°å°çš„æ¶¦è‰²ï¼š\u003C/p>\n\u003Cul>\u003Cli>\u003Cp>1.åˆ æ‰\u003Ccode>meshName\u003C/code>,æ³¨æ„éœ€è¦ä¿ç•™å¼•å·ã€‚\u003C/p>\u003C/li>\n\u003Cli>\u003Cp>2.å°†\u003Ccode>&quot;url to the mesh parent directory&quot;\u003C/code>ï¼ˆåŒ…æ‹¬åŒå¼•å·ï¼‰ æ›¿æ¢ä¸º\u003Ccode>Assets.meshes.Yeti.rootUrl\u003C/code>\u003C/p>\u003C/li>\n\u003Cli>\u003Cp>3.å°†â€Mesh filename.fileextensionâ€ ï¼ˆåŒ…æ‹¬åŒå¼•å·ï¼‰æ›¿æ¢ä¸º\u003Ccode>Assets.meshes.Yeti.filename\u003C/code>\u003C/p>\u003C/li>\n\u003Cli>\u003Cp>4.åœ¨\u003Ccode>BABYLON.SceneLoader.ImportMesh\u003C/code> è¿™ä¸€è¡Œä¸‹é¢ï¼Œåœ¨\u003Ccode>&quot;});&quot;\u003C/code>ä¹‹å‰ï¼Œè¾“å…¥ï¼š\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">newMeshes\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>scaling \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Vector3\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0.1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0.1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0.1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>5.è¿è¡Œ\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9#3\" rel=\"nofollow\">ç‚¹å‡»æŸ¥çœ‹Playgroundç»“æœ\u003C/a>\u003C/p>\u003C/li>\u003C/ul>\n\u003Cp>æ­å–œ+1ï¼ä½ æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ª.gltfæ ¼å¼çš„åŠ¨ç”»æ¨¡å‹ï¼Œå¹¶è°ƒæ•´äº†å®ƒçš„ç¼©æ”¾æ¯”ä¾‹æ¥é€‚é…åœ°é¢ã€‚\u003C/p>\n\u003Cp>æœ€åï¼Œè®©æˆ‘ä»¬æŠŠåˆ›å»ºå¥½çš„åœºæ™¯åŠ¨èµ·æ¥ï¼Œè®©ä»–è·Ÿéšæˆ‘ä»¬çš„é¼ æ ‡æ»‘åŠ¨è€Œè°ƒæ•´é•œå¤´æ˜¾ç¤ºå†…å®¹ã€‚\u003C/p>\n\u003Cp>åˆ é™¤5-9è¡Œçš„ä»£ç ï¼Œè¾“å…¥createarcï¼Œåœ¨æç¤ºä»£ç æ¨¡ç‰ˆåˆ—è¡¨ä¸­é€‰æ‹© \u003Ccode>Create An Arc Rotate Camera w/Degree\u003C/code>ã€‚\u003C/p>\n\u003Cp>å†æ¬¡è¿è¡Œï¼ŒæŒ‰ä½é¼ æ ‡æ‹–åŠ¨æˆ–è€…è§¦æ‘¸æ‹–åŠ¨åœºæ™¯ï¼Œç›¸æœºçš„è§†è§’å°±ä¼šè·Ÿéšä½ çš„æ‹–åŠ¨å’Œæ»‘åŠ¨å˜åŒ–å•¦ã€‚\u003C/p>\n\u003Cblockquote>\u003Cp>æœ¬ç¯‡ä¸ºç¿»è¯‘BabylonJSå®˜æ–¹æ•™ç¨‹çš„å¼€å§‹,åç»­å°†é™†ç»­æ›´æ–°ç›¸å…³ç³»åˆ—æ–‡ç« \u003C/p>\u003C/blockquote>\n\u003Cp>\u003Ca href=\"https://doc.babylonjs.com/journey/theFirstStep\" rel=\"nofollow\">åŸæ–‡é“¾æ¥\u003C/a>\u003C/p>","8 min read",{"title":20,"slug":21,"coverImage":4,"date":22,"excerpt":16,"tags":16,"html":23,"readingTime":24},"ç†Ÿæ‚‰ç†Ÿæ‚‰å®˜æ–¹æ–‡æ¡£ï¼Œé€æ­¥æ·±å…¥Babylon.js","babylon-trans-2","2021-09-08T21:55:15.361Z","\u003Ch3 id=\"æ–‡æ¡£çš„ç»„ç»‡ç»“æ„\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#æ–‡æ¡£çš„ç»„ç»‡ç»“æ„\">\u003Cspan>#\u003C/span>\u003C/a>æ–‡æ¡£çš„ç»„ç»‡ç»“æ„\u003C/h3>\n\u003Chr>\n\u003Cp>é€šè¿‡å‰ä¸€ç¯‡æ–‡ç« çš„äº†è§£ï¼Œæˆ‘ä»¬ä¼šå¯¹Babylon.jsæœ‰äº†ä¸€ä¸ªå¤§è‡´çš„äº†è§£ï¼Œæ•´ä¸ªæ–‡æ¡£ä¸»è¦æ˜¯æƒ³å¸¦ä½ é€æ­¥æ·±å…¥æŒæ¡è¿™ä¸ªBabylon.jsæ‰€æä¾›çš„æ‰€æœ‰å†…å®¹ã€‚\nå†…å®¹ä¸»è¦åˆ†ä¸ºä¸€ä¸ªæ¦‚è§ˆå’Œ9ä¸ªä¸»è¦éƒ¨åˆ†ï¼Œè¿™äº›éƒ¨åˆ†åŒ…å«ç« èŠ‚ï¼Œè¿˜æœ‰APIè¯¦è§£å’Œå¼ºå¤§çš„æ–‡æ¡£å’Œplaygroundæœç´¢åŠŸèƒ½ã€‚\u003C/p>\n\u003Cp>- 1.Babylon.jsç‰¹æ€§ -\nBabylon.jsæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„æ¸¸æˆå’Œæ¸²æŸ“å¼•æ“ï¼Œå…·æœ‰å¹¿æ³›çš„ç‰¹æ€§ã€‚è¿™ä¸ªéƒ¨åˆ†å°†å¸¦ä½ äº†è§£è¿™äº›ç‰¹æ€§ï¼Œå¹¶å¸®åŠ©ä½ ç¼–ç å’Œä½¿ç”¨å®ƒä»¬ã€‚\\\n- 2.å°†Babylon.jsæ·»åŠ åˆ°ä½ çš„Webé¡¹ç›®ä¸­ -\næœ‰å¤šç§æ–¹å¼å¯ä»¥åœ¨ä½ çš„webåº”ç”¨ä¸­ä½¿ç”¨Babylon.jså¹¶è®¾ç½®Babylon.jsé¡¹ç›®ã€‚é€šè¿‡è¿™ä¸ªéƒ¨åˆ†å†…å®¹ï¼Œä½ èƒ½äº†è§£åˆ°å¦‚ä½•è½»æ¾åœ°å°†Babylon.jsèå…¥è‡ªå·±çš„é¡¹ç›®ï¼Œå¹¶æ‰“é€ å‡ºåˆ«å…·ä¸€æ ¼çš„äº§å“ï¼Œå¹¶ä¸”è¿˜ä¸ºä½ æä¾›ä¸€äº›é¡¹ç›®æ¨¡æ¿å’Œæ”¯æŒã€‚\\\n- 3.Playground -\nå¯¹Babylon.jsçš„æ ¸å¿ƒèµ„æºè¿›è¡Œè¯¦ç»†çš„æŸ¥çœ‹ï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨å®ƒä»¥åŠå®ƒæ‰€æä¾›çš„è®¸å¤šåŠŸèƒ½è®¾æ–½ï¼ŒåŒ…æ‹¬æœç´¢æ‰€æœ‰playgroundä»¥æŸ¥æ‰¾å…¶ä»–äººæ‰€åšçš„ç¤ºä¾‹ï¼ˆè¿™ä¸€ç‚¹çœŸå¿ƒè§‰å¾—å¾ˆæ£’ï¼‰ã€‚\\\n- 4.å·¥å…·å’Œèµ„æº -\nBabylon.jsæœ‰è®¸å¤šä»¤äººéš¾ä»¥ç½®ä¿¡çš„å·¥å…·ï¼Œä½¿å¼€å‘è¿‡ç¨‹ç®€å•è€Œæ„‰å¿«ã€‚å®ƒè¿˜æœ‰å‡ ä¸ªå†…å®¹åº“ä¾›ä½ å®Œå…¨å…è´¹ä½¿ç”¨ã€‚è¿™ä¸ªéƒ¨åˆ†å°†å¸®åŠ©ä½ ç†è§£å¹¶åˆ©ç”¨ä»–ä»¬ã€‚\\\n- 5.ä¸ºBabylon.jså‡†å¤‡ç´ æ -\nä»æ¨¡å‹å’ŒåŠ¨ç”»ï¼Œåˆ°çº¹ç†ï¼ŒLUTSå’ŒHDRå›¾åƒï¼Œåœ¨è¿™ä¸ªéƒ¨åˆ†å­¦ä¹ å‡†å¤‡Babylon.jså†…å®¹çš„å·¥ä½œæµå’Œæ–¹æ³•ã€‚\\\n- 6.Babylon.jsè·¨å¹³å° -\nåœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•æ‰©å±•Babylon.jsï¼Œå¹¶ä½¿ç”¨å®ƒå¼€å‘å‡ ä¹ä»»ä½•ä½ èƒ½æƒ³è±¡çš„å¹³å°çš„åŸç”Ÿåº”ç”¨ã€‚\\\n- 7.è´¡çŒ® -\nå¯¹äºé‚£äº›æƒ³è¦æ‰©å±•Babylon.jsè¾¹ç•Œçš„äººï¼Œè¿™ä¸ªéƒ¨åˆ†æè¿°äº†éœ€è¦ä»€ä¹ˆä»¥åŠå¦‚ä½•ä¸ºBabylon.jsçš„ä»£ç åº“å’Œæ–‡æ¡£åšå‡ºè´¡çŒ®ã€‚\\\n- 8.å¼•å¯¼å¼å­¦ä¹  -\næœ‰æ—¶å€™è¾¹åšè¾¹å­¦æ˜¯æœ€å¥½çš„ã€‚è¿™ä¸ªéƒ¨åˆ†å¸®åŠ©ä½ åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™äº›é€æ­¥çš„æ–‡ç« å’Œæ•™ç¨‹å°†å¸®åŠ©ä½ ä»ç¤¾åŒºçš„ä¸€äº›æœ€å¥½å’Œæœ€èªæ˜çš„è€å¸ˆé‚£é‡Œå­¦ä¹ ï¼ˆbabylon.js\nç¤¾åŒºçš„ç»´æŠ¤è€…ä¼¼ä¹æ˜¯çœŸçš„é—²ï¼Œæœ‰æ—¶å€™å¾ˆç®€å•ç”šè‡³çœ‹èµ·æ¥æœ‰äº›å¹¼ç¨šçš„é—®é¢˜éƒ½ä¼šå¾—åˆ°å¾ˆè¯¦ç»†çš„å›ç­”ï¼Œè¿™ä¸€ç‚¹æ˜¯çœŸçš„ä½©æœï¼‰ã€‚\\\n-9.ç¤¾åŒºæ‰©å±• -\nåœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œä½ å°†æ‰¾åˆ°ç”±æå…¶æœ‰æ‰åå’Œçƒ­æƒ…çš„ç¤¾åŒºæ„å»ºçš„å¯¹Babylon.jsçš„ä»¤äººéš¾ä»¥ç½®ä¿¡çš„èµ„æºå’Œæ‰©å±•ã€‚\u003C/p>\n\u003Ch3 id=\"å¦‚ä½•å»ä½¿ç”¨æ–‡æ¡£\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#å¦‚ä½•å»ä½¿ç”¨æ–‡æ¡£\">\u003Cspan>#\u003C/span>\u003C/a>å¦‚ä½•å»ä½¿ç”¨æ–‡æ¡£\u003C/h3>\n\u003Chr>\n\u003Cp>Babylon.jsæ˜¯ä¸€ä¸ªä¸°å¯Œçš„APIï¼Œå¸Œæœ›å°½å¯èƒ½ç®€å•åœ°åˆ©ç”¨GPUçš„å¼ºå¤§åŠŸèƒ½æ¥æå‡æµè§ˆå™¨çš„ä¸Šç½‘ä½“éªŒã€‚ä½ å¯ä»¥é€šè¿‡ç”¨javascriptæˆ–typescriptç¼–å†™Babylon.jsåœºæ™¯ä»£ç æ¥åˆ©ç”¨è¿™ä¸ªå¼ºå¤§çš„APIã€‚ä¸ºäº†ä¿æŒä¸€è‡´æ€§å¹¶æœ€å¤§åŒ–æ–‡æ¡£çš„å¯è®¿é—®æ€§ï¼Œè¿™äº›é¡µé¢ä¸­æ‰¾åˆ°çš„æ‰€æœ‰ç¤ºä¾‹ä»£ç éƒ½å°†ç”¨javascriptæä¾›ã€‚\u003C/p>\n\u003Cp>æ–‡æ¡£é¡µé¢å¸ƒå±€æœ‰å‡ ä¸ªç‰¹æ€§ï¼Œä½ éœ€è¦äº†è§£è¿™äº›ç‰¹æ€§ï¼Œä»¥ä¾¿åœ¨å­¦ä¹ æ—…ç¨‹ä¸­è·å¾—æœ€å¤§çš„æ”¶ç›Šã€‚\né¦–å…ˆï¼Œæœ€å·¦è¾¹çš„é¢æ¿æ˜¯å¯¼èˆªçª—æ ¼ã€‚è¿™ä¸ªçª—æ ¼æ˜¯ä½ å¯¼èˆªåˆ°æƒ³å»çš„åœ°æ–¹çš„æ–¹å¼ã€‚\u003C/p>\n\u003Cp>![Navigation Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home1.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home1.jpg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cp>æ¥ä¸‹æ¥æ˜¯å†…å®¹çª—æ ¼ã€‚å®ƒä½äºä¸­é—´ï¼ŒåŒ…å«ä¸»è¦çš„å†…å®¹å’Œä¿¡æ¯ã€‚\u003C/p>\n\u003Cp>![Content Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home2.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home2.jpg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cp>ä¸€äº›é¡µé¢æœ‰å¾ˆå¤šä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯è¢«ç»„ç»‡æˆå­éƒ¨åˆ†ã€‚ç›®å½•çª—æ ¼ä½¿å¾—åœ¨è¾ƒé•¿çš„é¡µé¢ä¸­å¯¼èˆªå˜å¾—å®¹æ˜“ã€‚\u003C/p>\n\u003Cp>![Table of Contents](\u003Ca href=\"https://doc.babylonjs.com/img/home/home4.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home4.jpg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cp>å³è¾¹çš„é¢æ¿æ˜¯ç¤ºä¾‹çª—æ ¼ã€‚å®ƒæä¾›äº†å¯¹å½“å‰é¡µé¢ä¸Šæ¯ä¸ªplaygroundï¼ˆå®æ—¶ç¤ºä¾‹ï¼‰çš„å¿«é€Ÿè®¿é—®ã€‚\u003C/p>\n\u003Cp>![Examples Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home3.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home3.jpg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Cp>æœ€åï¼Œå¦‚æœä½ åœ¨ç¤ºä¾‹çª—æ ¼ä¸­é€‰æ‹©ä»»ä½•ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒå°†åœ¨é¡µé¢å†…å®¹é¡¶éƒ¨çš„playgroundçª—æ ¼å†…åŠ è½½è¯¥ç¤ºä¾‹ã€‚\u003C/p>\n\u003Cp>![Examples Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home5.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home5.jpg\u003C/a> align=â€œleftâ€)\u003C/p>\n\u003Ch3 id=\"å…³äºç‰ˆæœ¬æ§åˆ¶çš„è¯´æ˜\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#å…³äºç‰ˆæœ¬æ§åˆ¶çš„è¯´æ˜\">\u003Cspan>#\u003C/span>\u003C/a>å…³äºç‰ˆæœ¬æ§åˆ¶çš„è¯´æ˜\u003C/h3>\n\u003Chr>\n\u003Cp>Babylon.jsæ–‡æ¡£æ˜¯ä»¥Babylon.jsçš„æœ€æ–°ä¸»ç‰ˆæœ¬ä¸ºå‚è€ƒç¼–å†™çš„ã€‚\u003Ca href=\"https://doc.babylonjs.com/typedoc\" rel=\"nofollow\">API æ–‡æ¡£\u003C/a>æ˜¯é’ˆå¯¹æœ€æ–°çš„æ¯æ—¥æ„å»ºç”Ÿæˆçš„ã€‚\u003C/p>\n\u003Cp>å¦‚æœä½ æƒ³ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬åœ¨æœ¬åœ°å®‰è£…Babylon.jsï¼Œè¯·ä»\u003Ca href=\"https://www.npmjs.com/package/@babylonjs/core\" rel=\"nofollow\">npmé¡µé¢\u003C/a>é€‰æ‹©æœ€æ–°çš„å‘å¸ƒç‰ˆæœ¬ï¼Œç„¶åè¿è¡Œï¼š\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">npm i @babylonjs/core@preview\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>ä¸è¦å¯¹ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æ„Ÿåˆ°å®³æ€•ã€‚Babylonçš„npmå‘å¸ƒç‰ˆæœ¬è¢«è®¤ä¸ºæ˜¯ç¨³å®šçš„ï¼Œå¹¶ä¸”å·²ç»è¿‡å›¢é˜Ÿçš„å…¨é¢æµ‹è¯•ã€‚\u003C/p>","6 min read",{"title":26,"slug":27,"coverImage":4,"date":28,"excerpt":29,"tags":30,"html":31,"readingTime":32},"Make a multiplayer card game - Episode 3","change-json-to-protocol-buffers-e3","2021-02-22T21:55:15.361Z","Change JSON to Protocol Buffers",[8],"\u003Ch2 id=\"make-a-multiplayer-card-game---episode-3--change-json-to-protocol-buffers\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#make-a-multiplayer-card-game---episode-3--change-json-to-protocol-buffers\">\u003Cspan>#\u003C/span>\u003C/a>Make a multiplayer card game - Episode 3 | Change JSON to Protocol Buffers\u003C/h2>\n\u003Cblockquote>\u003Cp>Protocol buffers are a language-neutral, platform-neutral extensible mechanism\nfor serializing structured data. It has many advantages such as â€œLesser in\nSize and Better in Performanceâ€, like this article\n\u003Ca href=\"https://anuragthakur.hashnode.dev/protobuf-why-google-moved-from-json-to-protocol-buffers-ckdxb8sgi03kdjas17ril3fbi\" rel=\"nofollow\">Why Google moved from JSON to Protocol Buffers?\u003C/a>\nintroduce.\u003C/p>\u003C/blockquote>\n\u003Cp>I used it on all the projects Iâ€™ve worked on over the years. Besides the better\nperformance, what make me impressed is that the clean communication between\nclient and server with protocol buffers.\u003C/p>\n\u003Cblockquote>\u003Cp>You can clone\n\u003Ca href=\"https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode3\" rel=\"nofollow\">demo for episode3\u003C/a>\nwhich including all the bellow content.\u003C/p>\u003C/blockquote>\n\u003Cp>According to the\n\u003Ca href=\"https://github.com/protocolbuffers/protobuf\" rel=\"nofollow\">official tutorial\u003C/a>, two steps\nshould be done:\u003C/p>\n\u003Col>\u003Cli>Install the runtime library \u003Ccode>google-protobuf\u003C/code>:\u003Ccode>npm install\ngoogle-protobuf\u003C/code>.\u003C/li>\n\u003Cli>Get the Protocol Compiler \u003Ccode>protoc\u003C/code>: download from\n\u003Ca href=\"https://github.com/protocolbuffers/protobuf/releases\" rel=\"nofollow\">https://github.com/protocolbuffers/protobuf/releases\u003C/a>\u003C/li>\u003C/ol>\n\u003Cp>Then run a command like \u003Ccode>protoc â€”js_out=import_style=commonjs,binary:.\nmessages.proto base.proto\u003C/code>, you can get the \u003Ccode>.js\u003C/code> file from\u003C/p>\n\u003Ccode>.proto\u003C/code>.\n\u003Cp>When the \u003Ccode>.js\u003C/code> file generated, the protocol buffers environment is\nready.\u003C/p>\n\u003Cp>Back to our game, we should create a \u003Ccode>.proto\u003C/code> file, named\u003C/p>\n\u003Ccode>card-game.proto\u003C/code>.\n\u003Cp>The first line in \u003Ccode>.proto\u003C/code> file should be:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">syntax = &quot;proto3&quot;;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>which means which version of Protobuf we are using.\u003C/p>\n\u003Cp>Define the enum of Cmd:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">enum Cmd&#123;\n    NONE = 0;\n    READY_C2S = 1;\n    DEALCARDS_S2C = 2;\n    COMPETEFORLANDLORDROLE_C2S = 3;\n    PLAYTURN_S2C = 4;\n    PLAYCARDS_C2S = 5;\n    PLAYCARDS_S2C = 6;\n    ILLEGALCARDS_S2C = 7;\n    GAMEEND_S2C = 8;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>enum Cmd is for routing, will be introduced later.\u003C/p>\n\u003Cp>Define MainMessage message:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">message MainMessage&#123;\n    uint32 cmd_id = 1;\n    bytes data =2;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>In order to encapsulate the header and data body, we should assign serialized\nmessage to the data attribute.\u003C/p>\n\u003Cp>Define data message like:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">message DealCards_S2C&#123;\n    repeated uint32 cards = 1;\n    uint32 seat_number = 2;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>Then, generate our own \u003Ccode>.js\u003C/code> file.\u003C/p>\n\u003Cp>As the episode3 demo show, run command bellow in directory proto.\u003C/p>\n\u003Cul>\u003Cli>\u003Cp>Windows\u003C/p>\n\u003Ccode>.\\protoc.exe --js_out=import_style=commonjs,binary:out\ncard-game.proto\u003C/code>\u003C/li>\n\u003Cli>\u003Cp>MacOS\u003C/p>\n\u003Ccode>./protoc --js_out=import_style=commonjs,binary:out\ncard-game.proto\u003C/code>\u003C/li>\u003C/ul>\n\u003Cp>Now, we have our own \u003Ccode>.js\u003C/code> file from the \u003Ccode>.proto\u003C/code> in which\nwe define message.\u003C/p>\n\u003Cp>Letâ€™s encoding and decoding message with protocol buffers.\u003C/p>\n\u003Cp>Encoding: &gt;enum Cmd is used to map message type here\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">function encodeData(cmd, data) &#123;\n    let _proto_struct_obj;\n    switch (cmd) &#123;\n        case card_game_pb.Cmd.DEALCARDS_S2C:\n            _proto_struct_obj = new card_game_pb.DealCards_S2C();\n            _proto_struct_obj.setCardsList(data.cards);\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.PLAYCARDS_S2C:\n            _proto_struct_obj = new card_game_pb.PlayCards_S2C();\n            _proto_struct_obj.setCardsList(data.cards);\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.ILLEGALCARDS_S2C:\n            _proto_struct_obj = new card_game_pb.IllegalCards_S2C();\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.GAMEEND_S2C:\n            _proto_struct_obj = new card_game_pb.GameEnd_S2C();\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.PLAYTURN_S2C:\n            _proto_struct_obj = new card_game_pb.PlayTurn_S2C();\n            _proto_struct_obj.setHandCardsList(data.handCards);\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        default:\n            console.log(&quot;no message matched.&quot;)\n    &#125;\n    if (_proto_struct_obj) &#123;\n        let _mainMsg = new card_game_pb.MainMessage();\n        _mainMsg.setCmdId(cmd);\n        let _data = _proto_struct_obj.serializeBinary();\n        _mainMsg.setData(_data);\n        let _completeData = _mainMsg.serializeBinary();\n        return _completeData;\n    &#125;\n    return null;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>Decoding: &gt;enum Cmd is used to map message type here\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">function decodeData(buffer) &#123;\n    let _mainMsg = card_game_pb.MainMessage.deserializeBinary(buffer);\n    let _cmd = _mainMsg.getCmdId();\n    let _bytesData = _mainMsg.getData();\n    let _data;\n    switch (_cmd) &#123;\n        case card_game_pb.Cmd.READY_C2S:\n            _data = card_game_pb.Ready_C2S.deserializeBinary(_bytesData);\n            _data = &#123;\n                seatNumber: _data.getSeatNumber()\n            &#125;\n            if (_this.ready_C2S) _this.ready_C2S(_data);\n            break;\n        case card_game_pb.Cmd.PLAYCARDS_C2S:\n            _data = card_game_pb.PlayCards_C2S.deserializeBinary(_bytesData);\n            _data = &#123;\n                cards: _data.getCardsList(),\n                seatNumber: _data.getSeatNumber()\n            &#125;\n            if (_this.playCards_C2S) _this.playCards_C2S(_data);\n            break;\n        case card_game_pb.Cmd.COMPETEFORLANDLORDROLE_C2S:\n            _data = card_game_pb.CompeteForLandLordRole_C2S.deserializeBinary(_bytesData);\n            _data = &#123;\n                score: _data.getScore(),\n                seatNumber: _data.getSeatNumber()\n            &#125;\n            if (_this.competeForLandLordRole_C2S) _this.competeForLandLordRole_C2S(_data);\n            break;\n        default:\n            console.log(&quot;no message matched.&quot;)\n    &#125;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cblockquote>\u003Cp>Caution:\u003C/p>\n\u003Col>\u003Cli>Attributes defined as \u003Cstrong>seat_number\u003C/strong> in \u003Ccode>.proto\u003C/code> file should be\ncall like getSeatNumber and setSeatNumebr.\u003C/li>\n\u003Cli>Attributes defined as \u003Cstrong>repeated\u003C/strong> type in \u003Ccode>.proto\u003C/code> should call\ngetAttributeNameList and setAttributeList instead of the attribute self\nname.\u003C/li>\u003C/ol>\u003C/blockquote>","3 min read"],"uses":{"url":1}},null]}
