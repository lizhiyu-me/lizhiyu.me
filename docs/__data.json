{"type":"data","nodes":[null,null,{"type":"data","data":[{"features":1,"posts":38},[2,9,19,23,30,34],{"name":3,"description":4,"image":5,"tags":6},"Markdown Support","Blog posts are written in Markdown, a simple and nearly-universal format. This means you can bring over your posts from other platforms, and easily export to another if you want to.","images/features/markdown.jpg",[7],{"label":8},"Powered by MDsveX",{"name":10,"description":11,"image":12,"tags":13},"Themeable","You can easily theme the entire website by changing just a few colors in the _themes.scss file.","images/features/themeable.jpg",[14,16],{"label":15},"Primary Color",{"label":17,"color":18},"Secondary Color","secondary",{"name":20,"description":21,"image":22},"Extensible","Components are built to be reused, and you can build new pages and layouts without much CSS knowledge. You can see all components in Histoire by running \"npm run story:dev\"","images/features/extensible.jpg",{"name":24,"description":25,"image":26,"tags":27},"Well Optimized","Images are automatically optimized and lazy loaded, to ensure the website loads as fast as possible regardless of connection speed.","images/features/optimized.jpg",[28],{"label":29},"Powered by Image Transmutation",{"name":31,"description":32,"image":33},"Light and Dark Modes","This template was built with dark mode in mind. It can swap between themes automatically (based on system settings) or manually. Both themes can be tweaked in the _themes.scss file.","images/features/light-dark.jpg",{"name":35,"description":36,"image":37},"Open Source","All code is open source, which means you can copy and modify it to your heart's content. All I ask is that you make your code open too so that knowledge can be passed on.","images/features/open-source.jpg",[39,71,76,86],{"title":40,"slug":41,"coverImage":42,"date":43,"excerpt":44,"tags":44,"html":45,"readingTime":46,"relatedPosts":47},"熟悉熟悉官方文档，逐步深入Babylon.js","babylon-trans-2","/images/posts/blog-posts.jpg","2021-09-08T21:55:15.361Z",null,"\u003Ch3 id=\"文档的组织结构\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#文档的组织结构\">\u003Cspan>#\u003C/span>\u003C/a>文档的组织结构\u003C/h3>\n\u003Chr>\n\u003Cp>通过前一篇文章的了解，我们会对Babylon.js有了一个大致的了解，整个文档主要是想带你逐步深入掌握这个Babylon.js所提供的所有内容。\n内容主要分为一个概览和9个主要部分，这些部分包含章节，还有API详解和强大的文档和playground搜索功能。\u003C/p>\n\u003Cp>- 1.Babylon.js特性 -\nBabylon.js是一个功能完备的游戏和渲染引擎，具有广泛的特性。这个部分将带你了解这些特性，并帮助你编码和使用它们。\\\n- 2.将Babylon.js添加到你的Web项目中 -\n有多种方式可以在你的web应用中使用Babylon.js并设置Babylon.js项目。通过这个部分内容，你能了解到如何轻松地将Babylon.js融入自己的项目，并打造出别具一格的产品，并且还为你提供一些项目模板和支持。\\\n- 3.Playground -\n对Babylon.js的核心资源进行详细的查看，了解如何使用它以及它所提供的许多功能设施，包括搜索所有playground以查找其他人所做的示例（这一点真心觉得很棒）。\\\n- 4.工具和资源 -\nBabylon.js有许多令人难以置信的工具，使开发过程简单而愉快。它还有几个内容库供你完全免费使用。这个部分将帮助你理解并利用他们。\\\n- 5.为Babylon.js准备素材 -\n从模型和动画，到纹理，LUTS和HDR图像，在这个部分学习准备Babylon.js内容的工作流和方法。\\\n- 6.Babylon.js跨平台 -\n在这个部分，你将学习如何扩展Babylon.js，并使用它开发几乎任何你能想象的平台的原生应用。\\\n- 7.贡献 -\n对于那些想要扩展Babylon.js边界的人，这个部分描述了需要什么以及如何为Babylon.js的代码库和文档做出贡献。\\\n- 8.引导式学习 -\n有时候边做边学是最好的。这个部分帮助你做到这一点。这些逐步的文章和教程将帮助你从社区的一些最好和最聪明的老师那里学习（babylon.js\n社区的维护者似乎是真的闲，有时候很简单甚至看起来有些幼稚的问题都会得到很详细的回答，这一点是真的佩服）。\\\n-9.社区扩展 -\n在这个部分，你将找到由极其有才华和热情的社区构建的对Babylon.js的令人难以置信的资源和扩展。\u003C/p>\n\u003Ch3 id=\"如何去使用文档\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#如何去使用文档\">\u003Cspan>#\u003C/span>\u003C/a>如何去使用文档\u003C/h3>\n\u003Chr>\n\u003Cp>Babylon.js是一个丰富的API，希望尽可能简单地利用GPU的强大功能来提升浏览器的上网体验。你可以通过用javascript或typescript编写Babylon.js场景代码来利用这个强大的API。为了保持一致性并最大化文档的可访问性，这些页面中找到的所有示例代码都将用javascript提供。\u003C/p>\n\u003Cp>文档页面布局有几个特性，你需要了解这些特性，以便在学习旅程中获得最大的收益。\n首先，最左边的面板是导航窗格。这个窗格是你导航到想去的地方的方式。\u003C/p>\n\u003Cp>![Navigation Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home1.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home1.jpg\u003C/a> align=“left”)\u003C/p>\n\u003Cp>接下来是内容窗格。它位于中间，包含主要的内容和信息。\u003C/p>\n\u003Cp>![Content Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home2.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home2.jpg\u003C/a> align=“left”)\u003C/p>\n\u003Cp>一些页面有很多信息，这些信息被组织成子部分。目录窗格使得在较长的页面中导航变得容易。\u003C/p>\n\u003Cp>![Table of Contents](\u003Ca href=\"https://doc.babylonjs.com/img/home/home4.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home4.jpg\u003C/a> align=“left”)\u003C/p>\n\u003Cp>右边的面板是示例窗格。它提供了对当前页面上每个playground（实时示例）的快速访问。\u003C/p>\n\u003Cp>![Examples Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home3.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home3.jpg\u003C/a> align=“left”)\u003C/p>\n\u003Cp>最后，如果你在示例窗格中选择任何一个示例，它将在页面内容顶部的playground窗格内加载该示例。\u003C/p>\n\u003Cp>![Examples Pane](\u003Ca href=\"https://doc.babylonjs.com/img/home/home5.jpg\" rel=\"nofollow\">https://doc.babylonjs.com/img/home/home5.jpg\u003C/a> align=“left”)\u003C/p>\n\u003Ch3 id=\"关于版本控制的说明\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#关于版本控制的说明\">\u003Cspan>#\u003C/span>\u003C/a>关于版本控制的说明\u003C/h3>\n\u003Chr>\n\u003Cp>Babylon.js文档是以Babylon.js的最新主版本为参考编写的。\u003Ca href=\"https://doc.babylonjs.com/typedoc\" rel=\"nofollow\">API 文档\u003C/a>是针对最新的每日构建生成的。\u003C/p>\n\u003Cp>如果你想使用最新版本在本地安装Babylon.js，请从\u003Ca href=\"https://www.npmjs.com/package/@babylonjs/core\" rel=\"nofollow\">npm页面\u003C/a>选择最新的发布版本，然后运行：\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">npm i @babylonjs/core@preview\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>不要对使用最新版本感到害怕。Babylon的npm发布版本被认为是稳定的，并且已经过团队的全面测试。\u003C/p>","6 min read",[48,54,63],{"title":49,"slug":50,"coverImage":42,"date":51,"excerpt":44,"tags":44,"html":52,"readingTime":53},"从零开始，与BabylonJS一起，开启你的Web3D之旅吧","babylon-trans-1","2021-08-31T21:55:15.361Z","\u003Ch2 id=\"从零开始与babylonjs一起开启你的web3d之旅吧\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#从零开始与babylonjs一起开启你的web3d之旅吧\">\u003Cspan>#\u003C/span>\u003C/a>从零开始，与BabylonJS一起，开启你的Web3D之旅吧\u003C/h2>\n\u003Cp>![Screen Shot 2022-07-22 at 00.33.32.png](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1658421252897/Jwqbfh4sf.png\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421252897/Jwqbfh4sf.png\u003C/a> align=“left”)\u003C/p>\n\u003Cblockquote>\u003Cp>欢迎来到 BabylonJS 零基础教程，本教程为萌新导向。无论你是Web开发的专家，富有想象力的设计师，还是充满好奇心的学生，只要你对3D相关的内容感兴趣。本教程都是你学习BabylonJS的绝佳开始，我们强烈建议每一个BabylonJS的初学者都从本教程开始学习。\u003C/p>\u003C/blockquote>\n\u003Cp>本教程将与你一起，在浏览器上打造一个BabylonJS的小项目。你将了解到BabylonJS的演习场（playground），从最基础的引擎核心开始，完成一个可供发布的.html网页文件。\u003C/p>\n\u003Ch3 id=\"演习场playground\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#演习场playground\">\u003Cspan>#\u003C/span>\u003C/a>演习场（playground）\u003C/h3>\n\u003Cp>演习场是你开发BabylonJS程序最重要的工具，注意，没有之一。\u003C/p>\n\u003Cp>![playground.jpeg](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1658421347293/kOkoHCp2b.jpeg\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421347293/kOkoHCp2b.jpeg\u003C/a> align=“left”)\u003C/p>\n\u003Cp>在演习场中，你可以随时随地实践你的想法，打造你的实验项目。将代码写入左侧的类似VS Code的编辑界面中，在右侧就能立马运行显示结果。\u003C/p>\n\u003Cp>演习场将是你学习旅途中的贴心小伙伴，因为它提供了全宇宙最科学的循环学习体系，输入代码-&gt;察看结果，让你在反复实践中找到感觉。除此之外，还有一点十分重要，你可以随时保存或分享演习场的内容。这在你学习的过程中遇到问题时变得十分有用，你可以通过\u003Ca href=\"https://forum.babylonjs.com/\" rel=\"nofollow\">Babylon.js 论坛\u003C/a>寻求帮助，官方的开发者和社区工作人员随时为你效劳。\u003C/p>\n\u003Cp>当我们在帮助你解决问题的时候，最好的方法就是你能将问题通过演练场分享出来，这样一来，我们就能快速地定位到问题的关键所在。所以，只要你遇到任何问题，保存你的演练场，分享到论坛。你一定会被我们迅雷不及掩耳的回复速度所震撼。\u003C/p>\n\u003Cp>说了这么多，既然演练场这重要，我们就来实操一下吧。\u003C/p>\n\u003Cp>新建一个页面打开下方链接：\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/\" rel=\"nofollow\">Babylon.js Playground\u003C/a>\u003C/p>\n\u003Ch3 id=\"创建你的第一个场景\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#创建你的第一个场景\">\u003Cspan>#\u003C/span>\u003C/a>创建你的第一个场景\u003C/h3>\n\u003Cp>欢迎来到演习场，你只需要在左边修改/创建代码，就能在右边窗口看见实时运行结果。下面是我们为你提供的一个默认模版场景。快速地瞄一眼代码编辑窗口的绿色注释文字，这些文字会告诉你每一行代码的作用，贴心吧？\u003C/p>\n\u003Cp>最好的学习方法就是在敲代码，边敲边学，边学边敲。\u003C/p>\n\u003Cp>来让我们来尝试给这个默认场景做些调整。\u003C/p>\n\u003Cp>20-24行代码：\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token comment\">// Our built-in 'sphere' shape. //引擎内建的球体。\u003C/span>\n\u003Cspan class=\"token keyword\">var\u003C/span> sphere \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>MeshBuilder\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">CreateSphere\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"sphere\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">&#123;\u003C/span>diameter\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> segments\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">32\u003C/span>\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Move the sphere upward 1/2 its height //将球体移动到它一半高度的位置,上面创建直径设置的是2，所以这里设置位置的y属性指为1\u003C/span>\nsphere\u003Cspan class=\"token punctuation\">.\u003C/span>position\u003Cspan class=\"token punctuation\">.\u003C/span>y \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>选中这几行代码，删掉它！\u003C/p>\n\u003Cp>你已经做出了第一个改动！\u003C/p>\n\u003Cp>感觉还不错吧？\u003C/p>\n\u003Cp>但…等一下，场景当中怎么没有发生任何事情？\u003C/p>\n\u003Cp>因为我们需要在修改了代码之后，需要重新启动演练场才能看到变更结果。\u003C/p>\n\u003Cp>你可以点击启动按钮\u003C/p>\n\u003Cp>![run.jpeg](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1658421373423/9YF1Zc_hY.jpeg\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1658421373423/9YF1Zc_hY.jpeg\u003C/a> align=“left”)\u003C/p>\n\u003Cp>，也可以按组合键\u003Ccode>ALT+ENTER\u003C/code>\u003C/p>\n\u003Cp>场景中的这个球不见了，神奇吧！\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9\" rel=\"nofollow\">点击查看Playground结果\u003C/a>\u003C/p>\n\u003Cblockquote>\u003Cp>如果你遇到任何问题，可以通过打开链接，对比自己的代码来查找错误\u003C/p>\u003C/blockquote>\n\u003Cp>让我们来做一点别的改动。\u003C/p>\n\u003Cp>找到创建地面的代码所在的行，在下面加上如下代码：\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token keyword\">let\u003C/span> groundMaterial \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">StandardMaterial\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Ground Material\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nground\u003Cspan class=\"token punctuation\">.\u003C/span>material \u003Cspan class=\"token operator\">=\u003C/span> groundMaterial\u003Cspan class=\"token punctuation\">;\u003C/span>\nground\u003Cspan class=\"token punctuation\">.\u003C/span>material\u003Cspan class=\"token punctuation\">.\u003C/span>diffuseColor \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Color3\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Red\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>再此运行（按组合键ALT+ENTER 或 点击播放按钮）\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9#1\" rel=\"nofollow\">点击查看Playground结果\u003C/a>\u003C/p>\n\u003Cp>恭喜！你成功创建了一个新的材质，并将材质赋值给了地面，还将材质的漫反射通道设置为红色！\u003C/p>\n\u003Cp>很简单吧？如果你还有点懵也没关系，在这里我们需要知道的就是在左边输入代码，在右边察看结果😀\u003C/p>\n\u003Cp>接下来，让我们来再做第一小改动。\u003C/p>\n\u003Cp>找到这一行代码：\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">ground\u003Cspan class=\"token punctuation\">.\u003C/span>material\u003Cspan class=\"token punctuation\">.\u003C/span>diffuseColor \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>Color3\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Red\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>用下面两行代码替换掉它：\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token keyword\">let\u003C/span> groundTexture \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Texture\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>Assets\u003Cspan class=\"token punctuation\">.\u003C/span>textures\u003Cspan class=\"token punctuation\">.\u003C/span>checkerboard_basecolor_png\u003Cspan class=\"token punctuation\">.\u003C/span>rootUrl\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nground\u003Cspan class=\"token punctuation\">.\u003C/span>material\u003Cspan class=\"token punctuation\">.\u003C/span>diffuseTexture \u003Cspan class=\"token operator\">=\u003C/span> groundTexture\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9#2\" rel=\"nofollow\">点击查看Playground结果\u003C/a>\u003C/p>\n\u003Cp>恭喜+1！你创建了你的第一个Texture并赋值给了地面材质。\u003C/p>\n\u003Cp>让我们继续，在你所有创建和设置地面相关的代码后面，敲几个回车，留出点空隙来展示演习场提供给我们的大杀器—提示模板。\u003C/p>\n\u003Cp>输入\u003Ccode>import\u003C/code> 你将看到界面上生成了一个列表，列表里边是代码片段，每一个片段都是一个小的功能实现。\u003C/p>\n\u003Cp>让我们选择 \u003Ccode>Import a Mesh w/Callback\u003C/code> ，再按下回车。\u003C/p>\n\u003Cp>如下代码将立即出现在你的输入框里：\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>SceneLoader\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">ImportMesh\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"meshName\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"url to the mesh parent directory\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"Mesh filename.fileextension\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> scene\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>newMeshes\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">&#123;\u003C/span>\n\n\u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>我们需要在模版代码的基础上做一些小小的润色：\u003C/p>\n\u003Cul>\u003Cli>\u003Cp>1.删掉\u003Ccode>meshName\u003C/code>,注意需要保留引号。\u003C/p>\u003C/li>\n\u003Cli>\u003Cp>2.将\u003Ccode>&quot;url to the mesh parent directory&quot;\u003C/code>（包括双引号） 替换为\u003Ccode>Assets.meshes.Yeti.rootUrl\u003C/code>\u003C/p>\u003C/li>\n\u003Cli>\u003Cp>3.将”Mesh filename.fileextension” （包括双引号）替换为\u003Ccode>Assets.meshes.Yeti.filename\u003C/code>\u003C/p>\u003C/li>\n\u003Cli>\u003Cp>4.在\u003Ccode>BABYLON.SceneLoader.ImportMesh\u003C/code> 这一行下面，在\u003Ccode>&quot;});&quot;\u003C/code>之前，输入：\u003C/p>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">newMeshes\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>scaling \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">BABYLON\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Vector3\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0.1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0.1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0.1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>5.运行\u003C/p>\n\u003Cp>\u003Ca href=\"https://playground.babylonjs.com/#2KRNG9#3\" rel=\"nofollow\">点击查看Playground结果\u003C/a>\u003C/p>\u003C/li>\u003C/ul>\n\u003Cp>恭喜+1！你成功创建了一个.gltf格式的动画模型，并调整了它的缩放比例来适配地面。\u003C/p>\n\u003Cp>最后，让我们把创建好的场景动起来，让他跟随我们的鼠标滑动而调整镜头显示内容。\u003C/p>\n\u003Cp>删除5-9行的代码，输入createarc，在提示代码模版列表中选择 \u003Ccode>Create An Arc Rotate Camera w/Degree\u003C/code>。\u003C/p>\n\u003Cp>再次运行，按住鼠标拖动或者触摸拖动场景，相机的视角就会跟随你的拖动和滑动变化啦。\u003C/p>\n\u003Cblockquote>\u003Cp>本篇为翻译BabylonJS官方教程的开始,后续将陆续更新相关系列文章\u003C/p>\u003C/blockquote>\n\u003Cp>\u003Ca href=\"https://doc.babylonjs.com/journey/theFirstStep\" rel=\"nofollow\">原文链接\u003C/a>\u003C/p>","8 min read",{"title":55,"slug":56,"coverImage":42,"date":57,"excerpt":58,"tags":59,"html":61,"readingTime":62},"How Blog Posts Work","blog-posts","1997-04-22T21:55:15.361Z","How to manage existing blog posts and create new ones",[60],"Documentation","\u003Cp>All blog posts are located inside the \u003Ccode>src/routes/(blog-article)\u003C/code> folder. Each folder inside it represents a blog post, and each folder has a \u003Ccode>+page.md\u003C/code> file, which is the file that contains the post’s content.\u003C/p>\n\u003Cp>This way, the URL for each blog post is generated with the folder’s name. For example, the folder \u003Ccode>src/routes/(blog-article)/how-blog-posts-work\u003C/code> will generate the URL \u003Ccode>https://mysite.com/how-blog-posts-work\u003C/code>.\u003C/p>\n\u003Cp>All posts are Markdown files, which means you can use the \u003Ca href=\"https://www.markdownguide.org/basic-syntax\" rel=\"nofollow\">Markdown syntax\u003C/a> in them, and it will work out of the box. However, since this projects uses \u003Ca href=\"https://mdsvex.pngwn.io/\" rel=\"nofollow\">MDsveX\u003C/a> to parse Markdown, you can also use Svelte components inside them! This means that the components used in other pages can also be used in blog posts.\u003C/p>\n\u003Cdiv class=\"callout-block info svelte-sxx0n0\">\u003Cdiv class=\"icon-wrapper svelte-sxx0n0\">\u003Csvg width=\"100%\" height=\"100%\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\u003Cpath d=\"M12 11.5V16.5\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\u003C/path>\u003Cpath d=\"M12 7.51L12.01 7.49889\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\u003C/path>\u003Cpath d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\u003C/path>\u003C/svg>\u003C/div>\n\tThis is a Svelte component inside a Markdown file!\n\n\u003C/div>\n\u003Ch2 id=\"processing\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#processing\">\u003Cspan>#\u003C/span>\u003C/a>Processing\u003C/h2>\n\u003Cp>Besides the blog post page itself, the blog posts can be displayed in other places, such as the \u003Ccode>/blog\u003C/code> page, which lists all blog posts, and the \u003Ccode>&lt;RecentPosts&gt;\u003C/code> component, used in the home page.\u003C/p>\n\u003Cp>To be able to do that, posts are processed in the \u003Ccode>src/lib/data/blog-posts/index.ts\u003C/code> file. That file imports the blog post files and processes them, so we’re able to use some of the post’s metadata to list them. For example, we get the post’s title, cover image, and calculate the reading time based on its content, so that information is displayed in the blog post cards in the \u003Ccode>/blog\u003C/code> page.\u003C/p>\n\u003Cp>There is also some basic logic to get related posts based on a post’s tags. The logic should be straightforward enough to modify it to your needs.\u003C/p>\n\u003Ch2 id=\"creating-a-new-post\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#creating-a-new-post\">\u003Cspan>#\u003C/span>\u003C/a>Creating a new post\u003C/h2>\n\u003Cp>To create a new post, create a new folder inside the \u003Ccode>src/routes/(blog-article)\u003C/code> folder, and inside it, create a \u003Ccode>+page.md\u003C/code> file. The folder name will be used as the post’s URL slug, so make sure it’s a valid URL slug.\u003C/p>\n\u003Cp>Inside the \u003Ccode>+page.md\u003C/code> file, you must start with the front matter, which is a YAML-like syntax that is used to define metadata for the post. The front matter must be the first thing in the file, and must be separated from the rest of the content by three dashes (\u003Ccode>---\u003C/code>). An example of a front matter is:\u003C/p>\n\u003Cdiv class=\"code-block svelte-1pkpsrg\">\n\t\u003Cdiv class=\"lang svelte-1pkpsrg\">markdown\u003C/div>\n\t\u003Cpre class=\"language-md\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-md\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">slug: my-new-blog-post\ntitle: My New Blog Post\ndate: 2023-04-22T20:45:25.350Z\nexcerpt: A short description of the post\ncoverImage: /images/posts/cover-image.jpg\ntags:\n  - Example\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003C/div>\n\u003Ch2 id=\"managing-blog-posts\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#managing-blog-posts\">\u003Cspan>#\u003C/span>\u003C/a>Managing blog posts\u003C/h2>\n\u003Cp>I highly recommend the \u003Ca href=\"https://frontmatter.codes/\" rel=\"nofollow\">Front Matter VS Code extension\u003C/a> to manage blog posts. It gives you a nice CMS-like UI to manage the front matter of all blog posts, as well as a preview of their content. It is, of course, optional, and you can manage everything directly in the Markdown files if you prefer.\u003C/p>\n\u003Cimg srcset=\"/images/posts/frontmatter-preview-dashboard.avif, /images/posts/frontmatter-preview-dashboard.webp, /images/posts/frontmatter-preview-dashboard.png\" src=\"/images/posts/frontmatter-preview-dashboard.png\" alt=\"Screenshot of the Front Matter VS Code extension, showing the dashboard with all posts\" loading=\"lazy\" decoding=\"async\" class=\"svelte-1ykl0dj full-bleed\">\n\u003Cimg srcset=\"/images/posts/frontmatter-preview-edit.avif, /images/posts/frontmatter-preview-edit.webp, /images/posts/frontmatter-preview-edit.png\" src=\"/images/posts/frontmatter-preview-edit.png\" alt=\"Screenshot of the Front Matter VS Code extension, showing the post editing UI\" loading=\"lazy\" decoding=\"async\" class=\"svelte-1ykl0dj full-bleed\">\n\u003Ch2 id=\"rss\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#rss\">\u003Cspan>#\u003C/span>\u003C/a>RSS\u003C/h2>\n\u003Cp>This template automatically generates a RSS feed of your blog posts. It is generated in the \u003Ccode>src/routes/rss.xml/+server.ts\u003C/code> file, and it is available at the \u003Ccode>/rss.xml\u003C/code> URL.\u003C/p>","3 min read",{"title":64,"slug":65,"coverImage":42,"date":66,"excerpt":67,"tags":68,"html":70,"readingTime":62},"Make a multiplayer card game - Episode 3","change-json-to-protocol-buffers-e3","2021-02-22T21:55:15.361Z","Change JSON to Protocol Buffers",[69],"Tutorial:Make a multiplayer card game","\u003Ch2 id=\"make-a-multiplayer-card-game---episode-3--change-json-to-protocol-buffers\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#make-a-multiplayer-card-game---episode-3--change-json-to-protocol-buffers\">\u003Cspan>#\u003C/span>\u003C/a>Make a multiplayer card game - Episode 3 | Change JSON to Protocol Buffers\u003C/h2>\n\u003Cblockquote>\u003Cp>Protocol buffers are a language-neutral, platform-neutral extensible mechanism\nfor serializing structured data. It has many advantages such as “Lesser in\nSize and Better in Performance”, like this article\n\u003Ca href=\"https://anuragthakur.hashnode.dev/protobuf-why-google-moved-from-json-to-protocol-buffers-ckdxb8sgi03kdjas17ril3fbi\" rel=\"nofollow\">Why Google moved from JSON to Protocol Buffers?\u003C/a>\nintroduce.\u003C/p>\u003C/blockquote>\n\u003Cp>I used it on all the projects I’ve worked on over the years. Besides the better\nperformance, what make me impressed is that the clean communication between\nclient and server with protocol buffers.\u003C/p>\n\u003Cblockquote>\u003Cp>You can clone\n\u003Ca href=\"https://github.com/lizhiyu-me/Make-a-multiplayer-card-game/tree/episode3\" rel=\"nofollow\">demo for episode3\u003C/a>\nwhich including all the bellow content.\u003C/p>\u003C/blockquote>\n\u003Cp>According to the\n\u003Ca href=\"https://github.com/protocolbuffers/protobuf\" rel=\"nofollow\">official tutorial\u003C/a>, two steps\nshould be done:\u003C/p>\n\u003Col>\u003Cli>Install the runtime library \u003Ccode>google-protobuf\u003C/code>:\u003Ccode>npm install\ngoogle-protobuf\u003C/code>.\u003C/li>\n\u003Cli>Get the Protocol Compiler \u003Ccode>protoc\u003C/code>: download from\n\u003Ca href=\"https://github.com/protocolbuffers/protobuf/releases\" rel=\"nofollow\">https://github.com/protocolbuffers/protobuf/releases\u003C/a>\u003C/li>\u003C/ol>\n\u003Cp>Then run a command like \u003Ccode>protoc —js_out=import_style=commonjs,binary:.\nmessages.proto base.proto\u003C/code>, you can get the \u003Ccode>.js\u003C/code> file from\u003C/p>\n\u003Ccode>.proto\u003C/code>.\n\u003Cp>When the \u003Ccode>.js\u003C/code> file generated, the protocol buffers environment is\nready.\u003C/p>\n\u003Cp>Back to our game, we should create a \u003Ccode>.proto\u003C/code> file, named\u003C/p>\n\u003Ccode>card-game.proto\u003C/code>.\n\u003Cp>The first line in \u003Ccode>.proto\u003C/code> file should be:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">syntax = &quot;proto3&quot;;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>which means which version of Protobuf we are using.\u003C/p>\n\u003Cp>Define the enum of Cmd:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">enum Cmd&#123;\n    NONE = 0;\n    READY_C2S = 1;\n    DEALCARDS_S2C = 2;\n    COMPETEFORLANDLORDROLE_C2S = 3;\n    PLAYTURN_S2C = 4;\n    PLAYCARDS_C2S = 5;\n    PLAYCARDS_S2C = 6;\n    ILLEGALCARDS_S2C = 7;\n    GAMEEND_S2C = 8;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>enum Cmd is for routing, will be introduced later.\u003C/p>\n\u003Cp>Define MainMessage message:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">message MainMessage&#123;\n    uint32 cmd_id = 1;\n    bytes data =2;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>In order to encapsulate the header and data body, we should assign serialized\nmessage to the data attribute.\u003C/p>\n\u003Cp>Define data message like:\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">message DealCards_S2C&#123;\n    repeated uint32 cards = 1;\n    uint32 seat_number = 2;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>Then, generate our own \u003Ccode>.js\u003C/code> file.\u003C/p>\n\u003Cp>As the episode3 demo show, run command bellow in directory proto.\u003C/p>\n\u003Cul>\u003Cli>\u003Cp>Windows\u003C/p>\n\u003Ccode>.\\protoc.exe --js_out=import_style=commonjs,binary:out\ncard-game.proto\u003C/code>\u003C/li>\n\u003Cli>\u003Cp>MacOS\u003C/p>\n\u003Ccode>./protoc --js_out=import_style=commonjs,binary:out\ncard-game.proto\u003C/code>\u003C/li>\u003C/ul>\n\u003Cp>Now, we have our own \u003Ccode>.js\u003C/code> file from the \u003Ccode>.proto\u003C/code> in which\nwe define message.\u003C/p>\n\u003Cp>Let’s encoding and decoding message with protocol buffers.\u003C/p>\n\u003Cp>Encoding: &gt;enum Cmd is used to map message type here\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">function encodeData(cmd, data) &#123;\n    let _proto_struct_obj;\n    switch (cmd) &#123;\n        case card_game_pb.Cmd.DEALCARDS_S2C:\n            _proto_struct_obj = new card_game_pb.DealCards_S2C();\n            _proto_struct_obj.setCardsList(data.cards);\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.PLAYCARDS_S2C:\n            _proto_struct_obj = new card_game_pb.PlayCards_S2C();\n            _proto_struct_obj.setCardsList(data.cards);\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.ILLEGALCARDS_S2C:\n            _proto_struct_obj = new card_game_pb.IllegalCards_S2C();\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.GAMEEND_S2C:\n            _proto_struct_obj = new card_game_pb.GameEnd_S2C();\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        case card_game_pb.Cmd.PLAYTURN_S2C:\n            _proto_struct_obj = new card_game_pb.PlayTurn_S2C();\n            _proto_struct_obj.setHandCardsList(data.handCards);\n            _proto_struct_obj.setSeatNumber(data.seatNumber);\n            break;\n        default:\n            console.log(&quot;no message matched.&quot;)\n    &#125;\n    if (_proto_struct_obj) &#123;\n        let _mainMsg = new card_game_pb.MainMessage();\n        _mainMsg.setCmdId(cmd);\n        let _data = _proto_struct_obj.serializeBinary();\n        _mainMsg.setData(_data);\n        let _completeData = _mainMsg.serializeBinary();\n        return _completeData;\n    &#125;\n    return null;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>Decoding: &gt;enum Cmd is used to map message type here\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">function decodeData(buffer) &#123;\n    let _mainMsg = card_game_pb.MainMessage.deserializeBinary(buffer);\n    let _cmd = _mainMsg.getCmdId();\n    let _bytesData = _mainMsg.getData();\n    let _data;\n    switch (_cmd) &#123;\n        case card_game_pb.Cmd.READY_C2S:\n            _data = card_game_pb.Ready_C2S.deserializeBinary(_bytesData);\n            _data = &#123;\n                seatNumber: _data.getSeatNumber()\n            &#125;\n            if (_this.ready_C2S) _this.ready_C2S(_data);\n            break;\n        case card_game_pb.Cmd.PLAYCARDS_C2S:\n            _data = card_game_pb.PlayCards_C2S.deserializeBinary(_bytesData);\n            _data = &#123;\n                cards: _data.getCardsList(),\n                seatNumber: _data.getSeatNumber()\n            &#125;\n            if (_this.playCards_C2S) _this.playCards_C2S(_data);\n            break;\n        case card_game_pb.Cmd.COMPETEFORLANDLORDROLE_C2S:\n            _data = card_game_pb.CompeteForLandLordRole_C2S.deserializeBinary(_bytesData);\n            _data = &#123;\n                score: _data.getScore(),\n                seatNumber: _data.getSeatNumber()\n            &#125;\n            if (_this.competeForLandLordRole_C2S) _this.competeForLandLordRole_C2S(_data);\n            break;\n        default:\n            console.log(&quot;no message matched.&quot;)\n    &#125;\n&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cblockquote>\u003Cp>Caution:\u003C/p>\n\u003Col>\u003Cli>Attributes defined as \u003Cstrong>seat_number\u003C/strong> in \u003Ccode>.proto\u003C/code> file should be\ncall like getSeatNumber and setSeatNumebr.\u003C/li>\n\u003Cli>Attributes defined as \u003Cstrong>repeated\u003C/strong> type in \u003Ccode>.proto\u003C/code> should call\ngetAttributeNameList and setAttributeList instead of the attribute self\nname.\u003C/li>\u003C/ol>\u003C/blockquote>",{"title":49,"slug":50,"coverImage":42,"date":51,"excerpt":44,"tags":44,"html":52,"readingTime":53,"relatedPosts":72},[73,74,75],{"title":40,"slug":41,"coverImage":42,"date":43,"excerpt":44,"tags":44,"html":45,"readingTime":46},{"title":55,"slug":56,"coverImage":42,"date":57,"excerpt":58,"tags":59,"html":61,"readingTime":62},{"title":64,"slug":65,"coverImage":42,"date":66,"excerpt":67,"tags":68,"html":70,"readingTime":62},{"title":77,"slug":78,"coverImage":42,"date":79,"excerpt":44,"tags":44,"html":80,"readingTime":81,"relatedPosts":82},"Three.js + Typescript + Ammo.js | A Tiny Shooter Game","three-ts-ammo","2021-07-23T21:55:15.361Z","\u003Ch2 id=\"threejs--typescript--ammojs--a-tiny-shooter-game\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#threejs--typescript--ammojs--a-tiny-shooter-game\">\u003Cspan>#\u003C/span>\u003C/a>Three.js + Typescript + Ammo.js | A Tiny Shooter Game\u003C/h2>\n\u003Cp>按照计划，利用Three.js和Ammo.js制作一个物理小游戏.\n通过 学习借鉴以下几个学习资源：\u003C/p>\n\u003Cul>\u003Cli>\u003Ca href=\"https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene\" rel=\"nofollow\">Three.js官方文档\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://space.bilibili.com/1006136755?spm_id_from=333.337.0.0\" rel=\"nofollow\">Orillusion官方\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.bilibili.com/video/BV13Y4y1q7ZE?p=1\" rel=\"nofollow\">MIT 线性代数 1080p高清修复重制\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://en.threejs-university.com/\" rel=\"nofollow\">threejs-university\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://item.jd.com/1210283611.html\" rel=\"nofollow\">《WebGL编程指南》\u003C/a>\u003C/li>\u003C/ul>\n\u003Cp>对3D和Three.js形成了一个初步的认识。\u003C/p>\n\u003Cp>然后，基于\u003Ca href=\"https://github.com/hvidal/WebGL-Shooter\" rel=\"nofollow\">https://github.com/hvidal/WebGL-Shooter\u003C/a>项目，完成了一个类塔防的物理射击游戏。\u003Ca href=\"https://github.com/lizhiyu-me/three-ammo-defense-monster\" rel=\"nofollow\">Github地址\u003C/a>\u003C/p>\n\u003Cp>![QQ图片20220525225341.png](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1653490446005/K7LQBVVSS.png\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1653490446005/K7LQBVVSS.png\u003C/a> align=“left”)\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"关键概念\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#关键概念\">\u003Cspan>#\u003C/span>\u003C/a>关键概念\u003C/h2>\n\u003Ch4 id=\"两个主体世界\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#两个主体世界\">\u003Cspan>#\u003C/span>\u003C/a>两个主体世界\u003C/h4>\n\u003Cul>\u003Cli>Three.js的视图世界 \u003Ccode>THREE.Scene\u003C/code>\u003C/li>\n\u003Cli>Ammo.js的物理世界 \u003Ccode>Ammo.btDiscreteDynamicsWorld\u003C/code>\u003C/li>\u003C/ul>\n\u003Cp>通过设置THREE.Object3D 的userData.physicsBody为Ammo.btRigidBody,即使Three.js的物体添加到物理世界。\u003C/p>\n\u003Cp>每帧更新物理世界的坐标,旋转等各项数据到视图世界，完成位移碰撞的及时调整。\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">for (let i = 0; i &lt; len; i++) &#123;\n\t\t\tvar objThree = this.rigidBodies[i];\n\t\t\tvar motionState = objThree.userData.physicsBody.getMotionState();\n\t\t\tif (motionState) &#123;\n\t\t\t\tmotionState.getWorldTransform(this.tempTransform);\n\n\t\t\t\tlet p = this.tempTransform.getOrigin();\n\t\t\t\tobjThree.position.set(p.x(), p.y(), p.z());\n\n\t\t\t\tlet q = this.tempTransform.getRotation();\n\t\t\t\tobjThree.quaternion.set(q.x(), q.y(), q.z(), q.w());\n\t\t\t&#125;\n\t\t&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Ch3 id=\"基础内容\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#基础内容\">\u003Cspan>#\u003C/span>\u003C/a>基础内容\u003C/h3>\n\u003Cp>－创建Three.js场景\u003C/p>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">        this.renderer = new THREE.WebGLRenderer();\n\t\tthis.renderer.setClearColor(clearColor);\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\n\t\tthis.renderer.setSize(window.innerWidth, window.innerHeight);\n\t\telement.appendChild(this.renderer.domElement);\n\t\tthis.scene = new THREE.Scene();\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cul>\u003Cli>创建Ammo.js物理世界\u003C/li>\u003C/ul>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">        const collisionConfiguration = new Ammo.btDefaultCollisionConfiguration();\n\t\tconst dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration);\n\t\tconst overlappingPairCache = new Ammo.btAxisSweep3(new Ammo.btVector3(-1000, -1000, -1000), new Ammo.btVector3(1000, 1000, 1000));\n\t\tconst solver = new Ammo.btSequentialImpulseConstraintSolver();\n\n\t\tthis.physicsWorld = new Ammo.btDiscreteDynamicsWorld(dispatcher, overlappingPairCache, solver, collisionConfiguration);\n\t\tthis.physicsWorld.setGravity(new Ammo.btVector3(0, -16, 0));\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cul>\u003Cli>射击逻辑\u003C/li>\u003C/ul>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">shoot() &#123;\n\t\tthis.raycaster.setFromCamera(this.screenCenter, this.camera);\n\n\t\tthis.pos.copy(this.raycaster.ray.direction);\n\t\tthis.pos.add(this.raycaster.ray.origin);\n\t\tthis.pos.setZ(this.pos.z - 10);\n\n\t\tconst ball = this.factory.createSphere(this.radius, this.mass, this.pos, this.quat, this.ballMaterial);\n\t\tball.castShadow = true;\n\t\tball.receiveShadow = true;\n\n\t\tconst body = ball.userData.physicsBody;\n\t\tthis.pos.copy(this.raycaster.ray.direction);\n\t\tthis.pos.multiplyScalar(160);\n//调整子弹速度\n\t\tbody.setLinearVelocity(new Ammo.btVector3(this.pos.x, this.pos.y, this.pos.z));\n\t&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Chr>\n\u003Ch3 id=\"增加内容\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#增加内容\">\u003Cspan>#\u003C/span>\u003C/a>增加内容:\u003C/h3>\n\u003Cul>\u003Cli>连击实现\u003C/li>\u003C/ul>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">//鼠标按下之后，间隔时间超过0.2秒即射击一次\nif (isMouseDowning &amp;&amp; duration &gt; 0.2) &#123;\n\t\t\t\tduration = 0;\n\t\t\t\tmouseShooter.shoot();\n\t\t\t&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cul>\u003Cli>计时作为最终的游戏得分\u003C/li>\u003C/ul>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">function recordTotalTime() &#123;\n\t\t\tif (beginTime == 0) &#123;\n\t\t\t\tbeginTime = new Date().getTime();\n\t\t\t&#125; else &#123;\n\t\t\t\tlet _currentTime = new Date().getTime();\n\t\t\t\ttotalTime += (_currentTime - beginTime);\n\t\t\t\tdocument.getElementById(&#39;scoreBar&#39;).innerHTML = Math.floor(totalTime / 1000) + &quot;.&quot; + totalTime % 1000;\n\t\t\t\tbeginTime = _currentTime;\n\t\t\t&#125;\n\t\t&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cul>\u003Cli>游戏结束判断（物体在斜坡底部掉落）\u003C/li>\u003C/ul>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">//斜坡底部的z坐标值计算\nvar edgeZ = Math.cos(groundRotationX) * groundScaleZ / 2;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cpre class=\"language-undefined\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-undefined\">//判断斜坡上的物体的z轴坐标是否大于斜坡底部的z坐标值\n\tprivate checkGameOver(controls, edgeZ): boolean &#123;\n\t\tconst len = this.rigidBodies_slope.length;\n\t\tfor (let i = 0; i &lt; len; i++) &#123;\n\t\t\tvar objThree = this.rigidBodies_slope[i];\n\t\t\tif (objThree.position.z &gt; edgeZ) &#123;\n\t\t\t\tcontrols.enabled = false;\n\t\t\t\tconst message = document.getElementById(&#39;message&#39;);\n\t\t\t\tconst blocker = document.getElementById(&#39;blocker&#39;);\n\t\t\t\tconst gameOver = document.getElementById(&#39;gameOver&#39;);\n\t\t\t\tblocker.style.display = &#39;none&#39;;\n\t\t\t\tmessage.style.display = &#39;none&#39;;\n\t\t\t\tgameOver.style.display = &#39;block&#39;;\n\t\t\t\tlockPointer(controls);\n\t\t\t\tdocument.getElementById(&#39;score&#39;).innerHTML = document.getElementById(&#39;scoreBar&#39;).innerHTML;\n\t\t\t\tthis.isGameOver = true;\n\t\t\t\treturn true;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>没想到用three.js和ammo.js做一个小DEMO会花这么多时间去学习,通过这个学习的过程也了解到了3D和物理相关的知识在广度和深度上都是值得去探索的，后面我也会继续在web3D的方向上继续探索学习。\u003C/p>\n\u003Cp>做难而正确的事情，让正确的事情持续发生。\u003C/p>","4 min read",[83,84,85],{"title":49,"slug":50,"coverImage":42,"date":51,"excerpt":44,"tags":44,"html":52,"readingTime":53},{"title":40,"slug":41,"coverImage":42,"date":43,"excerpt":44,"tags":44,"html":45,"readingTime":46},{"title":55,"slug":56,"coverImage":42,"date":57,"excerpt":58,"tags":59,"html":61,"readingTime":62},{"title":87,"slug":88,"coverImage":42,"date":89,"excerpt":44,"tags":44,"html":90,"readingTime":91,"relatedPosts":92},"Your  Very  First  Start  Of  Three.js","starter-three","2021-07-16T21:55:15.361Z","\u003Ch2 id=\"your--very--first--start--of--threejs\">\u003Ca class=\"heading-link\" title=\"Permalink\" aria-hidden=\"true\" href=\"#your--very--first--start--of--threejs\">\u003Cspan>#\u003C/span>\u003C/a>Your  Very  First  Start  Of  Three.js\u003C/h2>\n\u003Cp>使用Three.js创建一个3D网页一般都会经过以下几个步骤：\u003C/p>\n\u003Cul>\u003Cli>引入three.js库\u003C/li>\n\u003Cli>创建场景\u003C/li>\n\u003Cli>创建相机\u003C/li>\n\u003Cli>设置相机位置\u003C/li>\n\u003Cli>将相机添加到场景\u003C/li>\n\u003Cli>创建几何结构\u003C/li>\n\u003Cli>创建材质\u003C/li>\n\u003Cli>生成3D网格对象\u003C/li>\n\u003Cli>将3D对象添加到场景中\u003C/li>\n\u003Cli>创建渲染器\u003C/li>\n\u003Cli>设置渲染器尺寸\u003C/li>\n\u003Cli>将渲染器DOM节点添加到网页DOM树\u003C/li>\n\u003Cli>执行渲染器渲染方法\u003C/li>\u003C/ul>\n\u003Cpre class=\"language-typescript\">\u003C!-- HTML_TAG_START -->\u003Ccode class=\"language-typescript\">\u003Cspan class=\"token comment\">//引入three.js库\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token operator\">*\u003C/span> \u003Cspan class=\"token keyword\">as\u003C/span> \u003Cspan class=\"token constant\">THREE\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'three'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//创建场景\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> scene \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">THREE\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Scene\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//创建相机\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> camera \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">THREE\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">PerspectiveCamera\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">75\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>innerWidth \u003Cspan class=\"token operator\">/\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>innerHeight\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">.1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">1000\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//设置相机位置\u003C/span>\ncamera\u003Cspan class=\"token punctuation\">.\u003C/span>position\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">set\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//将相机添加到场景\u003C/span>\nscene\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">add\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>camera\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//创建几何结构\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> boxGeometry \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">THREE\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">BoxGeometry\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//创建材质\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> boxMaterial \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">THREE\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">MeshBasicMaterial\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">&#123;\u003C/span> color\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">0x00ff00\u003C/span> \u003Cspan class=\"token punctuation\">&#125;\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//生成3D网格对象\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> boxMesh \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">THREE\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">Mesh\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>boxGeometry\u003Cspan class=\"token punctuation\">,\u003C/span> boxMaterial\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//将3D对象添加到场景中\u003C/span>\nscene\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">add\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>boxMesh\u003Cspan class=\"token punctuation\">)\u003C/span>\n\n\u003Cspan class=\"token comment\">//创建渲染器\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> renderer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token constant\">THREE\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">WebGLRenderer\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//设置渲染器尺寸\u003C/span>\nrenderer\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setSize\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>window\u003Cspan class=\"token punctuation\">.\u003C/span>innerWidth\u003Cspan class=\"token punctuation\">,\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>innerHeight\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">//将渲染器DOM节点添加到网页DOM树\u003C/span>\ndocument\u003Cspan class=\"token punctuation\">.\u003C/span>body\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">appendChild\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>renderer\u003Cspan class=\"token punctuation\">.\u003C/span>domElement\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token comment\">//执行渲染器渲染方法\u003C/span>\nrenderer\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">render\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>scene\u003Cspan class=\"token punctuation\">,\u003C/span> camera\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/code>\u003C!-- HTML_TAG_END -->\u003C/pre>\n\u003Cp>渲染结果：\u003C/p>\n\u003Cp>![Screenshot 2022-08-10 231635.png](\u003Ca href=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1660144621974/4fSB9gMQ1p.png\" rel=\"nofollow\">https://cdn.hashnode.com/res/hashnode/image/upload/v1660144621974/4fSB9gMQ1p.png\u003C/a> align=“left”)\u003C/p>","2 min read",[93,94,95],{"title":49,"slug":50,"coverImage":42,"date":51,"excerpt":44,"tags":44,"html":52,"readingTime":53},{"title":40,"slug":41,"coverImage":42,"date":43,"excerpt":44,"tags":44,"html":45,"readingTime":46},{"title":55,"slug":56,"coverImage":42,"date":57,"excerpt":58,"tags":59,"html":61,"readingTime":62}],"uses":{}}]}
